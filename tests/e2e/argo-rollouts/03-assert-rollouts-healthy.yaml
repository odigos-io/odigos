# Assert that Argo Rollouts remain healthy after instrumentation
# This verifies that Odigos does not break Argo Rollouts functionality
# Rollouts should be in Healthy or Paused phase (not Degraded or Progressing)

apiVersion: argoproj.io/v1alpha1
kind: Rollout
metadata:
  name: python-rollout
  namespace: default
  labels:
    app: python-rollout
    odigos.io/e2e: argo-rollout-test
status:
  # Phase should be Healthy after successful rollout
  phase: Healthy
  replicas: 1
  readyReplicas: 1
  availableReplicas: 1
  updatedReplicas: 1
---
apiVersion: argoproj.io/v1alpha1
kind: Rollout
metadata:
  name: nodejs-rollout
  namespace: default
  labels:
    app: nodejs-rollout
    odigos.io/e2e: argo-rollout-test
status:
  # Phase should be Healthy after successful rollout
  phase: Healthy
  replicas: 1
  readyReplicas: 1
  availableReplicas: 1
  updatedReplicas: 1
---
apiVersion: argoproj.io/v1alpha1
kind: Rollout
metadata:
  name: java-rollout
  namespace: default
  labels:
    app: java-rollout
    odigos.io/e2e: argo-rollout-test
status:
  # Phase should be Healthy after successful rollout
  phase: Healthy
  replicas: 1
  readyReplicas: 1
  availableReplicas: 1
  updatedReplicas: 1

