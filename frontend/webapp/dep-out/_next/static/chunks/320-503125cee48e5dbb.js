(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[320],{6012:function(t,n,i){"use strict";var o=i(6314);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=o(i(4634)),u=o(i(2265)),h=o(i(2101)),f=o(i(8041)),d=u.default.createElement,useErrors=function(t){var n=u.default.useState(null),i=(0,c.default)(n,2),o=i[0],h=i[1];return{cleanErrors:function(){return h(null)},errorRanges:o,markError:function(n){h({position:n.position,message:n.message,snippet:n.snippet}),t(!0)},hasErrors:!!o,error:o}},defaultMerge=function(t){var n=t.text,i=t.currentText;return i?{text:i}:{text:n}},getMergedValue=function(t){var n=t.merge,i=t.json,o=t.text,c=t.currentText;if(!o&&!c&&!i)return"";if(!o&&!i)return c;var u=n({json:i,text:o,currentText:c});if(void 0!==u.text&&"string"==typeof u.text)return u.text;if(u.json)return h.default.dump(u.json);throw Error('merge function should return object with "text" or "json" fields')},m=u.default.forwardRef(function(t,n){var i=t.json,o=t.text,c=t.theme,m=t.onError,g=void 0===m?function(){}:m,v=t.onChange,y=void 0===v?function(){}:v,w=t.onSelect,b=void 0===w?function(){}:w,S=t.onSetCursor,x=void 0===S?function(){}:S,C=t.merge,_=void 0===C?defaultMerge:C,E=u.default.useRef(null),T=useErrors(g),P=i?h.default.dump(i):o,L=u.default.useRef(P),replaceValue=function(t){if(t.json||t.text){var n=t.json?h.default.dump(t.json):t.text;E.current.actionNewDoc({text:n})}},I=u.default.useMemo(function(){return getMergedValue({merge:_,json:i,text:o,currentText:L.current})},[i,o,_]);return u.default.useEffect(function(){I!==L.current&&replaceValue({text:I})},[I]),n&&(n.current={replaceValue:replaceValue}),d(f.default,{value:I,onChange:function(t){try{L.current=t;var n,i=h.default.load(t);T.hasErrors&&(T.cleanErrors(),g(null)),y({json:i,text:t})}catch(t){if(g(t),!(null!==(n=t.mark)&&void 0!==n&&n.snippet)){console.error(t);return}console.error(t.mark.snippet),T.markError({position:t.mark.position,message:t.message,snippet:t.mark.snippet})}},onSelect:function(t){b(t)},onSetCursor:function(t){x(t)},error:T.error,getErrorPos:function(t){try{return h.default.load(t),{}}catch(t){var n;if(!(null!==(n=t.mark)&&void 0!==n&&n.snippet))return{};return{position:t.mark.position}}},options:{handleTabs:!0,theme:c},ref:E})});n.default=m},8041:function(t,n,i){"use strict";var o=i(6314);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=o(i(2265)),u=i(3777),h=i(3955),f=i(1272),d=i(1135),m=i(8892),g=i(4350),v=i(8326),y=i(2452),w=i(2822),b=i(4311),S=c.default.createElement;function _arrayLikeToArray(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,o=Array(n);i<n;i++)o[i]=t[i];return o}var x=g.StateEffect.define(),C=g.StateEffect.define(),_=f.EditorView.theme({".cm-activeLine":{backgroundColor:"#5973bb2e"}}),E=g.StateField.define({create:function(){return d.Decoration.none},update:function(t,n){var i,o=t.map(n.changes),c=function(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,n){if(t){if("string"==typeof t)return _arrayLikeToArray(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);if("Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,n)}}(t))){i&&(t=i);var o=0,F=function(){};return{s:F,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:F}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,u=!0,h=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return u=t.done,t},e:function(t){h=!0,c=t},f:function(){try{u||null==i.return||i.return()}finally{if(h)throw c}}}}(n.effects);try{for(c.s();!(i=c.n()).done;){var u=i.value;u.is(x)&&(o=o.update({add:u.value,sort:!0})),u.is(C)&&(o=o.update({filter:u.value}))}}catch(t){c.e(t)}finally{c.f()}return o},provide:function(t){return f.EditorView.decorations.from(t)}}),T=d.Decoration.mark({attributes:{style:"background-color: rgba(255, 0, 0, 0.5)"}}),P=c.default.forwardRef(function(t,n){var i=t.value,o=void 0===i?"":i,P=t.onChange,L=void 0===P?function(){return null}:P,I=t.onSelect,O=void 0===I?function(){return null}:I,N=t.onSetCursor,B=void 0===N?function(){return null}:N,z=t.error,V=t.options,H=(V=void 0===V?{}:V).theme,U=void 0===H?void 0:H,$=V.handleTabs,q=void 0!==$&&$,G=t.getErrorPos,Z=c.default.useRef(null),Y=c.default.useRef(null),X=c.default.useRef(o),J=c.default.useRef(""),en=c.default.useRef(""),actionReplace=function(t){var n=t.text,i=t.from,o=t.to||i+n.length;Y.current.dispatch({changes:{from:i,to:o,insert:n}})};n.current={actionReplace:actionReplace,actionNewDoc:function(t){var n=t.text,i=Y.current.state.doc.toString(),o=Y.current.state.selection.ranges[0].from,c=i.length;Y.current.dispatch({changes:{from:0,to:c,insert:n},selection:g.EditorSelection.cursor(o)})}};var handleErrors=function(){if(Y.current.dispatch({effects:C.of(function(){return!1})}),null!=z&&z.position){var t=Y.current.state.doc.length,n=(null==z?void 0:z.position)+1<=t-1?z.position:t-1,i=n+1;Y.current.dispatch({effects:x.of([T.range(n,i)])})}},handleChange=function(t){var n,i,o=t.state.doc.toString(),c=(null===(n=t.state)||void 0===n?void 0:null===(i=n.selection)||void 0===i?void 0:i.ranges[0])||{},u=c.from,h=c.to,f=o.slice(u,h),d=u===h?(0,b.getCurrentWord)(o,u):{};f!==J.current&&(J.current=f,O({selected:f,from:u,to:h})),d.word!==en.current&&(en.current=d.word,B(d)),o!==X.current&&(X.current=o,handleErrors(),L(o))},er=(0,v.hoverTooltip)(function(t,n,i){var o;return(null===(o=t.state.field(E))||void 0===o?void 0:o.size)?{pos:n,above:!0,create:function(t){var n=document.createElement("div");return n.style="width: 100px; height: 100px",n.textContent="error",{dom:n}}}:null}),initEditor=function(){var t=[_,f.basicSetup,u.StreamLanguage.define(h.yaml),f.EditorView.updateListener.of(handleChange),q&&d.keymap.of([m.indentWithTab]),E,er,(0,w.errorStripe)(G),(0,y.zebraStripes)(),U].filter(Boolean),n=f.EditorState.create({doc:o,extensions:t});Y.current=new f.EditorView({state:n,parent:null==Z?void 0:Z.current}),window.view=Y.current,window.actionReplace=actionReplace};return c.default.useEffect(function(){if(!Z.current)throw Error("Can't find a mounting point for YamlEditor");return initEditor(),function(){Y.current.destroy()}},[U]),c.default.useEffect(handleErrors),S("div",{ref:Z})});n.default=P},2822:function(t,n,i){"use strict";var o=i(6314);Object.defineProperty(n,"__esModule",{value:!0}),n.errorStripe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return{}};return[m,f.ViewPlugin.fromClass(function(){function _class2(t){(0,c.default)(this,_class2),(0,h.default)(this,"decorations",f.DecorationSet),this.decorations=stripeDeco(t,0)}return(0,u.default)(_class2,[{key:"update",value:function(n){if(n.docChanged||n.viewportChanged){var i=t(n.state.doc.toString()).position;if(!i){this.decorations=stripeDeco(n.view,0);return}this.decorations=stripeDeco(n.view,i)}}}]),_class2}(),{decorations:function(t){return t.decorations}})]};var c=o(i(6358)),u=o(i(1127)),h=o(i(8104)),f=i(1135),d=i(7495),m=f.EditorView.baseTheme({".cm-errorStripe":{backgroundColor:"#ff390040 !important"}}),g=f.Decoration.line({attributes:{class:"cm-errorStripe"}});function stripeDeco(t,n){var i=t.state.doc.lineAt(n),o=new d.RangeSetBuilder;return n&&o.add(i.from,i.from,g),o.finish()}},2452:function(t,n,i){"use strict";var o=i(6314);Object.defineProperty(n,"__esModule",{value:!0}),n.zebraStripes=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return window.stepSize=v,[g,v.of((null==t?void 0:t.step)||2),w]};var c=o(i(6358)),u=o(i(1127)),h=o(i(8104)),f=i(1135),d=i(4350),m=i(7495);function _arrayLikeToArray(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,o=Array(n);i<n;i++)o[i]=t[i];return o}var g=f.EditorView.baseTheme({"&light .cm-zebraStripe":{borderTop:"1px solid #8080804f",borderBottom:"1px solid #8080804f"},"&dark .cm-zebraStripe":{borderTop:"1px solid #8080804f",borderBottom:"1px solid #8080804f"}}),v=d.Facet.define({combine:function(t){return t[0]}}),y=f.Decoration.line({attributes:{class:"cm-zebraStripe"}});function stripeDeco(t){var n,i=t.state.facet(v),o=new m.RangeSetBuilder,c=function(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,n){if(t){if("string"==typeof t)return _arrayLikeToArray(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);if("Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,n)}}(t))){i&&(t=i);var o=0,F=function(){};return{s:F,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:F}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,u=!0,h=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return u=t.done,t},e:function(t){h=!0,c=t},f:function(){try{u||null==i.return||i.return()}finally{if(h)throw c}}}}(t.visibleRanges);try{for(c.s();!(n=c.n()).done;)for(var u=n.value,h=u.from,f=u.to,d=h;d<=f;){var g=t.state.doc.lineAt(d);g.number%i==0&&o.add(g.from,g.from,y),d=g.to+1}}catch(t){c.e(t)}finally{c.f()}return o.finish()}var w=f.ViewPlugin.fromClass(function(){function _class2(t){(0,c.default)(this,_class2),(0,h.default)(this,"decorations",f.DecorationSet),this.decorations=stripeDeco(t)}return(0,u.default)(_class2,[{key:"update",value:function(t){(t.docChanged||t.viewportChanged)&&(this.decorations=stripeDeco(t.view))}}]),_class2}(),{decorations:function(t){return t.decorations}})},5424:function(t,n,i){"use strict";i(6314)(i(6012))},4311:function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getCurrentWord=void 0,n.getCurrentWord=function(t,n){var i=t.slice(0,n).split(/\s|\n/),o=t.slice(n).split(/\s|\n/),c=i[i.length-1],u=o[0],h=n-c.length,f=n+u.length;return{word:"".concat(c).concat(u),from:h,to:f}}},1369:function(t,n,i){"use strict";i.d(n,{qH:function(){return ek},LC:function(){return Me},f6:function(){return Xe},ZP:function(){return ex},F4:function(){return ct},zo:function(){return ex}});var __assign=function(){return(__assign=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++)for(var c in n=arguments[i])Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c]);return t}).apply(this,arguments)};function __spreadArray(t,n,i){if(i||2==arguments.length)for(var o,c=0,u=n.length;c<u;c++)!o&&c in n||(o||(o=Array.prototype.slice.call(n,0,c)),o[c]=n[c]);return t.concat(o||Array.prototype.slice.call(n))}"function"==typeof SuppressedError&&SuppressedError;var o=i(2265),c=i(5733),u=i.n(c),h=i(6985),f=i(7104),d=i(9023),m=i(6638),g=i(7015),v=i(5566),y=void 0!==v&&void 0!==v.env&&(v.env.REACT_APP_SC_ATTR||v.env.SC_ATTR)||"data-styled",w="undefined"!=typeof window&&"HTMLElement"in window,b=!!("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:void 0!==v&&void 0!==v.env&&void 0!==v.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==v.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==v.env.REACT_APP_SC_DISABLE_SPEEDY&&v.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==v&&void 0!==v.env&&void 0!==v.env.SC_DISABLE_SPEEDY&&""!==v.env.SC_DISABLE_SPEEDY&&"false"!==v.env.SC_DISABLE_SPEEDY&&v.env.SC_DISABLE_SPEEDY),S=Object.freeze([]),x=Object.freeze({}),C=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),_=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,E=/(^-|-$)/g;function A(t){return t.replace(_,"-").replace(E,"")}var T=/(a)(d)/gi,D=function(t){return String.fromCharCode(t+(t>25?39:97))};function R(t){var n,i="";for(n=Math.abs(t);n>52;n=n/52|0)i=D(n%52)+i;return(D(n%52)+i).replace(T,"$1-$2")}var P,k=function(t,n){for(var i=n.length;i;)t=33*t^n.charCodeAt(--i);return t},j=function(t){return k(5381,t)};function M(t){return"string"==typeof t}var L="function"==typeof Symbol&&Symbol.for,I=L?Symbol.for("react.memo"):60115,O=L?Symbol.for("react.forward_ref"):60112,N={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},B={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},z={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},V=((P={})[O]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},P[I]=z,P);function W(t){return("type"in t&&t.type.$$typeof)===I?z:"$$typeof"in t?V[t.$$typeof]:N}var H=Object.defineProperty,U=Object.getOwnPropertyNames,$=Object.getOwnPropertySymbols,q=Object.getOwnPropertyDescriptor,G=Object.getPrototypeOf,Z=Object.prototype;function Q(t){return"function"==typeof t}function ee(t){return"object"==typeof t&&"styledComponentId"in t}function te(t,n){return t&&n?"".concat(t," ").concat(n):t||n||""}function ne(t,n){if(0===t.length)return"";for(var i=t[0],o=1;o<t.length;o++)i+=n?n+t[o]:t[o];return i}function oe(t){return null!==t&&"object"==typeof t&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function se(t,n){Object.defineProperty(t,"toString",{value:n})}function ce(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(n.length>0?" Args: ".concat(n.join(", ")):""))}var Y=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,i=0;i<t;i++)n+=this.groupSizes[i];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var i=this.groupSizes,o=i.length,c=o;t>=c;)if((c<<=1)<0)throw ce(16,"".concat(t));this.groupSizes=new Uint32Array(c),this.groupSizes.set(i),this.length=c;for(var u=o;u<c;u++)this.groupSizes[u]=0}for(var h=this.indexOfGroup(t+1),f=(u=0,n.length);u<f;u++)this.tag.insertRule(h,n[u])&&(this.groupSizes[t]++,h++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],i=this.indexOfGroup(t),o=i+n;this.groupSizes[t]=0;for(var c=i;c<o;c++)this.tag.deleteRule(i)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||0===this.groupSizes[t])return n;for(var i=this.groupSizes[t],o=this.indexOfGroup(t),c=o+i,u=o;u<c;u++)n+="".concat(this.tag.getRule(u)).concat("/*!sc*/\n");return n},e}(),X=new Map,J=new Map,en=1,he=function(t){if(X.has(t))return X.get(t);for(;J.has(en);)en++;var n=en++;return X.set(t,n),J.set(n,t),n},fe=function(t,n){X.set(t,n),J.set(n,t)},er="style[".concat(y,"][").concat("data-styled-version",'="').concat("6.0.7",'"]'),ei=new RegExp("^".concat(y,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ve=function(t,n,i){for(var o,c=i.split(","),u=0,h=c.length;u<h;u++)(o=c[u])&&t.registerName(n,o)},ge=function(t,n){for(var i,o=(null!==(i=n.textContent)&&void 0!==i?i:"").split("/*!sc*/\n"),c=[],u=0,h=o.length;u<h;u++){var f=o[u].trim();if(f){var d=f.match(ei);if(d){var m=0|parseInt(d[1],10),g=d[2];0!==m&&(fe(g,m),ve(t,g,d[3]),t.getTag().insertRules(m,c)),c.length=0}else c.push(f)}}},we=function(t){var n,o=document.head,c=t||o,u=document.createElement("style"),h=(n=Array.from(c.querySelectorAll("style[".concat(y,"]"))))[n.length-1],f=void 0!==h?h.nextSibling:null;u.setAttribute(y,"active"),u.setAttribute("data-styled-version","6.0.7");var d=i.nc;return d&&u.setAttribute("nonce",d),c.insertBefore(u,f),u},eo=function(){function e(t){this.element=we(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var n=document.styleSheets,i=0,o=n.length;i<o;i++){var c=n[i];if(c.ownerNode===t)return c}throw ce(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch(t){return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),es=function(){function e(t){this.element=we(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var i=document.createTextNode(n);return this.element.insertBefore(i,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),ea=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),el=w,ec={isServer:!w,useCSSOMInjection:!b},eu=function(){function e(t,n,i){void 0===t&&(t=x),void 0===n&&(n={});var o=this;this.options=__assign(__assign({},ec),t),this.gs=n,this.names=new Map(i),this.server=!!t.isServer,!this.server&&w&&el&&(el=!1,function(t){for(var n=document.querySelectorAll(er),i=0,o=n.length;i<o;i++){var c=n[i];c&&"active"!==c.getAttribute(y)&&(ge(t,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),se(this,function(){return function(t){for(var n=t.getTag(),i=n.length,o="",c=0;c<i;c++)(function(i){var c=J.get(i);if(void 0!==c){var u=t.names.get(c),h=n.getGroup(i);if(void 0!==u&&0!==h.length){var f="".concat(y,".g").concat(i,'[id="').concat(c,'"]'),d="";void 0!==u&&u.forEach(function(t){t.length>0&&(d+="".concat(t,","))}),o+="".concat(h).concat(f,'{content:"').concat(d,'"}').concat("/*!sc*/\n")}}})(c);return o}(o)})}return e.registerId=function(t){return he(t)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(__assign(__assign({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){var t,n,i,o;return this.tag||(this.tag=(i=(n=this.options).useCSSOMInjection,o=n.target,t=n.isServer?new ea(o):i?new eo(o):new es(o),new Y(t)))},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(he(t),this.names.has(t))this.names.get(t).add(n);else{var i=new Set;i.add(n),this.names.set(t,i)}},e.prototype.insertRules=function(t,n,i){this.registerName(t,n),this.getTag().insertRules(he(t),i)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(he(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),eh=/&/g,ef=/^\s*\/\/.*$/gm;function De(t){var n,i,o,c=void 0===t?x:t,u=c.options,g=void 0===u?x:u,v=c.plugins,y=void 0===v?S:v,l=function(t,o,c){return c===i||c.startsWith(i)&&c.endsWith(i)&&c.replaceAll(i,"").length>0?".".concat(n):t},w=y.slice();w.push(function(t){t.type===h.Fr&&t.value.includes("&")&&(t.props[0]=t.props[0].replace(eh,i).replace(o,l))}),g.prefix&&w.push(f.Ji),w.push(d.P);var p=function(t,c,u,h){void 0===c&&(c=""),void 0===u&&(u=""),void 0===h&&(h="&"),n=h,i=c,o=RegExp("\\".concat(i,"\\b"),"g");var v=t.replace(ef,""),y=m.MY(u||c?"".concat(u," ").concat(c," { ").concat(v," }"):v);g.namespace&&(y=function Oe(t,n){return t.map(function(t){return"rule"===t.type&&(t.value="".concat(n," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(n," ")),t.props=t.props.map(function(t){return"".concat(n," ").concat(t)})),Array.isArray(t.children)&&"@keyframes"!==t.type&&(t.children=Oe(t.children,n)),t})}(y,g.namespace));var b=[];return d.q(y,f.qR(w.concat(f.cD(function(t){return b.push(t)})))),b};return p.hash=y.length?y.reduce(function(t,n){return n.name||ce(15),k(t,n.name)},5381).toString():"",p}var ed=new eu,ep=De(),em=o.createContext({shouldForwardProp:void 0,styleSheet:ed,stylis:ep}),eg=(em.Consumer,o.createContext(void 0));function Ve(){return(0,o.useContext)(em)}function Me(t){var n=(0,o.useState)(t.stylisPlugins),i=n[0],c=n[1],h=Ve().styleSheet,f=(0,o.useMemo)(function(){var n=h;return t.sheet?n=t.sheet:t.target&&(n=n.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(n=n.reconstructWithOptions({useCSSOMInjection:!1})),n},[t.disableCSSOMInjection,t.sheet,t.target,h]),d=(0,o.useMemo)(function(){return De({options:{namespace:t.namespace,prefix:t.enableVendorPrefixes},plugins:i})},[t.enableVendorPrefixes,t.namespace,i]);return(0,o.useEffect)(function(){u()(i,t.stylisPlugins)||c(t.stylisPlugins)},[t.stylisPlugins]),o.createElement(em.Provider,{value:{shouldForwardProp:t.shouldForwardProp,styleSheet:f,stylis:d}},o.createElement(eg.Provider,{value:d},t.children))}var ev=function(){function e(t,n){var i=this;this.inject=function(t,n){void 0===n&&(n=ep);var o=i.name+n.hash;t.hasNameForId(i.id,o)||t.insertRules(i.id,o,n(i.rules,o,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,se(this,function(){throw ce(12,String(i.name))})}return e.prototype.getName=function(t){return void 0===t&&(t=ep),this.name+t.hash},e}();function ze(t){for(var n="",i=0;i<t.length;i++){var o=t[i];if(1===i&&"-"===o&&"-"===t[0])return t;o>="A"&&o<="Z"?n+="-"+o.toLowerCase():n+=o}return n.startsWith("ms-")?"-"+n:n}var Be=function(t){return null==t||!1===t||""===t},Le=function(t){var n=[];for(var i in t){var o=t[i];t.hasOwnProperty(i)&&!Be(o)&&(Array.isArray(o)&&o.isCss||Q(o)?n.push("".concat(ze(i),":"),o,";"):oe(o)?n.push.apply(n,__spreadArray(__spreadArray(["".concat(i," {")],Le(o),!1),["}"],!1)):n.push("".concat(ze(i),": ").concat(null==o||"boolean"==typeof o||""===o?"":"number"!=typeof o||0===o||i in g.Z||i.startsWith("--")?String(o).trim():"".concat(o,"px"),";")))}return n};function Ge(t,n,i,o){return Be(t)?[]:ee(t)?[".".concat(t.styledComponentId)]:Q(t)?!Q(t)||t.prototype&&t.prototype.isReactComponent||!n?[t]:Ge(t(n),n,i,o):t instanceof ev?i?(t.inject(i,o),[t.getName(o)]):[t]:oe(t)?Le(t):Array.isArray(t)?Array.prototype.concat.apply(S,t.map(function(t){return Ge(t,n,i,o)})):[t.toString()]}function Ye(t){for(var n=0;n<t.length;n+=1){var i=t[n];if(Q(i)&&!ee(i))return!1}return!0}var ey=j("6.0.7"),ew=function(){function e(t,n,i){this.rules=t,this.staticRulesId="",this.isStatic=(void 0===i||i.isStatic)&&Ye(t),this.componentId=n,this.baseHash=k(ey,n),this.baseStyle=i,eu.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,i){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,i):"";if(this.isStatic&&!i.hash){if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=te(o,this.staticRulesId);else{var c=ne(Ge(this.rules,t,n,i)),u=R(k(this.baseHash,c)>>>0);if(!n.hasNameForId(this.componentId,u)){var h=i(c,".".concat(u),void 0,this.componentId);n.insertRules(this.componentId,u,h)}o=te(o,u),this.staticRulesId=u}}else{for(var f=k(this.baseHash,i.hash),d="",m=0;m<this.rules.length;m++){var g=this.rules[m];if("string"==typeof g)d+=g;else if(g){var v=ne(Ge(g,t,n,i));f=k(f,v),d+=v}}if(d){var y=R(f>>>0);n.hasNameForId(this.componentId,y)||n.insertRules(this.componentId,y,i(d,".".concat(y),void 0,this.componentId)),o=te(o,y)}}return o},e}(),eb=o.createContext(void 0);function Xe(t){var n=o.useContext(eb),i=(0,o.useMemo)(function(){return function(t,n){if(!t)throw ce(14);if(Q(t))return t(n);if(Array.isArray(t)||"object"!=typeof t)throw ce(8);return n?__assign(__assign({},n),t):t}(t.theme,n)},[t.theme,n]);return t.children?o.createElement(eb.Provider,{value:i},t.children):null}eb.Consumer;var eS={};function Qe(t,n,i){var c,u,h,f,d=ee(t),m=!M(t),g=n.attrs,v=void 0===g?S:g,y=n.componentId,w=void 0===y?(c=n.displayName,u=n.parentComponentId,eS[h="string"!=typeof c?"sc":A(c)]=(eS[h]||0)+1,f="".concat(h,"-").concat(R(j("6.0.7"+h+eS[h])>>>0)),u?"".concat(u,"-").concat(f):f):y,b=(void 0===n.displayName&&(M(t)||t.displayName||t.name),n.displayName&&n.componentId?"".concat(A(n.displayName),"-").concat(n.componentId):n.componentId||w),_=d&&t.attrs?t.attrs.concat(v).filter(Boolean):v,E=n.shouldForwardProp;if(d&&t.shouldForwardProp){var T=t.shouldForwardProp;if(n.shouldForwardProp){var P=n.shouldForwardProp;E=function(t,n){return T(t,n)&&P(t,n)}}else E=T}var L=new ew(i,b,d?t.componentStyle:void 0),I=o.forwardRef(function(t,n){return function(t,n,i){var c,u,h=t.attrs,f=t.componentStyle,d=t.defaultProps,m=t.foldedComponentIds,g=t.styledComponentId,v=t.target,y=o.useContext(eb),w=Ve(),b=t.shouldForwardProp||w.shouldForwardProp,S=function(t,n,i){for(var o,c=__assign(__assign({},n),{className:void 0,theme:i}),u=0;u<t.length;u+=1){var h=Q(o=t[u])?o(c):o;for(var f in h)c[f]="className"===f?te(c[f],h[f]):"style"===f?__assign(__assign({},c[f]),h[f]):h[f]}return n.className&&(c.className=te(c.className,n.className)),c}(h,n,(void 0===(c=d)&&(c=x),n.theme!==c.theme&&n.theme||y||c.theme||x)),_=S.as||v,E={};for(var T in S)void 0===S[T]||"$"===T[0]||"as"===T||"theme"===T||("forwardedAs"===T?E.as=S.forwardedAs:b&&!b(T,_)||(E[T]=S[T]));var P=(u=Ve(),f.generateAndInjectStyles(S,u.styleSheet,u.stylis)),L=te(m,g);return P&&(L+=" "+P),S.className&&(L+=" "+S.className),E[M(_)&&!C.has(_)?"class":"className"]=L,E.ref=i,(0,o.createElement)(_,E)}(I,t,n)});return I.attrs=_,I.componentStyle=L,I.shouldForwardProp=E,I.foldedComponentIds=d?te(t.foldedComponentIds,t.styledComponentId):"",I.styledComponentId=b,I.target=d?t.target:t,Object.defineProperty(I,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(n){this._foldedDefaultProps=d?function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];for(var o=0;o<n.length;o++)(function re(t,n,i){if(void 0===i&&(i=!1),!i&&!oe(t)&&!Array.isArray(t))return n;if(Array.isArray(n))for(var o=0;o<n.length;o++)t[o]=re(t[o],n[o]);else if(oe(n))for(var o in n)t[o]=re(t[o],n[o]);return t})(t,n[o],!0);return t}({},t.defaultProps,n):n}}),se(I,function(){return".".concat(I.styledComponentId)}),m&&function K(t,n,i){if("string"!=typeof n){if(Z){var o=G(n);o&&o!==Z&&K(t,o,i)}var c=U(n);$&&(c=c.concat($(n)));for(var u=W(t),h=W(n),f=0;f<c.length;++f){var d=c[f];if(!(d in B||i&&i[d]||h&&d in h||u&&d in u)){var m=q(n,d);try{H(t,d,m)}catch(t){}}}}return t}(I,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),I}function et(t,n){for(var i=[t[0]],o=0,c=n.length;o<c;o+=1)i.push(n[o],t[o+1]);return i}var tt=function(t){return Object.assign(t,{isCss:!0})};function nt(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return Q(t)||oe(t)?tt(Ge(et(S,__spreadArray([t],n,!0)))):0===n.length&&1===t.length&&"string"==typeof t[0]?Ge(t):tt(Ge(et(t,n)))}var rt=function(t){return function ot(t,n,i){if(void 0===i&&(i=x),!n)throw ce(1,n);var s=function(o){for(var c=[],u=1;u<arguments.length;u++)c[u-1]=arguments[u];return t(n,i,nt.apply(void 0,__spreadArray([o],c,!1)))};return s.attrs=function(o){return ot(t,n,__assign(__assign({},i),{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},s.withConfig=function(o){return ot(t,n,__assign(__assign({},i),o))},s}(Qe,t)},ex=rt;function ct(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=ne(nt.apply(void 0,__spreadArray([t],n,!1))),c=R(j(o)>>>0);return new ev(c,o)}C.forEach(function(t){ex[t]=rt(t)}),function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=Ye(t),eu.registerId(this.componentId+1)}e.prototype.createStyles=function(t,n,i,o){var c=o(ne(Ge(this.rules,n,i,o)),""),u=this.componentId+t;i.insertRules(u,u,c)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,i,o){t>2&&eu.registerId(this.componentId+t),this.removeStyles(t,i),this.createStyles(t,n,i,o)}}();var ek=function(){function e(){var t=this;this._emitSheetCSS=function(){var n=t.instance.toString(),o=i.nc,c=ne([o&&'nonce="'.concat(o,'"'),"".concat(y,'="true"'),"".concat("data-styled-version",'="').concat("6.0.7",'"')].filter(Boolean)," ");return"<style ".concat(c,">").concat(n,"</style>")},this.getStyleTags=function(){if(t.sealed)throw ce(2);return t._emitSheetCSS()},this.getStyleElement=function(){if(t.sealed)throw ce(2);var n,c=((n={})[y]="",n["data-styled-version"]="6.0.7",n.dangerouslySetInnerHTML={__html:t.instance.toString()},n),u=i.nc;return u&&(c.nonce=u),[o.createElement("style",__assign({},c,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new eu({isServer:!0}),this.sealed=!1}return e.prototype.collectStyles=function(t){if(this.sealed)throw ce(2);return o.createElement(Me,{sheet:this.instance},t)},e.prototype.interleaveWithNodeStream=function(t){throw ce(3)},e}()},9673:function(t,n,i){"use strict";i.d(n,{A:function(){return y}});var o,c,u=i(7437),h=i(2265),f=i(7026),d=i(4867),m=i(5945);function LinePattern({color:t,dimensions:n,lineWidth:i}){return(0,u.jsx)("path",{stroke:t,strokeWidth:i,d:`M${n[0]/2} 0 V${n[1]} M0 ${n[1]/2} H${n[0]}`})}function DotPattern({color:t,radius:n}){return(0,u.jsx)("circle",{cx:n,cy:n,r:n,fill:t})}(o=c||(c={})).Lines="lines",o.Dots="dots",o.Cross="cross";let g={[c.Dots]:"#91919a",[c.Lines]:"#eee",[c.Cross]:"#e2e2e2"},v={[c.Dots]:1,[c.Lines]:1,[c.Cross]:6},selector=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function Background({id:t,variant:n=c.Dots,gap:i=20,size:o,lineWidth:y=1,offset:w=2,color:b,style:S,className:x}){let C=(0,h.useRef)(null),{transform:_,patternId:E}=(0,d.oR)(selector,m.X),T=b||g[n],P=o||v[n],L=n===c.Dots,I=n===c.Cross,O=Array.isArray(i)?i:[i,i],N=[O[0]*_[2]||1,O[1]*_[2]||1],B=P*_[2],z=I?[B,B]:N,V=L?[B/w,B/w]:[z[0]/w,z[1]/w];return(0,u.jsxs)("svg",{className:(0,f.Z)(["react-flow__background",x]),style:{...S,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:C,"data-testid":"rf__background",children:[(0,u.jsx)("pattern",{id:E+t,x:_[0]%N[0],y:_[1]%N[1],width:N[0],height:N[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${V[0]},-${V[1]})`,children:L?(0,u.jsx)(DotPattern,{color:T,radius:B/w}):(0,u.jsx)(LinePattern,{dimensions:z,color:T,lineWidth:y})}),(0,u.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${E+t})`})]})}Background.displayName="Background";var y=(0,h.memo)(Background)},8967:function(t,n,i){"use strict";i.d(n,{Z:function(){return d}});var o=i(7437),c=i(2265),u=i(7026),h=i(5945),f=i(4867);function PlusIcon(){return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:(0,o.jsx)("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function MinusIcon(){return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:(0,o.jsx)("path",{d:"M0 0h32v4.2H0z"})})}function FitViewIcon(){return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:(0,o.jsx)("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function LockIcon(){return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,o.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function UnlockIcon(){return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,o.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}let ControlButton=({children:t,className:n,...i})=>(0,o.jsx)("button",{type:"button",className:(0,u.Z)(["react-flow__controls-button",n]),...i,children:t});ControlButton.displayName="ControlButton";let selector=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),Controls=({style:t,showZoom:n=!0,showFitView:i=!0,showInteractive:d=!0,fitViewOptions:m,onZoomIn:g,onZoomOut:v,onFitView:y,onInteractiveChange:w,className:b,children:S,position:x="bottom-left"})=>{let C=(0,f.AC)(),[_,E]=(0,c.useState)(!1),{isInteractive:T,minZoomReached:P,maxZoomReached:L}=(0,f.oR)(selector,h.X),{zoomIn:I,zoomOut:O,fitView:N}=(0,f._K)();return((0,c.useEffect)(()=>{E(!0)},[]),_)?(0,o.jsxs)(f.s_,{className:(0,u.Z)(["react-flow__controls",b]),position:x,style:t,"data-testid":"rf__controls",children:[n&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ControlButton,{onClick:()=>{I(),g?.()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:L,children:(0,o.jsx)(PlusIcon,{})}),(0,o.jsx)(ControlButton,{onClick:()=>{O(),v?.()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:P,children:(0,o.jsx)(MinusIcon,{})})]}),i&&(0,o.jsx)(ControlButton,{className:"react-flow__controls-fitview",onClick:()=>{N(m),y?.()},title:"fit view","aria-label":"fit view",children:(0,o.jsx)(FitViewIcon,{})}),d&&(0,o.jsx)(ControlButton,{className:"react-flow__controls-interactive",onClick:()=>{C.setState({nodesDraggable:!T,nodesConnectable:!T,elementsSelectable:!T}),w?.(!T)},title:"toggle interactivity","aria-label":"toggle interactivity",children:T?(0,o.jsx)(UnlockIcon,{}):(0,o.jsx)(LockIcon,{})}),S]}):null};Controls.displayName="Controls";var d=(0,c.memo)(Controls)},2101:function(t,n,i){"use strict";var o=i(584),c=i(1213);function renamed(t,n){return function(){throw Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+n+" instead, which is now safe by default.")}}t.exports.Type=i(1816),t.exports.Schema=i(3021),t.exports.FAILSAFE_SCHEMA=i(3611),t.exports.JSON_SCHEMA=i(2560),t.exports.CORE_SCHEMA=i(2775),t.exports.DEFAULT_SCHEMA=i(4226),t.exports.load=o.load,t.exports.loadAll=o.loadAll,t.exports.dump=c.dump,t.exports.YAMLException=i(7132),t.exports.types={binary:i(9171),float:i(2762),map:i(248),null:i(2741),pairs:i(4318),set:i(1550),timestamp:i(1324),bool:i(833),int:i(9512),merge:i(4648),omap:i(6431),seq:i(6723),str:i(8878)},t.exports.safeLoad=renamed("safeLoad","load"),t.exports.safeLoadAll=renamed("safeLoadAll","loadAll"),t.exports.safeDump=renamed("safeDump","dump")},6381:function(t){"use strict";function isNothing(t){return null==t}t.exports.isNothing=isNothing,t.exports.isObject=function(t){return"object"==typeof t&&null!==t},t.exports.toArray=function(t){return Array.isArray(t)?t:isNothing(t)?[]:[t]},t.exports.repeat=function(t,n){var i,o="";for(i=0;i<n;i+=1)o+=t;return o},t.exports.isNegativeZero=function(t){return 0===t&&Number.NEGATIVE_INFINITY===1/t},t.exports.extend=function(t,n){var i,o,c,u;if(n)for(i=0,o=(u=Object.keys(n)).length;i<o;i+=1)t[c=u[i]]=n[c];return t}},1213:function(t,n,i){"use strict";var o=i(6381),c=i(7132),u=i(4226),h=Object.prototype.toString,f=Object.prototype.hasOwnProperty,d={};d[0]="\\0",d[7]="\\a",d[8]="\\b",d[9]="\\t",d[10]="\\n",d[11]="\\v",d[12]="\\f",d[13]="\\r",d[27]="\\e",d[34]='\\"',d[92]="\\\\",d[133]="\\N",d[160]="\\_",d[8232]="\\L",d[8233]="\\P";var m=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],g=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function State(t){this.schema=t.schema||u,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=o.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=function(t,n){var i,o,c,u,h,d,m;if(null===n)return{};for(c=0,i={},u=(o=Object.keys(n)).length;c<u;c+=1)d=String(n[h=o[c]]),"!!"===h.slice(0,2)&&(h="tag:yaml.org,2002:"+h.slice(2)),(m=t.compiledTypeMap.fallback[h])&&f.call(m.styleAliases,d)&&(d=m.styleAliases[d]),i[h]=d;return i}(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType='"'===t.quotingType?2:1,this.forceQuotes=t.forceQuotes||!1,this.replacer="function"==typeof t.replacer?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function indentString(t,n){for(var i,c=o.repeat(" ",n),u=0,h=-1,f="",d=t.length;u<d;)-1===(h=t.indexOf("\n",u))?(i=t.slice(u),u=d):(i=t.slice(u,h+1),u=h+1),i.length&&"\n"!==i&&(f+=c),f+=i;return f}function generateNextLine(t,n){return"\n"+o.repeat(" ",t.indent*n)}function isWhitespace(t){return 32===t||9===t}function isPrintable(t){return 32<=t&&t<=126||161<=t&&t<=55295&&8232!==t&&8233!==t||57344<=t&&t<=65533&&65279!==t||65536<=t&&t<=1114111}function isNsCharOrWhitespace(t){return isPrintable(t)&&65279!==t&&13!==t&&10!==t}function isPlainSafe(t,n,i){var o=isNsCharOrWhitespace(t),c=o&&!isWhitespace(t);return(i?o:o&&44!==t&&91!==t&&93!==t&&123!==t&&125!==t)&&35!==t&&!(58===n&&!c)||isNsCharOrWhitespace(n)&&!isWhitespace(n)&&35===t||58===n&&c}function codePointAt(t,n){var i,o=t.charCodeAt(n);return o>=55296&&o<=56319&&n+1<t.length&&(i=t.charCodeAt(n+1))>=56320&&i<=57343?(o-55296)*1024+i-56320+65536:o}function needIndentIndicator(t){return/^\n* /.test(t)}function blockHeader(t,n){var i=needIndentIndicator(t)?String(n):"",o="\n"===t[t.length-1];return i+(o&&("\n"===t[t.length-2]||"\n"===t)?"+":o?"":"-")+"\n"}function dropEndingNewline(t){return"\n"===t[t.length-1]?t.slice(0,-1):t}function foldLine(t,n){if(""===t||" "===t[0])return t;for(var i,o,c=/ [^ ]/g,u=0,h=0,f=0,d="";i=c.exec(t);)(f=i.index)-u>n&&(o=h>u?h:f,d+="\n"+t.slice(u,o),u=o+1),h=f;return d+="\n",t.length-u>n&&h>u?d+=t.slice(u,h)+"\n"+t.slice(h+1):d+=t.slice(u),d.slice(1)}function writeBlockSequence(t,n,i,o){var c,u,h,f="",d=t.tag;for(c=0,u=i.length;c<u;c+=1)h=i[c],t.replacer&&(h=t.replacer.call(i,String(c),h)),(writeNode(t,n+1,h,!0,!0,!1,!0)||void 0===h&&writeNode(t,n+1,null,!0,!0,!1,!0))&&(o&&""===f||(f+=generateNextLine(t,n)),t.dump&&10===t.dump.charCodeAt(0)?f+="-":f+="- ",f+=t.dump);t.tag=d,t.dump=f||"[]"}function detectType(t,n,i){var o,u,d,m,g,v;for(d=0,m=(u=i?t.explicitTypes:t.implicitTypes).length;d<m;d+=1)if(((g=u[d]).instanceOf||g.predicate)&&(!g.instanceOf||"object"==typeof n&&n instanceof g.instanceOf)&&(!g.predicate||g.predicate(n))){if(i?g.multi&&g.representName?t.tag=g.representName(n):t.tag=g.tag:t.tag="?",g.represent){if(v=t.styleMap[g.tag]||g.defaultStyle,"[object Function]"===h.call(g.represent))o=g.represent(n,v);else if(f.call(g.represent,v))o=g.represent[v](n,v);else throw new c("!<"+g.tag+'> tag resolver accepts not "'+v+'" style');t.dump=o}return!0}return!1}function writeNode(t,n,i,u,f,v,y){t.tag=null,t.dump=i,detectType(t,i,!1)||detectType(t,i,!0);var w,b=h.call(t.dump),S=u;u&&(u=t.flowLevel<0||t.flowLevel>n);var x,C,_,E="[object Object]"===b||"[object Array]"===b;if(E&&(_=-1!==(C=t.duplicates.indexOf(i))),(null!==t.tag&&"?"!==t.tag||_||2!==t.indent&&n>0)&&(f=!1),_&&t.usedDuplicates[C])t.dump="*ref_"+C;else{if(E&&_&&!t.usedDuplicates[C]&&(t.usedDuplicates[C]=!0),"[object Object]"===b)u&&0!==Object.keys(t.dump).length?(!function(t,n,i,o){var u,h,f,d,m,g,v="",y=t.tag,w=Object.keys(i);if(!0===t.sortKeys)w.sort();else if("function"==typeof t.sortKeys)w.sort(t.sortKeys);else if(t.sortKeys)throw new c("sortKeys must be a boolean or a function");for(u=0,h=w.length;u<h;u+=1)g="",o&&""===v||(g+=generateNextLine(t,n)),d=i[f=w[u]],t.replacer&&(d=t.replacer.call(i,f,d)),writeNode(t,n+1,f,!0,!0,!0)&&((m=null!==t.tag&&"?"!==t.tag||t.dump&&t.dump.length>1024)&&(t.dump&&10===t.dump.charCodeAt(0)?g+="?":g+="? "),g+=t.dump,m&&(g+=generateNextLine(t,n)),writeNode(t,n+1,d,!0,m)&&(t.dump&&10===t.dump.charCodeAt(0)?g+=":":g+=": ",g+=t.dump,v+=g));t.tag=y,t.dump=v||"{}"}(t,n,t.dump,f),_&&(t.dump="&ref_"+C+t.dump)):(!function(t,n,i){var o,c,u,h,f,d="",m=t.tag,g=Object.keys(i);for(o=0,c=g.length;o<c;o+=1)f="",""!==d&&(f+=", "),t.condenseFlow&&(f+='"'),h=i[u=g[o]],t.replacer&&(h=t.replacer.call(i,u,h)),writeNode(t,n,u,!1,!1)&&(t.dump.length>1024&&(f+="? "),f+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),writeNode(t,n,h,!1,!1)&&(f+=t.dump,d+=f));t.tag=m,t.dump="{"+d+"}"}(t,n,t.dump),_&&(t.dump="&ref_"+C+" "+t.dump));else if("[object Array]"===b)u&&0!==t.dump.length?(t.noArrayIndent&&!y&&n>0?writeBlockSequence(t,n-1,t.dump,f):writeBlockSequence(t,n,t.dump,f),_&&(t.dump="&ref_"+C+t.dump)):(!function(t,n,i){var o,c,u,h="",f=t.tag;for(o=0,c=i.length;o<c;o+=1)u=i[o],t.replacer&&(u=t.replacer.call(i,String(o),u)),(writeNode(t,n,u,!1,!1)||void 0===u&&writeNode(t,n,null,!1,!1))&&(""!==h&&(h+=","+(t.condenseFlow?"":" ")),h+=t.dump);t.tag=f,t.dump="["+h+"]"}(t,n,t.dump),_&&(t.dump="&ref_"+C+" "+t.dump));else if("[object String]"===b)"?"!==t.tag&&(w=t.dump,t.dump=function(){if(0===w.length)return 2===t.quotingType?'""':"''";if(!t.noCompatMode&&(-1!==m.indexOf(w)||g.test(w)))return 2===t.quotingType?'"'+w+'"':"'"+w+"'";var i=t.indent*Math.max(1,n),u=-1===t.lineWidth?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-i);switch(function(t,n,i,o,c,u,h,f){var d,m,g,v=0,y=null,w=!1,b=!1,S=-1!==o,x=-1,C=isPrintable(d=codePointAt(t,0))&&65279!==d&&!isWhitespace(d)&&45!==d&&63!==d&&58!==d&&44!==d&&91!==d&&93!==d&&123!==d&&125!==d&&35!==d&&38!==d&&42!==d&&33!==d&&124!==d&&61!==d&&62!==d&&39!==d&&34!==d&&37!==d&&64!==d&&96!==d&&!isWhitespace(m=codePointAt(t,t.length-1))&&58!==m;if(n||h)for(g=0;g<t.length;v>=65536?g+=2:g++){if(!isPrintable(v=codePointAt(t,g)))return 5;C=C&&isPlainSafe(v,y,f),y=v}else{for(g=0;g<t.length;v>=65536?g+=2:g++){if(10===(v=codePointAt(t,g)))w=!0,S&&(b=b||g-x-1>o&&" "!==t[x+1],x=g);else if(!isPrintable(v))return 5;C=C&&isPlainSafe(v,y,f),y=v}b=b||S&&g-x-1>o&&" "!==t[x+1]}return w||b?i>9&&needIndentIndicator(t)?5:h?2===u?5:2:b?4:3:!C||h||c(t)?2===u?5:2:1}(w,v||t.flowLevel>-1&&n>=t.flowLevel,t.indent,u,function(n){return function(t,n){var i,o;for(i=0,o=t.implicitTypes.length;i<o;i+=1)if(t.implicitTypes[i].resolve(n))return!0;return!1}(t,n)},t.quotingType,t.forceQuotes&&!v,S)){case 1:return w;case 2:return"'"+w.replace(/'/g,"''")+"'";case 3:return"|"+blockHeader(w,t.indent)+dropEndingNewline(indentString(w,i));case 4:return">"+blockHeader(w,t.indent)+dropEndingNewline(indentString(function(t,n){for(var i,o,c,u=/(\n+)([^\n]*)/g,h=(i=-1!==(i=t.indexOf("\n"))?i:t.length,u.lastIndex=i,foldLine(t.slice(0,i),n)),f="\n"===t[0]||" "===t[0];c=u.exec(t);){var d=c[1],m=c[2];o=" "===m[0],h+=d+(f||o||""===m?"":"\n")+foldLine(m,n),f=o}return h}(w,u),i));case 5:return'"'+function(t){for(var n,i="",u=0,h=0;h<t.length;u>=65536?h+=2:h++)!(n=d[u=codePointAt(t,h)])&&isPrintable(u)?(i+=t[h],u>=65536&&(i+=t[h+1])):i+=n||function(t){var n,i,u;if(n=t.toString(16).toUpperCase(),t<=255)i="x",u=2;else if(t<=65535)i="u",u=4;else if(t<=4294967295)i="U",u=8;else throw new c("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+o.repeat("0",u-n.length)+n}(u);return i}(w,u)+'"';default:throw new c("impossible error: invalid scalar style")}}());else{if("[object Undefined]"===b||t.skipInvalid)return!1;throw new c("unacceptable kind of an object to dump "+b)}null!==t.tag&&"?"!==t.tag&&(x=encodeURI("!"===t.tag[0]?t.tag.slice(1):t.tag).replace(/!/g,"%21"),x="!"===t.tag[0]?"!"+x:"tag:yaml.org,2002:"===x.slice(0,18)?"!!"+x.slice(18):"!<"+x+">",t.dump=x+" "+t.dump)}return!0}t.exports.dump=function(t,n){n=n||{};var i=new State(n);i.noRefs||function(t,n){var i,o,c=[],u=[];for(function inspectNode(t,n,i){var o,c,u;if(null!==t&&"object"==typeof t){if(-1!==(c=n.indexOf(t)))-1===i.indexOf(c)&&i.push(c);else if(n.push(t),Array.isArray(t))for(c=0,u=t.length;c<u;c+=1)inspectNode(t[c],n,i);else for(c=0,u=(o=Object.keys(t)).length;c<u;c+=1)inspectNode(t[o[c]],n,i)}}(t,c,u),i=0,o=u.length;i<o;i+=1)n.duplicates.push(c[u[i]]);n.usedDuplicates=Array(o)}(t,i);var o=t;return(i.replacer&&(o=i.replacer.call({"":o},"",o)),writeNode(i,0,o,!0,!0))?i.dump+"\n":""}},7132:function(t){"use strict";function formatError(t,n){var i="",o=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(i+='in "'+t.mark.name+'" '),i+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!n&&t.mark.snippet&&(i+="\n\n"+t.mark.snippet),o+" "+i):o}function YAMLException(t,n){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=n,this.message=formatError(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack||""}YAMLException.prototype=Object.create(Error.prototype),YAMLException.prototype.constructor=YAMLException,YAMLException.prototype.toString=function(t){return this.name+": "+formatError(this,t)},t.exports=YAMLException},584:function(t,n,i){"use strict";var o=i(6381),c=i(7132),u=i(3268),h=i(4226),f=Object.prototype.hasOwnProperty,d=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,m=/[\x85\u2028\u2029]/,g=/[,\[\]\{\}]/,v=/^(?:!|!!|![a-z\-]+!)$/i,y=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(t){return Object.prototype.toString.call(t)}function is_EOL(t){return 10===t||13===t}function is_WHITE_SPACE(t){return 9===t||32===t}function is_WS_OR_EOL(t){return 9===t||32===t||10===t||13===t}function is_FLOW_INDICATOR(t){return 44===t||91===t||93===t||123===t||125===t}function simpleEscapeSequence(t){return 48===t?"\x00":97===t?"\x07":98===t?"\b":116===t?"	":9===t?"	":110===t?"\n":118===t?"\v":102===t?"\f":114===t?"\r":101===t?"\x1b":32===t?" ":34===t?'"':47===t?"/":92===t?"\\":78===t?"\x85":95===t?"\xa0":76===t?"\u2028":80===t?"\u2029":""}for(var w=Array(256),b=Array(256),S=0;S<256;S++)w[S]=simpleEscapeSequence(S)?1:0,b[S]=simpleEscapeSequence(S);function State(t,n){this.input=t,this.filename=n.filename||null,this.schema=n.schema||h,this.onWarning=n.onWarning||null,this.legacy=n.legacy||!1,this.json=n.json||!1,this.listener=n.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function generateError(t,n){var i={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return i.snippet=u(i),new c(n,i)}function throwError(t,n){throw generateError(t,n)}function throwWarning(t,n){t.onWarning&&t.onWarning.call(null,generateError(t,n))}var x={YAML:function(t,n,i){var o,c,u;null!==t.version&&throwError(t,"duplication of %YAML directive"),1!==i.length&&throwError(t,"YAML directive accepts exactly one argument"),null===(o=/^([0-9]+)\.([0-9]+)$/.exec(i[0]))&&throwError(t,"ill-formed argument of the YAML directive"),c=parseInt(o[1],10),u=parseInt(o[2],10),1!==c&&throwError(t,"unacceptable YAML version of the document"),t.version=i[0],t.checkLineBreaks=u<2,1!==u&&2!==u&&throwWarning(t,"unsupported YAML version of the document")},TAG:function(t,n,i){var o,c;2!==i.length&&throwError(t,"TAG directive accepts exactly two arguments"),o=i[0],c=i[1],v.test(o)||throwError(t,"ill-formed tag handle (first argument) of the TAG directive"),f.call(t.tagMap,o)&&throwError(t,'there is a previously declared suffix for "'+o+'" tag handle'),y.test(c)||throwError(t,"ill-formed tag prefix (second argument) of the TAG directive");try{c=decodeURIComponent(c)}catch(n){throwError(t,"tag prefix is malformed: "+c)}t.tagMap[o]=c}};function captureSegment(t,n,i,o){var c,u,h,f;if(n<i){if(f=t.input.slice(n,i),o)for(c=0,u=f.length;c<u;c+=1)9===(h=f.charCodeAt(c))||32<=h&&h<=1114111||throwError(t,"expected valid JSON character");else d.test(f)&&throwError(t,"the stream contains non-printable characters");t.result+=f}}function mergeMappings(t,n,i,c){var u,h,d,m;for(o.isObject(i)||throwError(t,"cannot merge mappings; the provided source object is unacceptable"),d=0,m=(u=Object.keys(i)).length;d<m;d+=1)h=u[d],f.call(n,h)||(n[h]=i[h],c[h]=!0)}function storeMappingPair(t,n,i,o,c,u,h,d,m){var g,v;if(Array.isArray(c))for(g=0,v=(c=Array.prototype.slice.call(c)).length;g<v;g+=1)Array.isArray(c[g])&&throwError(t,"nested arrays are not supported inside keys"),"object"==typeof c&&"[object Object]"===_class(c[g])&&(c[g]="[object Object]");if("object"==typeof c&&"[object Object]"===_class(c)&&(c="[object Object]"),c=String(c),null===n&&(n={}),"tag:yaml.org,2002:merge"===o){if(Array.isArray(u))for(g=0,v=u.length;g<v;g+=1)mergeMappings(t,n,u[g],i);else mergeMappings(t,n,u,i)}else!t.json&&!f.call(i,c)&&f.call(n,c)&&(t.line=h||t.line,t.lineStart=d||t.lineStart,t.position=m||t.position,throwError(t,"duplicated mapping key")),"__proto__"===c?Object.defineProperty(n,c,{configurable:!0,enumerable:!0,writable:!0,value:u}):n[c]=u,delete i[c];return n}function readLineBreak(t){var n;10===(n=t.input.charCodeAt(t.position))?t.position++:13===n?(t.position++,10===t.input.charCodeAt(t.position)&&t.position++):throwError(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function skipSeparationSpace(t,n,i){for(var o=0,c=t.input.charCodeAt(t.position);0!==c;){for(;is_WHITE_SPACE(c);)9===c&&-1===t.firstTabInLine&&(t.firstTabInLine=t.position),c=t.input.charCodeAt(++t.position);if(n&&35===c)do c=t.input.charCodeAt(++t.position);while(10!==c&&13!==c&&0!==c);if(is_EOL(c))for(readLineBreak(t),c=t.input.charCodeAt(t.position),o++,t.lineIndent=0;32===c;)t.lineIndent++,c=t.input.charCodeAt(++t.position);else break}return -1!==i&&0!==o&&t.lineIndent<i&&throwWarning(t,"deficient indentation"),o}function testDocumentSeparator(t){var n,i=t.position;return!!((45===(n=t.input.charCodeAt(i))||46===n)&&n===t.input.charCodeAt(i+1)&&n===t.input.charCodeAt(i+2)&&(i+=3,0===(n=t.input.charCodeAt(i))||is_WS_OR_EOL(n)))}function writeFoldedLines(t,n){1===n?t.result+=" ":n>1&&(t.result+=o.repeat("\n",n-1))}function readBlockSequence(t,n){var i,o,c=t.tag,u=t.anchor,h=[],f=!1;if(-1!==t.firstTabInLine)return!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=h),o=t.input.charCodeAt(t.position);0!==o&&(-1!==t.firstTabInLine&&(t.position=t.firstTabInLine,throwError(t,"tab characters must not be used in indentation")),45===o&&is_WS_OR_EOL(t.input.charCodeAt(t.position+1)));){if(f=!0,t.position++,skipSeparationSpace(t,!0,-1)&&t.lineIndent<=n){h.push(null),o=t.input.charCodeAt(t.position);continue}if(i=t.line,composeNode(t,n,3,!1,!0),h.push(t.result),skipSeparationSpace(t,!0,-1),o=t.input.charCodeAt(t.position),(t.line===i||t.lineIndent>n)&&0!==o)throwError(t,"bad indentation of a sequence entry");else if(t.lineIndent<n)break}return!!f&&(t.tag=c,t.anchor=u,t.kind="sequence",t.result=h,!0)}function composeNode(t,n,i,c,u){var h,d,m,S,x,C,_,E,T,P=1,L=!1,I=!1;if(null!==t.listener&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,h=d=m=4===i||3===i,c&&skipSeparationSpace(t,!0,-1)&&(L=!0,t.lineIndent>n?P=1:t.lineIndent===n?P=0:t.lineIndent<n&&(P=-1)),1===P)for(;function(t){var n,i,o,c,u=!1,h=!1;if(33!==(c=t.input.charCodeAt(t.position)))return!1;if(null!==t.tag&&throwError(t,"duplication of a tag property"),60===(c=t.input.charCodeAt(++t.position))?(u=!0,c=t.input.charCodeAt(++t.position)):33===c?(h=!0,i="!!",c=t.input.charCodeAt(++t.position)):i="!",n=t.position,u){do c=t.input.charCodeAt(++t.position);while(0!==c&&62!==c);t.position<t.length?(o=t.input.slice(n,t.position),c=t.input.charCodeAt(++t.position)):throwError(t,"unexpected end of the stream within a verbatim tag")}else{for(;0!==c&&!is_WS_OR_EOL(c);)33===c&&(h?throwError(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(n-1,t.position+1),v.test(i)||throwError(t,"named tag handle cannot contain such characters"),h=!0,n=t.position+1)),c=t.input.charCodeAt(++t.position);o=t.input.slice(n,t.position),g.test(o)&&throwError(t,"tag suffix cannot contain flow indicator characters")}o&&!y.test(o)&&throwError(t,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch(n){throwError(t,"tag name is malformed: "+o)}return u?t.tag=o:f.call(t.tagMap,i)?t.tag=t.tagMap[i]+o:"!"===i?t.tag="!"+o:"!!"===i?t.tag="tag:yaml.org,2002:"+o:throwError(t,'undeclared tag handle "'+i+'"'),!0}(t)||function(t){var n,i;if(38!==(i=t.input.charCodeAt(t.position)))return!1;for(null!==t.anchor&&throwError(t,"duplication of an anchor property"),i=t.input.charCodeAt(++t.position),n=t.position;0!==i&&!is_WS_OR_EOL(i)&&!is_FLOW_INDICATOR(i);)i=t.input.charCodeAt(++t.position);return t.position===n&&throwError(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(n,t.position),!0}(t);)skipSeparationSpace(t,!0,-1)?(L=!0,m=h,t.lineIndent>n?P=1:t.lineIndent===n?P=0:t.lineIndent<n&&(P=-1)):m=!1;if(m&&(m=L||u),(1===P||4===i)&&(E=1===i||2===i?n:n+1,T=t.position-t.lineStart,1===P?m&&(readBlockSequence(t,T)||function(t,n,i){var o,c,u,h,f,d,m,g=t.tag,v=t.anchor,y={},w=Object.create(null),b=null,S=null,x=null,C=!1,_=!1;if(-1!==t.firstTabInLine)return!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=y),m=t.input.charCodeAt(t.position);0!==m;){if(C||-1===t.firstTabInLine||(t.position=t.firstTabInLine,throwError(t,"tab characters must not be used in indentation")),o=t.input.charCodeAt(t.position+1),u=t.line,(63===m||58===m)&&is_WS_OR_EOL(o))63===m?(C&&(storeMappingPair(t,y,w,b,S,null,h,f,d),b=S=x=null),_=!0,C=!0,c=!0):C?(C=!1,c=!0):throwError(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,m=o;else{if(h=t.line,f=t.lineStart,d=t.position,!composeNode(t,i,2,!1,!0))break;if(t.line===u){for(m=t.input.charCodeAt(t.position);is_WHITE_SPACE(m);)m=t.input.charCodeAt(++t.position);if(58===m)is_WS_OR_EOL(m=t.input.charCodeAt(++t.position))||throwError(t,"a whitespace character is expected after the key-value separator within a block mapping"),C&&(storeMappingPair(t,y,w,b,S,null,h,f,d),b=S=x=null),_=!0,C=!1,c=!1,b=t.tag,S=t.result;else{if(!_)return t.tag=g,t.anchor=v,!0;throwError(t,"can not read an implicit mapping pair; a colon is missed")}}else{if(!_)return t.tag=g,t.anchor=v,!0;throwError(t,"can not read a block mapping entry; a multiline key may not be an implicit key")}}if((t.line===u||t.lineIndent>n)&&(C&&(h=t.line,f=t.lineStart,d=t.position),composeNode(t,n,4,!0,c)&&(C?S=t.result:x=t.result),C||(storeMappingPair(t,y,w,b,S,x,h,f,d),b=S=x=null),skipSeparationSpace(t,!0,-1),m=t.input.charCodeAt(t.position)),(t.line===u||t.lineIndent>n)&&0!==m)throwError(t,"bad indentation of a mapping entry");else if(t.lineIndent<n)break}return C&&storeMappingPair(t,y,w,b,S,null,h,f,d),_&&(t.tag=g,t.anchor=v,t.kind="mapping",t.result=y),_}(t,T,E))||function(t,n){var i,o,c,u,h,f,d,m,g,v,y,w,b=!0,S=t.tag,x=t.anchor,C=Object.create(null);if(91===(w=t.input.charCodeAt(t.position)))h=93,m=!1,u=[];else{if(123!==w)return!1;h=125,m=!0,u={}}for(null!==t.anchor&&(t.anchorMap[t.anchor]=u),w=t.input.charCodeAt(++t.position);0!==w;){if(skipSeparationSpace(t,!0,n),(w=t.input.charCodeAt(t.position))===h)return t.position++,t.tag=S,t.anchor=x,t.kind=m?"mapping":"sequence",t.result=u,!0;b?44===w&&throwError(t,"expected the node content, but found ','"):throwError(t,"missed comma between flow collection entries"),v=g=y=null,f=d=!1,63===w&&is_WS_OR_EOL(t.input.charCodeAt(t.position+1))&&(f=d=!0,t.position++,skipSeparationSpace(t,!0,n)),i=t.line,o=t.lineStart,c=t.position,composeNode(t,n,1,!1,!0),v=t.tag,g=t.result,skipSeparationSpace(t,!0,n),w=t.input.charCodeAt(t.position),(d||t.line===i)&&58===w&&(f=!0,w=t.input.charCodeAt(++t.position),skipSeparationSpace(t,!0,n),composeNode(t,n,1,!1,!0),y=t.result),m?storeMappingPair(t,u,C,v,g,y,i,o,c):f?u.push(storeMappingPair(t,null,C,v,g,y,i,o,c)):u.push(g),skipSeparationSpace(t,!0,n),44===(w=t.input.charCodeAt(t.position))?(b=!0,w=t.input.charCodeAt(++t.position)):b=!1}throwError(t,"unexpected end of the stream within a flow collection")}(t,E)?I=!0:(d&&function(t,n){var i,c,u,h,f,d=1,m=!1,g=!1,v=n,y=0,w=!1;if(124===(f=t.input.charCodeAt(t.position)))u=!1;else{if(62!==f)return!1;u=!0}for(t.kind="scalar",t.result="";0!==f;)if(43===(f=t.input.charCodeAt(++t.position))||45===f)1===d?d=43===f?3:2:throwError(t,"repeat of a chomping mode identifier");else if((h=48<=(i=f)&&i<=57?i-48:-1)>=0)0===h?throwError(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):g?throwError(t,"repeat of an indentation width identifier"):(v=n+h-1,g=!0);else break;if(is_WHITE_SPACE(f)){do f=t.input.charCodeAt(++t.position);while(is_WHITE_SPACE(f));if(35===f)do f=t.input.charCodeAt(++t.position);while(!is_EOL(f)&&0!==f)}for(;0!==f;){for(readLineBreak(t),t.lineIndent=0,f=t.input.charCodeAt(t.position);(!g||t.lineIndent<v)&&32===f;)t.lineIndent++,f=t.input.charCodeAt(++t.position);if(!g&&t.lineIndent>v&&(v=t.lineIndent),is_EOL(f)){y++;continue}if(t.lineIndent<v){3===d?t.result+=o.repeat("\n",m?1+y:y):1===d&&m&&(t.result+="\n");break}for(u?is_WHITE_SPACE(f)?(w=!0,t.result+=o.repeat("\n",m?1+y:y)):w?(w=!1,t.result+=o.repeat("\n",y+1)):0===y?m&&(t.result+=" "):t.result+=o.repeat("\n",y):t.result+=o.repeat("\n",m?1+y:y),m=!0,g=!0,y=0,c=t.position;!is_EOL(f)&&0!==f;)f=t.input.charCodeAt(++t.position);captureSegment(t,c,t.position,!1)}return!0}(t,E)||function(t,n){var i,o,c;if(39!==(i=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,o=c=t.position;0!==(i=t.input.charCodeAt(t.position));)if(39===i){if(captureSegment(t,o,t.position,!0),39!==(i=t.input.charCodeAt(++t.position)))return!0;o=t.position,t.position++,c=t.position}else is_EOL(i)?(captureSegment(t,o,c,!0),writeFoldedLines(t,skipSeparationSpace(t,!1,n)),o=c=t.position):t.position===t.lineStart&&testDocumentSeparator(t)?throwError(t,"unexpected end of the document within a single quoted scalar"):(t.position++,c=t.position);throwError(t,"unexpected end of the stream within a single quoted scalar")}(t,E)||function(t,n){var i,o,c,u,h,f,d,m;if(34!==(f=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,i=o=t.position;0!==(f=t.input.charCodeAt(t.position));){if(34===f)return captureSegment(t,i,t.position,!0),t.position++,!0;if(92===f){if(captureSegment(t,i,t.position,!0),is_EOL(f=t.input.charCodeAt(++t.position)))skipSeparationSpace(t,!1,n);else if(f<256&&w[f])t.result+=b[f],t.position++;else if((h=120===(d=f)?2:117===d?4:85===d?8:0)>0){for(c=h,u=0;c>0;c--)(h=function(t){var n;return 48<=t&&t<=57?t-48:97<=(n=32|t)&&n<=102?n-97+10:-1}(f=t.input.charCodeAt(++t.position)))>=0?u=(u<<4)+h:throwError(t,"expected hexadecimal character");t.result+=(m=u)<=65535?String.fromCharCode(m):String.fromCharCode((m-65536>>10)+55296,(m-65536&1023)+56320),t.position++}else throwError(t,"unknown escape sequence");i=o=t.position}else is_EOL(f)?(captureSegment(t,i,o,!0),writeFoldedLines(t,skipSeparationSpace(t,!1,n)),i=o=t.position):t.position===t.lineStart&&testDocumentSeparator(t)?throwError(t,"unexpected end of the document within a double quoted scalar"):(t.position++,o=t.position)}throwError(t,"unexpected end of the stream within a double quoted scalar")}(t,E)?I=!0:function(t){var n,i,o;if(42!==(o=t.input.charCodeAt(t.position)))return!1;for(o=t.input.charCodeAt(++t.position),n=t.position;0!==o&&!is_WS_OR_EOL(o)&&!is_FLOW_INDICATOR(o);)o=t.input.charCodeAt(++t.position);return t.position===n&&throwError(t,"name of an alias node must contain at least one character"),i=t.input.slice(n,t.position),f.call(t.anchorMap,i)||throwError(t,'unidentified alias "'+i+'"'),t.result=t.anchorMap[i],skipSeparationSpace(t,!0,-1),!0}(t)?(I=!0,(null!==t.tag||null!==t.anchor)&&throwError(t,"alias node should not have any properties")):function(t,n,i){var o,c,u,h,f,d,m,g,v=t.kind,y=t.result;if(is_WS_OR_EOL(g=t.input.charCodeAt(t.position))||is_FLOW_INDICATOR(g)||35===g||38===g||42===g||33===g||124===g||62===g||39===g||34===g||37===g||64===g||96===g||(63===g||45===g)&&(is_WS_OR_EOL(o=t.input.charCodeAt(t.position+1))||i&&is_FLOW_INDICATOR(o)))return!1;for(t.kind="scalar",t.result="",c=u=t.position,h=!1;0!==g;){if(58===g){if(is_WS_OR_EOL(o=t.input.charCodeAt(t.position+1))||i&&is_FLOW_INDICATOR(o))break}else if(35===g){if(is_WS_OR_EOL(t.input.charCodeAt(t.position-1)))break}else if(t.position===t.lineStart&&testDocumentSeparator(t)||i&&is_FLOW_INDICATOR(g))break;else if(is_EOL(g)){if(f=t.line,d=t.lineStart,m=t.lineIndent,skipSeparationSpace(t,!1,-1),t.lineIndent>=n){h=!0,g=t.input.charCodeAt(t.position);continue}t.position=u,t.line=f,t.lineStart=d,t.lineIndent=m;break}h&&(captureSegment(t,c,u,!1),writeFoldedLines(t,t.line-f),c=u=t.position,h=!1),is_WHITE_SPACE(g)||(u=t.position+1),g=t.input.charCodeAt(++t.position)}return captureSegment(t,c,u,!1),!!t.result||(t.kind=v,t.result=y,!1)}(t,E,1===i)&&(I=!0,null===t.tag&&(t.tag="?")),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):0===P&&(I=m&&readBlockSequence(t,T))),null===t.tag)null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);else if("?"===t.tag){for(null!==t.result&&"scalar"!==t.kind&&throwError(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),S=0,x=t.implicitTypes.length;S<x;S+=1)if((_=t.implicitTypes[S]).resolve(t.result)){t.result=_.construct(t.result),t.tag=_.tag,null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);break}}else if("!"!==t.tag){if(f.call(t.typeMap[t.kind||"fallback"],t.tag))_=t.typeMap[t.kind||"fallback"][t.tag];else for(S=0,_=null,x=(C=t.typeMap.multi[t.kind||"fallback"]).length;S<x;S+=1)if(t.tag.slice(0,C[S].tag.length)===C[S].tag){_=C[S];break}_||throwError(t,"unknown tag !<"+t.tag+">"),null!==t.result&&_.kind!==t.kind&&throwError(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+_.kind+'", not "'+t.kind+'"'),_.resolve(t.result,t.tag)?(t.result=_.construct(t.result,t.tag),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):throwError(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return null!==t.listener&&t.listener("close",t),null!==t.tag||null!==t.anchor||I}function loadDocuments(t,n){t=String(t),n=n||{},0!==t.length&&(10!==t.charCodeAt(t.length-1)&&13!==t.charCodeAt(t.length-1)&&(t+="\n"),65279===t.charCodeAt(0)&&(t=t.slice(1)));var i=new State(t,n),o=t.indexOf("\x00");for(-1!==o&&(i.position=o,throwError(i,"null byte is not allowed in input")),i.input+="\x00";32===i.input.charCodeAt(i.position);)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)!function(t){var n,i,o,c,u=t.position,h=!1;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);0!==(c=t.input.charCodeAt(t.position))&&(skipSeparationSpace(t,!0,-1),c=t.input.charCodeAt(t.position),!(t.lineIndent>0)&&37===c);){for(h=!0,c=t.input.charCodeAt(++t.position),n=t.position;0!==c&&!is_WS_OR_EOL(c);)c=t.input.charCodeAt(++t.position);for(i=t.input.slice(n,t.position),o=[],i.length<1&&throwError(t,"directive name must not be less than one character in length");0!==c;){for(;is_WHITE_SPACE(c);)c=t.input.charCodeAt(++t.position);if(35===c){do c=t.input.charCodeAt(++t.position);while(0!==c&&!is_EOL(c));break}if(is_EOL(c))break;for(n=t.position;0!==c&&!is_WS_OR_EOL(c);)c=t.input.charCodeAt(++t.position);o.push(t.input.slice(n,t.position))}0!==c&&readLineBreak(t),f.call(x,i)?x[i](t,i,o):throwWarning(t,'unknown document directive "'+i+'"')}if(skipSeparationSpace(t,!0,-1),0===t.lineIndent&&45===t.input.charCodeAt(t.position)&&45===t.input.charCodeAt(t.position+1)&&45===t.input.charCodeAt(t.position+2)?(t.position+=3,skipSeparationSpace(t,!0,-1)):h&&throwError(t,"directives end mark is expected"),composeNode(t,t.lineIndent-1,4,!1,!0),skipSeparationSpace(t,!0,-1),t.checkLineBreaks&&m.test(t.input.slice(u,t.position))&&throwWarning(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&testDocumentSeparator(t)){46===t.input.charCodeAt(t.position)&&(t.position+=3,skipSeparationSpace(t,!0,-1));return}t.position<t.length-1&&throwError(t,"end of the stream or a document separator is expected")}(i);return i.documents}t.exports.loadAll=function(t,n,i){null!==n&&"object"==typeof n&&void 0===i&&(i=n,n=null);var o=loadDocuments(t,i);if("function"!=typeof n)return o;for(var c=0,u=o.length;c<u;c+=1)n(o[c])},t.exports.load=function(t,n){var i=loadDocuments(t,n);if(0!==i.length){if(1===i.length)return i[0];throw new c("expected a single document in the stream, but found more")}}},3021:function(t,n,i){"use strict";var o=i(7132),c=i(1816);function compileList(t,n){var i=[];return t[n].forEach(function(t){var n=i.length;i.forEach(function(i,o){i.tag===t.tag&&i.kind===t.kind&&i.multi===t.multi&&(n=o)}),i[n]=t}),i}function Schema(t){return this.extend(t)}Schema.prototype.extend=function(t){var n=[],i=[];if(t instanceof c)i.push(t);else if(Array.isArray(t))i=i.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(i=i.concat(t.explicit));else throw new o("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(t){if(!(t instanceof c))throw new o("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(t.loadKind&&"scalar"!==t.loadKind)throw new o("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(t.multi)throw new o("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(t){if(!(t instanceof c))throw new o("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var u=Object.create(Schema.prototype);return u.implicit=(this.implicit||[]).concat(n),u.explicit=(this.explicit||[]).concat(i),u.compiledImplicit=compileList(u,"implicit"),u.compiledExplicit=compileList(u,"explicit"),u.compiledTypeMap=function(){var t,n,i={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function collectType(t){t.multi?(i.multi[t.kind].push(t),i.multi.fallback.push(t)):i[t.kind][t.tag]=i.fallback[t.tag]=t}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(collectType);return i}(u.compiledImplicit,u.compiledExplicit),u},t.exports=Schema},2775:function(t,n,i){"use strict";t.exports=i(2560)},4226:function(t,n,i){"use strict";t.exports=i(2775).extend({implicit:[i(1324),i(4648)],explicit:[i(9171),i(6431),i(4318),i(1550)]})},3611:function(t,n,i){"use strict";var o=i(3021);t.exports=new o({explicit:[i(8878),i(6723),i(248)]})},2560:function(t,n,i){"use strict";t.exports=i(3611).extend({implicit:[i(2741),i(833),i(9512),i(2762)]})},3268:function(t,n,i){"use strict";var o=i(6381);function getLine(t,n,i,o,c){var u="",h="",f=Math.floor(c/2)-1;return o-n>f&&(n=o-f+(u=" ... ").length),i-o>f&&(i=o+f-(h=" ...").length),{str:u+t.slice(n,i).replace(/\t/g,"")+h,pos:o-n+u.length}}function padStart(t,n){return o.repeat(" ",n-t.length)+t}t.exports=function(t,n){if(n=Object.create(n||null),!t.buffer)return null;n.maxLength||(n.maxLength=79),"number"!=typeof n.indent&&(n.indent=1),"number"!=typeof n.linesBefore&&(n.linesBefore=3),"number"!=typeof n.linesAfter&&(n.linesAfter=2);for(var i=/\r?\n|\r|\0/g,c=[0],u=[],h=-1;f=i.exec(t.buffer);)u.push(f.index),c.push(f.index+f[0].length),t.position<=f.index&&h<0&&(h=c.length-2);h<0&&(h=c.length-1);var f,d,m,g="",v=Math.min(t.line+n.linesAfter,u.length).toString().length,y=n.maxLength-(n.indent+v+3);for(d=1;d<=n.linesBefore&&!(h-d<0);d++)m=getLine(t.buffer,c[h-d],u[h-d],t.position-(c[h]-c[h-d]),y),g=o.repeat(" ",n.indent)+padStart((t.line-d+1).toString(),v)+" | "+m.str+"\n"+g;for(m=getLine(t.buffer,c[h],u[h],t.position,y),g+=o.repeat(" ",n.indent)+padStart((t.line+1).toString(),v)+" | "+m.str+"\n"+o.repeat("-",n.indent+v+3+m.pos)+"^\n",d=1;d<=n.linesAfter&&!(h+d>=u.length);d++)m=getLine(t.buffer,c[h+d],u[h+d],t.position-(c[h]-c[h+d]),y),g+=o.repeat(" ",n.indent)+padStart((t.line+d+1).toString(),v)+" | "+m.str+"\n";return g.replace(/\n$/,"")}},1816:function(t,n,i){"use strict";var o=i(7132),c=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],u=["scalar","sequence","mapping"];t.exports=function(t,n){var i,h;if(Object.keys(n=n||{}).forEach(function(n){if(-1===c.indexOf(n))throw new o('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=n,this.tag=t,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(t){return t},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.representName=n.representName||null,this.defaultStyle=n.defaultStyle||null,this.multi=n.multi||!1,this.styleAliases=(i=n.styleAliases||null,h={},null!==i&&Object.keys(i).forEach(function(t){i[t].forEach(function(n){h[String(n)]=t})}),h),-1===u.indexOf(this.kind))throw new o('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}},9171:function(t,n,i){"use strict";var o=i(1816),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";t.exports=new o("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(t){if(null===t)return!1;var n,i,o=0,u=t.length;for(i=0;i<u;i++)if(!((n=c.indexOf(t.charAt(i)))>64)){if(n<0)return!1;o+=6}return o%8==0},construct:function(t){var n,i,o=t.replace(/[\r\n=]/g,""),u=o.length,h=0,f=[];for(n=0;n<u;n++)n%4==0&&n&&(f.push(h>>16&255),f.push(h>>8&255),f.push(255&h)),h=h<<6|c.indexOf(o.charAt(n));return 0==(i=u%4*6)?(f.push(h>>16&255),f.push(h>>8&255),f.push(255&h)):18===i?(f.push(h>>10&255),f.push(h>>2&255)):12===i&&f.push(h>>4&255),new Uint8Array(f)},predicate:function(t){return"[object Uint8Array]"===Object.prototype.toString.call(t)},represent:function(t){var n,i,o="",u=0,h=t.length;for(n=0;n<h;n++)n%3==0&&n&&(o+=c[u>>18&63]+c[u>>12&63]+c[u>>6&63]+c[63&u]),u=(u<<8)+t[n];return 0==(i=h%3)?o+=c[u>>18&63]+c[u>>12&63]+c[u>>6&63]+c[63&u]:2===i?o+=c[u>>10&63]+c[u>>4&63]+c[u<<2&63]+c[64]:1===i&&(o+=c[u>>2&63]+c[u<<4&63]+c[64]+c[64]),o}})},833:function(t,n,i){"use strict";var o=i(1816);t.exports=new o("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(t){if(null===t)return!1;var n=t.length;return 4===n&&("true"===t||"True"===t||"TRUE"===t)||5===n&&("false"===t||"False"===t||"FALSE"===t)},construct:function(t){return"true"===t||"True"===t||"TRUE"===t},predicate:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"})},2762:function(t,n,i){"use strict";var o=i(6381),c=i(1816),u=RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),h=/^[-+]?[0-9]+e/;t.exports=new c("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(t){return!!(null!==t&&u.test(t)&&"_"!==t[t.length-1])},construct:function(t){var n,i;return(i="-"===(n=t.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(n[0])>=0&&(n=n.slice(1)),".inf"===n)?1===i?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===n?NaN:i*parseFloat(n,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&(t%1!=0||o.isNegativeZero(t))},represent:function(t,n){var i;if(isNaN(t))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(o.isNegativeZero(t))return"-0.0";return i=t.toString(10),h.test(i)?i.replace("e",".e"):i},defaultStyle:"lowercase"})},9512:function(t,n,i){"use strict";var o=i(6381),c=i(1816);t.exports=new c("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(t){if(null===t)return!1;var n,i,o,c,u=t.length,h=0,f=!1;if(!u)return!1;if(("-"===(c=t[h])||"+"===c)&&(c=t[++h]),"0"===c){if(h+1===u)return!0;if("b"===(c=t[++h])){for(h++;h<u;h++)if("_"!==(c=t[h])){if("0"!==c&&"1"!==c)return!1;f=!0}return f&&"_"!==c}if("x"===c){for(h++;h<u;h++)if("_"!==(c=t[h])){if(!(48<=(n=t.charCodeAt(h))&&n<=57||65<=n&&n<=70||97<=n&&n<=102))return!1;f=!0}return f&&"_"!==c}if("o"===c){for(h++;h<u;h++)if("_"!==(c=t[h])){if(!(48<=(i=t.charCodeAt(h))&&i<=55))return!1;f=!0}return f&&"_"!==c}}if("_"===c)return!1;for(;h<u;h++)if("_"!==(c=t[h])){if(!(48<=(o=t.charCodeAt(h))&&o<=57))return!1;f=!0}return!!f&&"_"!==c},construct:function(t){var n,i=t,o=1;if(-1!==i.indexOf("_")&&(i=i.replace(/_/g,"")),("-"===(n=i[0])||"+"===n)&&("-"===n&&(o=-1),n=(i=i.slice(1))[0]),"0"===i)return 0;if("0"===n){if("b"===i[1])return o*parseInt(i.slice(2),2);if("x"===i[1])return o*parseInt(i.slice(2),16);if("o"===i[1])return o*parseInt(i.slice(2),8)}return o*parseInt(i,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&t%1==0&&!o.isNegativeZero(t)},represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},248:function(t,n,i){"use strict";var o=i(1816);t.exports=new o("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return null!==t?t:{}}})},4648:function(t,n,i){"use strict";var o=i(1816);t.exports=new o("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(t){return"<<"===t||null===t}})},2741:function(t,n,i){"use strict";var o=i(1816);t.exports=new o("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(t){if(null===t)return!0;var n=t.length;return 1===n&&"~"===t||4===n&&("null"===t||"Null"===t||"NULL"===t)},construct:function(){return null},predicate:function(t){return null===t},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"})},6431:function(t,n,i){"use strict";var o=i(1816),c=Object.prototype.hasOwnProperty,u=Object.prototype.toString;t.exports=new o("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(t){if(null===t)return!0;var n,i,o,h,f,d=[];for(n=0,i=t.length;n<i;n+=1){if(o=t[n],f=!1,"[object Object]"!==u.call(o))return!1;for(h in o)if(c.call(o,h)){if(f)return!1;f=!0}if(!f||-1!==d.indexOf(h))return!1;d.push(h)}return!0},construct:function(t){return null!==t?t:[]}})},4318:function(t,n,i){"use strict";var o=i(1816),c=Object.prototype.toString;t.exports=new o("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(t){var n,i,o,u,h;if(null===t)return!0;for(n=0,h=Array(t.length),i=t.length;n<i;n+=1){if(o=t[n],"[object Object]"!==c.call(o)||1!==(u=Object.keys(o)).length)return!1;h[n]=[u[0],o[u[0]]]}return!0},construct:function(t){var n,i,o,c,u;if(null===t)return[];for(n=0,u=Array(t.length),i=t.length;n<i;n+=1)c=Object.keys(o=t[n]),u[n]=[c[0],o[c[0]]];return u}})},6723:function(t,n,i){"use strict";var o=i(1816);t.exports=new o("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return null!==t?t:[]}})},1550:function(t,n,i){"use strict";var o=i(1816),c=Object.prototype.hasOwnProperty;t.exports=new o("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(t){var n;if(null===t)return!0;for(n in t)if(c.call(t,n)&&null!==t[n])return!1;return!0},construct:function(t){return null!==t?t:{}}})},8878:function(t,n,i){"use strict";var o=i(1816);t.exports=new o("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return null!==t?t:""}})},1324:function(t,n,i){"use strict";var o=i(1816),c=RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),u=RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");t.exports=new o("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(t){return null!==t&&(null!==c.exec(t)||null!==u.exec(t))},construct:function(t){var n,i,o,h,f,d,m,g,v=0,y=null;if(null===(n=c.exec(t))&&(n=u.exec(t)),null===n)throw Error("Date resolve error");if(i=+n[1],o=+n[2]-1,h=+n[3],!n[4])return new Date(Date.UTC(i,o,h));if(f=+n[4],d=+n[5],m=+n[6],n[7]){for(v=n[7].slice(0,3);v.length<3;)v+="0";v=+v}return n[9]&&(y=(60*+n[10]+ +(n[11]||0))*6e4,"-"===n[9]&&(y=-y)),g=new Date(Date.UTC(i,o,h,f,d,m,v)),y&&g.setTime(g.getTime()-y),g},instanceOf:Date,represent:function(t){return t.toISOString()}})},6348:function(t,n,i){"use strict";var o=i(2688),c=i(1744),u=i(8270),h=i(8762),f=["src","srcSet","sizes","height","width","decoding","className","style","fetchPriority","placeholder","loading","unoptimized","fill","onLoadRef","onLoadingCompleteRef","setBlurComplete","setShowAltText","onLoad","onError"];function ownKeys(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,o)}return i}function _objectSpread(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(i),!0).forEach(function(n){h(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Image",{enumerable:!0,get:function(){return E}});var d=i(1024),m=i(8533)._(i(2265)),g=d._(i(4887)),v=d._(i(4555)),y=i(1304),w=i(6873),b=i(4247);i(2413);var S=i(5535),x=d._(i(5027)),C={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function handleLoading(t,n,i,o,c,u){var h=null==t?void 0:t.src;t&&t["data-loaded-src"]!==h&&(t["data-loaded-src"]=h,("decode"in t?t.decode():Promise.resolve()).catch(function(){}).then(function(){if(t.parentElement&&t.isConnected){if("empty"!==n&&c(!0),null==i?void 0:i.current){var u=new Event("load");Object.defineProperty(u,"target",{writable:!1,value:t});var h=!1,f=!1;i.current(_objectSpread(_objectSpread({},u),{},{nativeEvent:u,currentTarget:t,target:t,isDefaultPrevented:function(){return h},isPropagationStopped:function(){return f},persist:function(){},preventDefault:function(){h=!0,u.preventDefault()},stopPropagation:function(){f=!0,u.stopPropagation()}}))}(null==o?void 0:o.current)&&o.current(t)}}))}function getDynamicProps(t){var n=u(m.version.split("."),2),i=n[0],o=n[1],c=parseInt(i,10),h=parseInt(o,10);return c>18||18===c&&h>=3?{fetchPriority:t}:{fetchpriority:t}}var _=(0,m.forwardRef)(function(t,n){var i=t.src,o=t.srcSet,u=t.sizes,h=t.height,d=t.width,g=t.decoding,v=t.className,y=t.style,w=t.fetchPriority,b=t.placeholder,S=t.loading,x=t.unoptimized,C=t.fill,_=t.onLoadRef,E=t.onLoadingCompleteRef,T=t.setBlurComplete,P=t.setShowAltText,L=(t.onLoad,t.onError),I=c(t,f);return m.default.createElement("img",_objectSpread(_objectSpread(_objectSpread({},I),getDynamicProps(w)),{},{loading:S,width:d,height:h,decoding:g,"data-nimg":C?"fill":"1",className:v,style:y,sizes:u,srcSet:o,src:i,ref:(0,m.useCallback)(function(t){n&&("function"==typeof n?n(t):"object"==typeof n&&(n.current=t)),t&&(L&&(t.src=t.src),t.complete&&handleLoading(t,b,_,E,T,x))},[i,b,_,E,T,L,x,n]),onLoad:function(t){handleLoading(t.currentTarget,b,_,E,T,x)},onError:function(t){P(!0),"empty"!==b&&T(!0),L&&L(t)}}))});function ImagePreload(t){var n=t.isAppRouter,i=t.imgAttributes,o=_objectSpread({as:"image",imageSrcSet:i.srcSet,imageSizes:i.sizes,crossOrigin:i.crossOrigin,referrerPolicy:i.referrerPolicy},getDynamicProps(i.fetchPriority));return n&&g.default.preload?(g.default.preload(i.src,o),null):m.default.createElement(v.default,null,m.default.createElement("link",_objectSpread({key:"__nimg-"+i.src+i.srcSet+i.sizes,rel:"preload",href:i.srcSet?void 0:i.src},o)))}var E=(0,m.forwardRef)(function(t,n){var i=(0,m.useContext)(S.RouterContext),c=(0,m.useContext)(b.ImageConfigContext),h=(0,m.useMemo)(function(){var t=C||c||w.imageConfigDefault,n=[].concat(o(t.deviceSizes),o(t.imageSizes)).sort(function(t,n){return t-n}),i=t.deviceSizes.sort(function(t,n){return t-n});return _objectSpread(_objectSpread({},t),{},{allSizes:n,deviceSizes:i})},[c]),f=t.onLoad,d=t.onLoadingComplete,g=(0,m.useRef)(f);(0,m.useEffect)(function(){g.current=f},[f]);var v=(0,m.useRef)(d);(0,m.useEffect)(function(){v.current=d},[d]);var E=u((0,m.useState)(!1),2),T=E[0],P=E[1],L=u((0,m.useState)(!1),2),I=L[0],O=L[1],N=(0,y.getImgProps)(t,{defaultLoader:x.default,imgConf:h,blurComplete:T,showAltText:I}),B=N.props,z=N.meta;return m.default.createElement(m.default.Fragment,null,m.default.createElement(_,_objectSpread(_objectSpread({},B),{},{unoptimized:z.unoptimized,placeholder:z.placeholder,fill:z.fill,onLoadRef:g,onLoadingCompleteRef:v,setBlurComplete:P,setShowAltText:O,ref:n})),z.priority?m.default.createElement(ImagePreload,{isAppRouter:!i,imgAttributes:B}):null)});("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},9085:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AmpStateContext",{enumerable:!0,get:function(){return o}});var o=i(1024)._(i(2265)).default.createContext({})},9533:function(t,n){"use strict";function isInAmpMode(t){var n=void 0===t?{}:t,i=n.ampFirst,o=n.hybrid,c=n.hasQuery;return void 0!==i&&i||void 0!==o&&o&&void 0!==c&&c}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"isInAmpMode",{enumerable:!0,get:function(){return isInAmpMode}})},1304:function(t,n,i){"use strict";i(8270);var o=i(8762),c=i(1744),u=i(2688),h=["src","sizes","unoptimized","priority","loading","className","quality","width","height","fill","style","onLoad","onLoadingComplete","placeholder","blurDataURL","fetchPriority","layout","objectFit","objectPosition","lazyBoundary","lazyRoot"],f=["config"];function ownKeys(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,o)}return i}function _objectSpread(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(i),!0).forEach(function(n){o(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"getImgProps",{enumerable:!0,get:function(){return getImgProps}}),i(2413);var d=i(6938),m=i(6873);function isStaticRequire(t){return void 0!==t.default}function getInt(t){return void 0===t?t:"number"==typeof t?Number.isFinite(t)?t:NaN:"string"==typeof t&&/^[0-9]+$/.test(t)?parseInt(t,10):NaN}function getImgProps(t,n){var i,o,g,v,y=t.src,w=t.sizes,b=t.unoptimized,S=void 0!==b&&b,x=t.priority,C=void 0!==x&&x,_=t.loading,E=t.className,T=t.quality,P=t.width,L=t.height,I=t.fill,O=void 0!==I&&I,N=t.style,B=(t.onLoad,t.onLoadingComplete,t.placeholder),z=void 0===B?"empty":B,V=t.blurDataURL,H=t.fetchPriority,U=t.layout,$=t.objectFit,q=t.objectPosition,G=(t.lazyBoundary,t.lazyRoot,c(t,h)),Z=n.imgConf,Y=n.showAltText,X=n.blurComplete,J=n.defaultLoader,en=Z||m.imageConfigDefault;if("allSizes"in en)o=en;else{var er=[].concat(u(en.deviceSizes),u(en.imageSizes)).sort(function(t,n){return t-n}),ei=en.deviceSizes.sort(function(t,n){return t-n});o=_objectSpread(_objectSpread({},en),{},{allSizes:er,deviceSizes:ei})}var eo=G.loader||J;delete G.loader,delete G.srcSet;var es="__next_img_default"in eo;if(es){if("custom"===o.loader)throw Error('Image with src "'+y+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader')}else{var ea=eo;eo=function(t){return t.config,ea(c(t,f))}}if(U){"fill"===U&&(O=!0);var el={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[U];el&&(N=_objectSpread(_objectSpread({},N),el));var ec={responsive:"100vw",fill:"100vw"}[U];ec&&!w&&(w=ec)}var eu="",eh=getInt(P),ef=getInt(L);if("object"==typeof(i=y)&&(isStaticRequire(i)||void 0!==i.src)){var ed=isStaticRequire(y)?y.default:y;if(!ed.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(ed));if(!ed.height||!ed.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(ed));if(g=ed.blurWidth,v=ed.blurHeight,V=V||ed.blurDataURL,eu=ed.src,!O){if(eh||ef){if(eh&&!ef){var ep=eh/ed.width;ef=Math.round(ed.height*ep)}else if(!eh&&ef){var em=ef/ed.height;eh=Math.round(ed.width*em)}}else eh=ed.width,ef=ed.height}}var eg=!C&&("lazy"===_||void 0===_);(!(y="string"==typeof y?y:eu)||y.startsWith("data:")||y.startsWith("blob:"))&&(S=!0,eg=!1),o.unoptimized&&(S=!0),es&&y.endsWith(".svg")&&!o.dangerouslyAllowSVG&&(S=!0),C&&(H="high");var ev=getInt(T),ey=Object.assign(O?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:$,objectPosition:q}:{},Y?{}:{color:"transparent"},N),ew=X||"empty"===z?null:"blur"===z?'url("data:image/svg+xml;charset=utf-8,'+(0,d.getImageBlurSvg)({widthInt:eh,heightInt:ef,blurWidth:g,blurHeight:v,blurDataURL:V||"",objectFit:ey.objectFit})+'")':'url("'+z+'")',eb=ew?{backgroundSize:ey.objectFit||"cover",backgroundPosition:ey.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:ew}:{},eS=function(t){var n=t.config,i=t.src,o=t.unoptimized,c=t.width,h=t.quality,f=t.sizes,d=t.loader;if(o)return{src:i,srcSet:void 0,sizes:void 0};var m=function(t,n,i){var o=t.deviceSizes,c=t.allSizes;if(i){for(var h,f=/(^|\s)(1?\d?\d)vw/g,d=[];h=f.exec(i);h)d.push(parseInt(h[2]));if(d.length){var m=.01*Math.min.apply(Math,d);return{widths:c.filter(function(t){return t>=o[0]*m}),kind:"w"}}return{widths:c,kind:"w"}}return"number"!=typeof n?{widths:o,kind:"w"}:{widths:u(new Set([n,2*n].map(function(t){return c.find(function(n){return n>=t})||c[c.length-1]}))),kind:"x"}}(n,c,f),g=m.widths,v=m.kind,y=g.length-1;return{sizes:f||"w"!==v?f:"100vw",srcSet:g.map(function(t,o){return d({config:n,src:i,quality:h,width:t})+" "+("w"===v?t:o+1)+v}).join(", "),src:d({config:n,src:i,quality:h,width:g[y]})}}({config:o,src:y,unoptimized:S,width:eh,quality:ev,sizes:w,loader:eo});return{props:_objectSpread(_objectSpread({},G),{},{loading:eg?"lazy":_,fetchPriority:H,width:eh,height:ef,decoding:"async",className:E,style:_objectSpread(_objectSpread({},ey),eb),sizes:eS.sizes,srcSet:eS.srcSet,src:eS.src}),meta:{unoptimized:S,priority:C,placeholder:z,fill:O}}}},4555:function(t,n,i){"use strict";var o=i(8762);function ownKeys(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,o)}return i}Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var i in n)Object.defineProperty(t,i,{enumerable:!0,get:n[i]})}(n,{defaultHead:function(){return _defaultHead},default:function(){return _default2}});var c=i(1024),u=i(8533)._(i(2265)),h=c._(i(5264)),f=i(9085),d=i(8160),m=i(9533);function _defaultHead(t){void 0===t&&(t=!1);var n=[u.default.createElement("meta",{charSet:"utf-8"})];return t||n.push(u.default.createElement("meta",{name:"viewport",content:"width=device-width"})),n}function onlyReactElement(t,n){return"string"==typeof n||"number"==typeof n?t:n.type===u.default.Fragment?t.concat(u.default.Children.toArray(n.props.children).reduce(function(t,n){return"string"==typeof n||"number"==typeof n?t:t.concat(n)},[])):t.concat(n)}i(2413);var g=["name","httpEquiv","charSet","itemProp"];function reduceComponents(t,n){var i,c,h,f,d=n.inAmpMode;return t.reduce(onlyReactElement,[]).reverse().concat(_defaultHead(d).reverse()).filter((i=new Set,c=new Set,h=new Set,f={},function(t){var n=!0,o=!1;if(t.key&&"number"!=typeof t.key&&t.key.indexOf("$")>0){o=!0;var u=t.key.slice(t.key.indexOf("$")+1);i.has(u)?n=!1:i.add(u)}switch(t.type){case"title":case"base":c.has(t.type)?n=!1:c.add(t.type);break;case"meta":for(var d=0,m=g.length;d<m;d++){var v=g[d];if(t.props.hasOwnProperty(v)){if("charSet"===v)h.has(v)?n=!1:h.add(v);else{var y=t.props[v],w=f[v]||new Set;("name"!==v||!o)&&w.has(y)?n=!1:(w.add(y),f[v]=w)}}}}return n})).reverse().map(function(t,n){var i=t.key||n;if(!d&&"link"===t.type&&t.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(function(n){return t.props.href.startsWith(n)})){var c=function(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(i),!0).forEach(function(n){o(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}({},t.props||{});return c["data-href"]=c.href,c.href=void 0,c["data-optimized-fonts"]=!0,u.default.cloneElement(t,c)}return u.default.cloneElement(t,{key:i})})}var _default2=function(t){var n=t.children,i=(0,u.useContext)(f.AmpStateContext),o=(0,u.useContext)(d.HeadManagerContext);return u.default.createElement(h.default,{reduceComponentsToState:reduceComponents,headManager:o,inAmpMode:(0,m.isInAmpMode)(i)},n)};("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},6938:function(t,n){"use strict";function getImageBlurSvg(t){var n=t.widthInt,i=t.heightInt,o=t.blurWidth,c=t.blurHeight,u=t.blurDataURL,h=t.objectFit,f=o?40*o:n,d=c?40*c:i,m=f&&d?"viewBox='0 0 "+f+" "+d+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+m+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(m?"none":"contain"===h?"xMidYMid":"cover"===h?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+u+"'/%3E%3C/svg%3E"}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"getImageBlurSvg",{enumerable:!0,get:function(){return getImageBlurSvg}})},4247:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ImageConfigContext",{enumerable:!0,get:function(){return u}});var o=i(1024)._(i(2265)),c=i(6873),u=o.default.createContext(c.imageConfigDefault)},6873:function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var i in n)Object.defineProperty(t,i,{enumerable:!0,get:n[i]})}(n,{VALID_LOADERS:function(){return i},imageConfigDefault:function(){return o}});var i=["default","imgix","cloudinary","akamai","custom"],o={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"inline",remotePatterns:[],unoptimized:!1}},6543:function(t,n,i){"use strict";var o=i(8270);Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var i in n)Object.defineProperty(t,i,{enumerable:!0,get:n[i]})}(n,{default:function(){return m},unstable_getImgProps:function(){return _unstable_getImgProps}});var c=i(1024),u=i(1304),h=i(2413),f=i(6348),d=c._(i(5027)),_unstable_getImgProps=function(t){(0,h.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");for(var n=(0,u.getImgProps)(t,{defaultLoader:d.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}}).props,i=0,c=Object.entries(n);i<c.length;i++){var f=o(c[i],2),m=f[0];void 0===f[1]&&delete n[m]}return{props:n}},m=f.Image},5027:function(t,n){"use strict";function defaultLoader(t){var n=t.config,i=t.src,o=t.width,c=t.quality;return n.path+"?url="+encodeURIComponent(i)+"&w="+o+"&q="+(c||75)}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}}),defaultLoader.__next_img_default=!0;var i=defaultLoader},5535:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"RouterContext",{enumerable:!0,get:function(){return o}});var o=i(1024)._(i(2265)).default.createContext(null)},5264:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return SideEffect}});var o=i(8533)._(i(2265)),c=o.useLayoutEffect,u=o.useEffect;function SideEffect(t){var n=t.headManager,i=t.reduceComponentsToState;function emitChange(){if(n&&n.mountedInstances){var c=o.Children.toArray(Array.from(n.mountedInstances).filter(Boolean));n.updateHead(i(c,t))}}return c(function(){var i;return null==n||null==(i=n.mountedInstances)||i.add(t.children),function(){var i;null==n||null==(i=n.mountedInstances)||i.delete(t.children)}}),c(function(){return n&&(n._pendingUpdate=emitChange),function(){n&&(n._pendingUpdate=emitChange)}}),u(function(){return n&&n._pendingUpdate&&(n._pendingUpdate(),n._pendingUpdate=null),function(){n&&n._pendingUpdate&&(n._pendingUpdate(),n._pendingUpdate=null)}}),null}},2413:function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"warnOnce",{enumerable:!0,get:function(){return warnOnce}});var warnOnce=function(t){}},715:function(){},6691:function(t,n,i){t.exports=i(6543)},4033:function(t,n,i){t.exports=i(8210)},2527:function(t,n,i){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=i(2265),c="function"==typeof Object.is?Object.is:function(t,n){return t===n&&(0!==t||1/t==1/n)||t!=t&&n!=n},u=o.useState,h=o.useEffect,f=o.useLayoutEffect,d=o.useDebugValue;function r(t){var n=t.getSnapshot;t=t.value;try{var i=n();return!c(t,i)}catch(t){return!0}}var m="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,n){return n()}:function(t,n){var i=n(),o=u({inst:{value:i,getSnapshot:n}}),c=o[0].inst,m=o[1];return f(function(){c.value=i,c.getSnapshot=n,r(c)&&m({inst:c})},[t,i,n]),h(function(){return r(c)&&m({inst:c}),t(function(){r(c)&&m({inst:c})})},[t]),d(i),i};n.useSyncExternalStore=void 0!==o.useSyncExternalStore?o.useSyncExternalStore:m},8989:function(t,n,i){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=i(2265),c=i(896),u="function"==typeof Object.is?Object.is:function(t,n){return t===n&&(0!==t||1/t==1/n)||t!=t&&n!=n},h=c.useSyncExternalStore,f=o.useRef,d=o.useEffect,m=o.useMemo,g=o.useDebugValue;n.useSyncExternalStoreWithSelector=function(t,n,i,o,c){var v=f(null);if(null===v.current){var y={hasValue:!1,value:null};v.current=y}else y=v.current;var w=h(t,(v=m(function(){function a(n){if(!f){if(f=!0,t=n,n=o(n),void 0!==c&&y.hasValue){var i=y.value;if(c(i,n))return h=i}return h=n}if(i=h,u(t,n))return i;var d=o(n);return void 0!==c&&c(i,d)?i:(t=n,h=d)}var t,h,f=!1,d=void 0===i?null:i;return[function(){return a(n())},null===d?void 0:function(){return a(d())}]},[n,i,o,c]))[0],v[1]);return d(function(){y.hasValue=!0,y.value=w},[w]),g(w),w}},896:function(t,n,i){"use strict";t.exports=i(2527)},609:function(t,n,i){"use strict";t.exports=i(8989)},7563:function(t){t.exports=function(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,o=Array(n);i<n;i++)o[i]=t[i];return o},t.exports.__esModule=!0,t.exports.default=t.exports},8158:function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},6358:function(t){t.exports=function(t,n){if(!(t instanceof n))throw TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},1127:function(t,n,i){var o=i(63);function _defineProperties(t,n){for(var i=0;i<n.length;i++){var c=n[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,o(c.key),c)}}t.exports=function(t,n,i){return n&&_defineProperties(t.prototype,n),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},8104:function(t,n,i){var o=i(63);t.exports=function(t,n,i){return(n=o(n))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t},t.exports.__esModule=!0,t.exports.default=t.exports},6314:function(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},2731:function(t){t.exports=function(t,n){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var o,c,u,h,f=[],d=!0,m=!1;try{if(u=(i=i.call(t)).next,0===n){if(Object(i)!==i)return;d=!1}else for(;!(d=(o=u.call(i)).done)&&(f.push(o.value),f.length!==n);d=!0);}catch(t){m=!0,c=t}finally{try{if(!d&&null!=i.return&&(h=i.return(),Object(h)!==h))return}finally{if(m)throw c}}return f}},t.exports.__esModule=!0,t.exports.default=t.exports},4980:function(t){t.exports=function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},4634:function(t,n,i){var o=i(8158),c=i(2731),u=i(2214),h=i(4980);t.exports=function(t,n){return o(t)||c(t,n)||u(t,n)||h()},t.exports.__esModule=!0,t.exports.default=t.exports},9944:function(t,n,i){var o=i(1565).default;t.exports=function(t,n){if("object"!=o(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var c=i.call(t,n||"default");if("object"!=o(c))return c;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},63:function(t,n,i){var o=i(1565).default,c=i(9944);t.exports=function(t){var n=c(t,"string");return"symbol"==o(n)?n:n+""},t.exports.__esModule=!0,t.exports.default=t.exports},1565:function(t){function _typeof(n){return t.exports=_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,_typeof(n)}t.exports=_typeof,t.exports.__esModule=!0,t.exports.default=t.exports},2214:function(t,n,i){var o=i(7563);t.exports=function(t,n){if(t){if("string"==typeof t)return o(t,n);var i=({}).toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(t,n):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},1197:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(4350),c=i(1135),u=i(8326),h=i(2382),f=i(5627);let CompletionContext=class CompletionContext{constructor(t,n,i){this.state=t,this.pos=n,this.explicit=i,this.abortListeners=[]}tokenBefore(t){let n=h.syntaxTree(this.state).resolveInner(this.pos,-1);for(;n&&0>t.indexOf(n.name);)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(t){let n=this.state.doc.lineAt(this.pos),i=Math.max(n.from,this.pos-250),o=n.text.slice(i-n.from,this.pos-n.from),c=o.search(ensureAnchor(t,!1));return c<0?null:{from:i+c,to:this.pos,text:o.slice(c)}}get aborted(){return null==this.abortListeners}addEventListener(t,n){"abort"==t&&this.abortListeners&&this.abortListeners.push(n)}};function toSet(t){let n=Object.keys(t).join(""),i=/\w/.test(n);return i&&(n=n.replace(/\w/g,"")),`[${i?"\\w":""}${n.replace(/[^\w\s]/g,"\\$&")}]`}function completeFromList(t){let n=t.map(t=>"string"==typeof t?{label:t}:t),[i,o]=n.every(t=>/^\w+$/.test(t.label))?[/\w*$/,/\w+$/]:function(t){let n=Object.create(null),i=Object.create(null);for(let{label:o}of t){n[o[0]]=!0;for(let t=1;t<o.length;t++)i[o[t]]=!0}let o=toSet(n)+toSet(i)+"*$";return[RegExp("^"+o),new RegExp(o)]}(n);return t=>{let c=t.matchBefore(o);return c||t.explicit?{from:c?c.from:t.pos,options:n,span:i}:null}}let Option=class Option{constructor(t,n,i){this.completion=t,this.source=n,this.match=i}};function cur(t){return t.selection.main.head}function ensureAnchor(t,n){var i;let{source:o}=t,c=n&&"^"!=o[0],u="$"!=o[o.length-1];return c||u?RegExp(`${c?"^":""}(?:${o})${u?"$":""}`,null!==(i=t.flags)&&void 0!==i?i:t.ignoreCase?"i":""):t}let d=o.Annotation.define();function applyCompletion(t,n){let i=n.completion.apply||n.completion.label,o=n.source;"string"==typeof i?t.dispatch({changes:{from:o.from,to:o.to,insert:i},selection:{anchor:o.from+i.length},userEvent:"input.complete",annotations:d.of(n.completion)}):i(t,n.completion,o.from,o.to)}let m=new WeakMap;function asSource(t){if(!Array.isArray(t))return t;let n=m.get(t);return n||m.set(t,n=completeFromList(t)),n}let FuzzyMatcher=class FuzzyMatcher{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let n=0;n<t.length;){let i=f.codePointAt(t,n),o=f.codePointSize(i);this.chars.push(i);let c=t.slice(n,n+o),u=c.toUpperCase();this.folded.push(f.codePointAt(u==c?c.toLowerCase():u,0)),n+=o}this.astral=t.length!=this.chars.length}match(t){if(0==this.pattern.length)return[0];if(t.length<this.pattern.length)return null;let{chars:n,folded:i,any:o,precise:c,byWord:u}=this;if(1==n.length){let o=f.codePointAt(t,0);return o==n[0]?[0,0,f.codePointSize(o)]:o==i[0]?[-200,0,f.codePointSize(o)]:null}let h=t.indexOf(this.pattern);if(0==h)return[0,0,this.pattern.length];let d=n.length,m=0;if(h<0){for(let c=0,u=Math.min(t.length,200);c<u&&m<d;){let u=f.codePointAt(t,c);(u==n[m]||u==i[m])&&(o[m++]=c),c+=f.codePointSize(u)}if(m<d)return null}let g=0,v=0,y=!1,w=0,b=-1,S=-1,x=/[a-z]/.test(t),C=!0;for(let o=0,m=Math.min(t.length,200),_=0;o<m&&v<d;){let m=f.codePointAt(t,o);h<0&&(g<d&&m==n[g]&&(c[g++]=o),w<d&&(m==n[w]||m==i[w]?(0==w&&(b=o),S=o+1,w++):w=0));let E,T=m<255?m>=48&&m<=57||m>=97&&m<=122?2:m>=65&&m<=90?1:0:(E=f.fromCodePoint(m))!=E.toLowerCase()?1:E!=E.toUpperCase()?2:0;(!o||1==T&&x||0==_&&0!=T)&&(n[v]==m||i[v]==m&&(y=!0)?u[v++]=o:u.length&&(C=!1)),_=T,o+=f.codePointSize(m)}return v==d&&0==u[0]&&C?this.result(-100+(y?-200:0),u,t):w==d&&0==b?[-200-t.length,0,S]:h>-1?[-700-t.length,h,h+this.pattern.length]:w==d?[-900-t.length,b,S]:v==d?this.result(-100+(y?-200:0)+-700+(C?0:-1100),u,t):2==n.length?null:this.result((o[0]?-700:0)+-200+-1100,o,t)}result(t,n,i){let o=[t-i.length],c=1;for(let t of n){let n=t+(this.astral?f.codePointSize(f.codePointAt(i,t)):1);c>1&&o[c-1]==t?o[c-1]=n:(o[c++]=t,o[c++]=n)}return o}};let g=o.Facet.define({combine:t=>o.combineConfig(t,{activateOnTyping:!0,override:null,maxRenderedOptions:100,defaultKeymap:!0,optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[]},{defaultKeymap:(t,n)=>t&&n,icons:(t,n)=>t&&n,optionClass:(t,n)=>i=>{var o,c;return o=t(i),c=n(i),o?c?o+" "+c:o:c},addToOptions:(t,n)=>t.concat(n)})});function rangeAroundSelected(t,n,i){if(t<=i)return{from:0,to:t};if(n<=t>>1){let t=Math.floor(n/i);return{from:t*i,to:(t+1)*i}}let o=Math.floor((t-n)/i);return{from:t-(o+1)*i,to:t-o*i}}let CompletionTooltip=class CompletionTooltip{constructor(t,n){let i;this.view=t,this.stateField=n,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:t=>this.positionInfo(t),key:this};let o=t.state.field(n),{options:c,selected:u}=o.open,h=t.state.facet(g);this.optionContent=(i=h.addToOptions.slice(),h.icons&&i.push({render(t){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),t.type&&n.classList.add(...t.type.split(/\s+/g).map(t=>"cm-completionIcon-"+t)),n.setAttribute("aria-hidden","true"),n},position:20}),i.push({render(t,n,i){let o=document.createElement("span");o.className="cm-completionLabel";let{label:c}=t,u=0;for(let t=1;t<i.length;){let n=i[t++],h=i[t++];n>u&&o.appendChild(document.createTextNode(c.slice(u,n)));let f=o.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(c.slice(n,h))),f.className="cm-completionMatchedText",u=h}return u<c.length&&o.appendChild(document.createTextNode(c.slice(u))),o},position:50},{render(t){if(!t.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=t.detail,n},position:80}),i.sort((t,n)=>t.position-n.position).map(t=>t.render)),this.optionClass=h.optionClass,this.range=rangeAroundSelected(c.length,u,h.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",n=>{for(let i=n.target,o;i&&i!=this.dom;i=i.parentNode)if("LI"==i.nodeName&&(o=/-(\d+)$/.exec(i.id))&&+o[1]<c.length){applyCompletion(t,c[+o[1]]),n.preventDefault();return}}),this.list=this.dom.appendChild(this.createListBox(c,o.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})}mount(){this.updateSel()}update(t){t.state.field(this.stateField)!=t.startState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let t=this.view.state.field(this.stateField),n=t.open;if((n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=rangeAroundSelected(n.options.length,n.selected,this.view.state.facet(g).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(n.options,t.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})),this.updateSelectedOption(n.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:i}=n.options[n.selected],{info:o}=i;if(!o)return;let u="string"==typeof o?document.createTextNode(o):o(i);if(!u)return;"then"in u?u.then(n=>{n&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(n)}).catch(t=>c.logException(this.view.state,t,"completion info")):this.addInfoPane(u)}}addInfoPane(t){let n=this.info=document.createElement("div");n.className="cm-tooltip cm-completionInfo",n.appendChild(t),this.dom.appendChild(n),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(t){var n,i;let o,c,u=null;for(let n=this.list.firstChild,i=this.range.from;n;n=n.nextSibling,i++)i==t?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),u=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return u&&(n=this.list,i=u,o=n.getBoundingClientRect(),(c=i.getBoundingClientRect()).top<o.top?n.scrollTop-=o.top-c.top:c.bottom>o.bottom&&(n.scrollTop+=c.bottom-o.bottom)),u}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let n=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),o=t.getBoundingClientRect();if(o.top>Math.min(innerHeight,n.bottom)-10||o.bottom<Math.max(0,n.top)+10)return null;let u=Math.max(0,Math.min(o.top,innerHeight-i.height))-n.top,h=this.view.textDirection==c.Direction.RTL,f=n.left,d=innerWidth-n.right;return h&&f<Math.min(i.width,d)?h=!1:!h&&d<Math.min(i.width,f)&&(h=!0),{top:u,left:h}}positionInfo(t){this.info&&(this.info.style.top=(t?t.top:-1e6)+"px",t&&(this.info.classList.toggle("cm-completionInfo-left",t.left),this.info.classList.toggle("cm-completionInfo-right",!t.left)))}createListBox(t,n,i){let o=document.createElement("ul");o.id=n,o.setAttribute("role","listbox"),o.setAttribute("aria-expanded","true");for(let c=i.from;c<i.to;c++){let{completion:i,match:u}=t[c],h=o.appendChild(document.createElement("li"));h.id=n+"-"+c,h.setAttribute("role","option");let f=this.optionClass(i);for(let t of(f&&(h.className=f),this.optionContent)){let n=t(i,this.view.state,u);n&&h.appendChild(n)}}return i.from&&o.classList.add("cm-completionListIncompleteTop"),i.to<t.length&&o.classList.add("cm-completionListIncompleteBottom"),o}};function score(t){return 100*(t.boost||0)+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}let CompletionDialog=class CompletionDialog{constructor(t,n,i,o,c){this.options=t,this.attrs=n,this.tooltip=i,this.timestamp=o,this.selected=c}setSelected(t,n){return t==this.selected||t>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(n,t),this.tooltip,this.timestamp,t)}static build(t,n,i,o,c){let u=function(t,n){let i=[],o=0;for(let c of t)if(c.hasResult()){if(!1===c.result.filter)for(let t of c.result.options)i.push(new Option(t,c,[1e9-o++]));else{let t=new FuzzyMatcher(n.sliceDoc(c.from,c.to)),o;for(let n of c.result.options)(o=t.match(n.label))&&(null!=n.boost&&(o[0]+=n.boost),i.push(new Option(n,c,o)))}}let c=[],u=null;for(let t of i.sort(cmpOption)){if(300==c.length)break;u&&u.label==t.completion.label&&u.detail==t.completion.detail&&u.type==t.completion.type&&u.apply==t.completion.apply?score(t.completion)>score(u)&&(c[c.length-1]=t):c.push(t),u=t.completion}return c}(t,n);if(!u.length)return null;let h=0;if(o&&o.selected){let t=o.options[o.selected].completion;for(let n=0;n<u.length;n++)if(u[n].completion==t){h=n;break}}return new CompletionDialog(u,makeAttrs(i,h),{pos:t.reduce((t,n)=>n.hasResult()?Math.min(t,n.from):t,1e8),create:t=>new CompletionTooltip(t,C),above:c.aboveCursor},o?o.timestamp:Date.now(),h)}map(t){return new CompletionDialog(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}};let CompletionState=class CompletionState{constructor(t,n,i){this.active=t,this.id=n,this.open=i}static start(){return new CompletionState(y,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(t){let{state:n}=t,i=n.facet(g),o=(i.override||n.languageDataAt("autocomplete",cur(n)).map(asSource)).map(n=>(this.active.find(t=>t.source==n)||new ActiveSource(n,this.active.some(t=>0!=t.state)?1:0)).update(t,i));o.length==this.active.length&&o.every((t,n)=>t==this.active[n])&&(o=this.active);let c=t.selection||o.some(n=>n.hasResult()&&t.changes.touchesRange(n.from,n.to))||!function(t,n){if(t==n)return!0;for(let i=0,o=0;;){for(;i<t.length&&!t[i].hasResult;)i++;for(;o<n.length&&!n[o].hasResult;)o++;let c=i==t.length,u=o==n.length;if(c||u)return c==u;if(t[i++].result!=n[o++].result)return!1}}(o,this.active)?CompletionDialog.build(o,n,this.id,this.open,i):this.open&&t.docChanged?this.open.map(t.changes):this.open;for(let n of(!c&&o.every(t=>1!=t.state)&&o.some(t=>t.hasResult())&&(o=o.map(t=>t.hasResult()?new ActiveSource(t.source,0):t)),t.effects))n.is(x)&&(c=c&&c.setSelected(n.value,this.id));return o==this.active&&c==this.open?this:new CompletionState(o,this.id,c)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:v}};let v={"aria-autocomplete":"list"};function makeAttrs(t,n){return{"aria-autocomplete":"list","aria-haspopup":"listbox","aria-activedescendant":t+"-"+n,"aria-controls":t}}let y=[];function cmpOption(t,n){return n.match[0]-t.match[0]||t.completion.label.localeCompare(n.completion.label)}function getUserEvent(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}let ActiveSource=class ActiveSource{constructor(t,n,i=-1){this.source=t,this.state=n,this.explicitPos=i}hasResult(){return!1}update(t,n){let i=getUserEvent(t),o=this;for(let c of(i?o=o.handleUserEvent(t,i,n):t.docChanged?o=o.handleChange(t):t.selection&&0!=o.state&&(o=new ActiveSource(o.source,0)),t.effects))if(c.is(w))o=new ActiveSource(o.source,1,c.value?cur(t.state):-1);else if(c.is(b))o=new ActiveSource(o.source,0);else if(c.is(S))for(let t of c.value)t.source==o.source&&(o=t);return o}handleUserEvent(t,n,i){return"delete"!=n&&i.activateOnTyping?new ActiveSource(this.source,1):this.map(t.changes)}handleChange(t){return t.changes.touchesRange(cur(t.startState))?new ActiveSource(this.source,0):this.map(t.changes)}map(t){return t.empty||this.explicitPos<0?this:new ActiveSource(this.source,this.state,t.mapPos(this.explicitPos))}};let ActiveResult=class ActiveResult extends ActiveSource{constructor(t,n,i,o,c,u){super(t,2,n),this.result=i,this.from=o,this.to=c,this.span=u}hasResult(){return!0}handleUserEvent(t,n,i){let o=t.changes.mapPos(this.from),c=t.changes.mapPos(this.to,1),u=cur(t.state);if((this.explicitPos<0?u<=o:u<this.from)||u>c||"delete"==n&&cur(t.startState)==this.from)return new ActiveSource(this.source,"input"==n&&i.activateOnTyping?1:0);let h=this.explicitPos<0?-1:t.changes.mapPos(this.explicitPos);return this.span&&(o==c||this.span.test(t.state.sliceDoc(o,c)))?new ActiveResult(this.source,h,this.result,o,c,this.span):new ActiveSource(this.source,1,h)}handleChange(t){return t.changes.touchesRange(this.from,this.to)?new ActiveSource(this.source,0):this.map(t.changes)}map(t){return t.empty?this:new ActiveResult(this.source,this.explicitPos<0?-1:t.mapPos(this.explicitPos),this.result,t.mapPos(this.from),t.mapPos(this.to,1),this.span)}};let w=o.StateEffect.define(),b=o.StateEffect.define(),S=o.StateEffect.define({map:(t,n)=>t.map(t=>t.map(n))}),x=o.StateEffect.define(),C=o.StateField.define({create:()=>CompletionState.start(),update:(t,n)=>t.update(n),provide:t=>[u.showTooltip.from(t,t=>t.tooltip),c.EditorView.contentAttributes.from(t,t=>t.attrs)]});function moveCompletionSelection(t,n="option"){return i=>{let o=i.state.field(C,!1);if(!o||!o.open||Date.now()-o.open.timestamp<75)return!1;let c=1,h;"page"==n&&(h=u.getTooltip(i,o.open.tooltip))&&(c=Math.max(2,Math.floor(h.dom.offsetHeight/h.dom.querySelector("li").offsetHeight)-1));let f=o.open.selected+c*(t?1:-1),{length:d}=o.open.options;return f<0?f="page"==n?0:d-1:f>=d&&(f="page"==n?d-1:0),i.dispatch({effects:x.of(f)}),!0}}let acceptCompletion=t=>{let n=t.state.field(C,!1);return!(t.state.readOnly||!n||!n.open||Date.now()-n.open.timestamp<75)&&(applyCompletion(t,n.open.options[n.open.selected]),!0)},startCompletion=t=>!!t.state.field(C,!1)&&(t.dispatch({effects:w.of(!0)}),!0),closeCompletion=t=>{let n=t.state.field(C,!1);return!!(n&&n.active.some(t=>0!=t.state))&&(t.dispatch({effects:b.of(null)}),!0)};let RunningQuery=class RunningQuery{constructor(t,n){this.active=t,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}};let _=c.ViewPlugin.fromClass(class{constructor(t){for(let n of(this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0,t.state.field(C).active))1==n.state&&this.startQuery(n)}update(t){let n=t.state.field(C);if(!t.selectionSet&&!t.docChanged&&t.startState.field(C)==n)return;let i=t.transactions.some(t=>(t.selection||t.docChanged)&&!getUserEvent(t));for(let n=0;n<this.running.length;n++){let o=this.running[n];if(i||o.updates.length+t.transactions.length>50&&Date.now()-o.time>1e3){for(let t of o.context.abortListeners)try{t()}catch(t){c.logException(this.view.state,t)}o.context.abortListeners=null,this.running.splice(n--,1)}else o.updates.push(...t.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=n.active.some(t=>1==t.state&&!this.running.some(n=>n.active.source==t.source))?setTimeout(()=>this.startUpdate(),50):-1,0!=this.composing)for(let n of t.transactions)"input"==getUserEvent(n)?this.composing=2:2==this.composing&&n.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:t}=this.view;for(let n of t.field(C).active)1!=n.state||this.running.some(t=>t.active.source==n.source)||this.startQuery(n)}startQuery(t){let{state:n}=this.view,i=cur(n),o=new CompletionContext(n,i,t.explicitPos==i),u=new RunningQuery(t,o);this.running.push(u),Promise.resolve(t.source(o)).then(t=>{u.context.aborted||(u.done=t||null,this.scheduleAccept())},t=>{this.view.dispatch({effects:b.of(null)}),c.logException(this.view.state,t)})}scheduleAccept(){this.running.every(t=>void 0!==t.done)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),50))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let n=[],i=this.view.state.facet(g);for(let o=0;o<this.running.length;o++){let c=this.running[o];if(void 0===c.done)continue;if(this.running.splice(o--,1),c.done){let o=new ActiveResult(c.active.source,c.active.explicitPos,c.done,c.done.from,null!==(t=c.done.to)&&void 0!==t?t:cur(c.updates.length?c.updates[0].startState:this.view.state),c.done.span&&!1!==c.done.filter?ensureAnchor(c.done.span,!0):null);for(let t of c.updates)o=o.update(t,i);if(o.hasResult()){n.push(o);continue}}let u=this.view.state.field(C).active.find(t=>t.source==c.active.source);if(u&&1==u.state){if(null==c.done){let t=new ActiveSource(c.active.source,0);for(let n of c.updates)t=t.update(n,i);1!=t.state&&n.push(t)}else this.startQuery(u)}}n.length&&this.view.dispatch({effects:S.of(n)})}},{eventHandlers:{compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout(()=>this.view.dispatch({effects:w.of(!1)}),20),this.composing=0}}}),E=c.EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"'\uD835\uDC65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\uD835\uDC36'"}},".cm-completionIcon-type":{"&:after":{content:"'\uD835\uDC61'"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"'\uD83D\uDD11'"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});let FieldPos=class FieldPos{constructor(t,n,i,o){this.field=t,this.line=n,this.from=i,this.to=o}};let FieldRange=class FieldRange{constructor(t,n,i){this.field=t,this.from=n,this.to=i}map(t){let n=t.mapPos(this.from,-1,o.MapMode.TrackDel),i=t.mapPos(this.to,1,o.MapMode.TrackDel);return null==n||null==i?null:new FieldRange(this.field,n,i)}};let Snippet=class Snippet{constructor(t,n){this.lines=t,this.fieldPositions=n}instantiate(t,n){let i=[],o=[n],c=t.doc.lineAt(n),u=/^\s*/.exec(c.text)[0];for(let c of this.lines){if(i.length){let i=u,f=/^\t*/.exec(c)[0].length;for(let n=0;n<f;n++)i+=t.facet(h.indentUnit);o.push(n+i.length-f),c=i+c.slice(f)}i.push(c),n+=c.length+1}return{text:i,ranges:this.fieldPositions.map(t=>new FieldRange(t.field,o[t.line]+t.from,o[t.line]+t.to))}}static parse(t){let n=[],i=[],o=[],c;for(let u of t.split(/\r\n?|\n/)){for(;c=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(u);){let t=c[1]?+c[1]:null,h=c[2]||c[3]||"",f=-1;for(let i=0;i<n.length;i++)(null!=t?n[i].seq==t:h&&n[i].name==h)&&(f=i);if(f<0){let i=0;for(;i<n.length&&(null==t||null!=n[i].seq&&n[i].seq<t);)i++;for(let c of(n.splice(i,0,{seq:t,name:h}),f=i,o))c.field>=f&&c.field++}o.push(new FieldPos(f,i.length,c.index,c.index+h.length)),u=u.slice(0,c.index)+h+u.slice(c.index+c[0].length)}i.push(u)}return new Snippet(i,o)}};let T=c.Decoration.widget({widget:new class extends c.WidgetType{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),P=c.Decoration.mark({class:"cm-snippetField"});let ActiveSnippet=class ActiveSnippet{constructor(t,n){this.ranges=t,this.active=n,this.deco=c.Decoration.set(t.map(t=>(t.from==t.to?T:P).range(t.from,t.to)))}map(t){let n=[];for(let i of this.ranges){let o=i.map(t);if(!o)return null;n.push(o)}return new ActiveSnippet(n,this.active)}selectionInsideField(t){return t.ranges.every(t=>this.ranges.some(n=>n.field==this.active&&n.from<=t.from&&n.to>=t.to))}};let L=o.StateEffect.define({map:(t,n)=>t&&t.map(n)}),I=o.StateEffect.define(),O=o.StateField.define({create:()=>null,update(t,n){for(let i of n.effects){if(i.is(L))return i.value;if(i.is(I)&&t)return new ActiveSnippet(t.ranges,i.value)}return t&&n.docChanged&&(t=t.map(n.changes)),t&&n.selection&&!t.selectionInsideField(n.selection)&&(t=null),t},provide:t=>c.EditorView.decorations.from(t,t=>t?t.deco:c.Decoration.none)});function fieldSelection(t,n){return o.EditorSelection.create(t.filter(t=>t.field==n).map(t=>o.EditorSelection.range(t.from,t.to)))}function snippet(t){let n=Snippet.parse(t);return(t,i,c,u)=>{let{text:h,ranges:f}=n.instantiate(t.state,c),d={changes:{from:c,to:u,insert:o.Text.of(h)}};if(f.length&&(d.selection=fieldSelection(f,0)),f.length>1){let n=new ActiveSnippet(f,0),i=d.effects=[L.of(n)];void 0===t.state.field(O,!1)&&i.push(o.StateEffect.appendConfig.of([O,H,U,E]))}t.dispatch(t.state.update(d))}}function moveField(t){return({state:n,dispatch:i})=>{let o=n.field(O,!1);if(!o||t<0&&0==o.active)return!1;let c=o.active+t,u=t>0&&!o.ranges.some(n=>n.field==c+t);return i(n.update({selection:fieldSelection(o.ranges,c),effects:L.of(u?null:new ActiveSnippet(o.ranges,c))})),!0}}let clearSnippet=({state:t,dispatch:n})=>!!t.field(O,!1)&&(n(t.update({effects:L.of(null)})),!0),N=moveField(1),B=moveField(-1),z=[{key:"Tab",run:N,shift:B},{key:"Escape",run:clearSnippet}],V=o.Facet.define({combine:t=>t.length?t[0]:z}),H=o.Prec.highest(c.keymap.compute([V],t=>t.facet(V))),U=c.EditorView.domEventHandlers({mousedown(t,n){let i=n.state.field(O,!1),o;if(!i||null==(o=n.posAtCoords({x:t.clientX,y:t.clientY})))return!1;let c=i.ranges.find(t=>t.from<=o&&t.to>=o);return!!c&&c.field!=i.active&&(n.dispatch({selection:fieldSelection(i.ranges,c.field),effects:L.of(i.ranges.some(t=>t.field>c.field)?new ActiveSnippet(i.ranges,c.field):null)}),!0)}});function mapRE(t,n){return new RegExp(n(t.source),t.unicode?"u":"")}let $=Object.create(null);function storeWords(t,n,i,o,c){for(let u=t.iterLines(),h=0;!u.next().done;){let{value:t}=u,f;for(n.lastIndex=0;f=n.exec(t);)if(!o[f[0]]&&h+f.index!=c&&(i.push({type:"text",label:f[0]}),o[f[0]]=!0,i.length>=2e3))return;h+=t.length+1}}let q=[{key:"Ctrl-Space",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],G=o.Prec.highest(c.keymap.computeN([g],t=>t.facet(g).defaultKeymap?[q]:[])),Z=new WeakMap;n.CompletionContext=CompletionContext,n.acceptCompletion=acceptCompletion,n.autocompletion=function(t={}){return[C,g.of(t),_,G,E]},n.clearSnippet=clearSnippet,n.closeCompletion=closeCompletion,n.completeAnyWord=t=>{let n=t.state.languageDataAt("wordChars",t.pos).join(""),i=function(t){let n=t.replace(/[\\[.+*?(){|^$]/g,"\\$&");try{return RegExp(`[\\p{Alphabetic}\\p{Number}_${n}]+`,"ug")}catch(t){return RegExp(`[w${n}]`,"g")}}(n),o=t.matchBefore(mapRE(i,t=>t+"$"));if(!o&&!t.explicit)return null;let c=o?o.from:t.pos;return{from:c,options:function collectWords(t,n,i,o,c){let u=t.length>=1e3,h=u&&n.get(t);if(h)return h;let f=[],d=Object.create(null);if(t.children){let u=0;for(let h of t.children){if(h.length>=1e3)for(let t of collectWords(h,n,i,o-u,c-u))d[t.label]||(d[t.label]=!0,f.push(t));else storeWords(h,i,f,d,c-u);u+=h.length+1}}else storeWords(t,i,f,d,c);return u&&f.length<2e3&&n.set(t,f),f}(t.state.doc,$[n]||($[n]=new WeakMap),i,5e4,c),span:mapRE(i,t=>"^"+t)}},n.completeFromList=completeFromList,n.completionKeymap=q,n.completionStatus=function(t){let n=t.field(C,!1);return n&&n.active.some(t=>1==t.state)?"pending":n&&n.active.some(t=>0!=t.state)?"active":null},n.currentCompletions=function(t){var n;let i=null===(n=t.field(C,!1))||void 0===n?void 0:n.open;if(!i)return[];let o=Z.get(i.options);return o||Z.set(i.options,o=i.options.map(t=>t.completion)),o},n.ifIn=function(t,n){return i=>{for(let o=h.syntaxTree(i.state).resolveInner(i.pos,-1);o;o=o.parent)if(t.indexOf(o.name)>-1)return n(i);return null}},n.ifNotIn=function(t,n){return i=>{for(let n=h.syntaxTree(i.state).resolveInner(i.pos,-1);n;n=n.parent)if(t.indexOf(n.name)>-1)return null;return n(i)}},n.moveCompletionSelection=moveCompletionSelection,n.nextSnippetField=N,n.pickedCompletion=d,n.prevSnippetField=B,n.selectedCompletion=function(t){var n;let i=null===(n=t.field(C,!1))||void 0===n?void 0:n.open;return i?i.options[i.selected].completion:null},n.selectedCompletionIndex=function(t){var n;let i=null===(n=t.field(C,!1))||void 0===n?void 0:n.open;return i?i.selected:null},n.setSelectedCompletion=function(t){return x.of(t)},n.snippet=snippet,n.snippetCompletion=function(t,n){return Object.assign(Object.assign({},n),{apply:snippet(t)})},n.snippetKeymap=V,n.startCompletion=startCompletion},1272:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(1135),c=i(4350),u=i(7260),h=i(6039),f=i(2382),d=i(356),m=i(8892),g=i(8162),v=i(8566),y=i(1411),w=i(1197),b=i(5387),S=i(5247),x=i(7038),C=i(1566);let _=[d.lineNumbers(),d.highlightActiveLineGutter(),o.highlightSpecialChars(),u.history(),h.foldGutter(),o.drawSelection(),o.dropCursor(),c.EditorState.allowMultipleSelections.of(!0),f.indentOnInput(),x.defaultHighlightStyle.fallback,g.bracketMatching(),v.closeBrackets(),w.autocompletion(),S.rectangularSelection(),S.crosshairCursor(),o.highlightActiveLine(),y.highlightSelectionMatches(),o.keymap.of([...v.closeBracketsKeymap,...m.defaultKeymap,...y.searchKeymap,...u.historyKeymap,...h.foldKeymap,...b.commentKeymap,...w.completionKeymap,...C.lintKeymap])];Object.defineProperty(n,"EditorView",{enumerable:!0,get:function(){return o.EditorView}}),Object.defineProperty(n,"EditorState",{enumerable:!0,get:function(){return c.EditorState}}),n.basicSetup=_},8566:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(1135),c=i(4350),u=i(7495),h=i(5627),f=i(2382);let d={brackets:["(","[","{","'",'"'],before:")]}:;>"},m=c.StateEffect.define({map(t,n){let i=n.mapPos(t,-1,c.MapMode.TrackAfter);return null==i?void 0:i}}),g=c.StateEffect.define({map:(t,n)=>n.mapPos(t)}),v=new class extends u.RangeValue{};v.startSide=1,v.endSide=-1;let y=c.StateField.define({create:()=>u.RangeSet.empty,update(t,n){if(n.selection){let i=n.state.doc.lineAt(n.selection.main.head).from,o=n.startState.doc.lineAt(n.startState.selection.main.head).from;i!=n.changes.mapPos(o,-1)&&(t=u.RangeSet.empty)}for(let i of(t=t.map(n.changes),n.effects))i.is(m)?t=t.update({add:[v.range(i.value,i.value+1)]}):i.is(g)&&(t=t.update({filter:t=>t!=i.value}));return t}}),w="()[]{}<>";function closing(t){for(let n=0;n<w.length;n+=2)if(w.charCodeAt(n)==t)return w.charAt(n+1);return h.fromCodePoint(t<128?t:t+1)}function config(t,n){return t.languageDataAt("closeBrackets",n)[0]||d}let b="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),S=o.EditorView.inputHandler.of((t,n,i,o)=>{if((b?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let c=t.state.selection.main;if(o.length>2||2==o.length&&1==h.codePointSize(h.codePointAt(o,0))||n!=c.from||i!=c.to)return!1;let u=insertBracket(t.state,o);return!!u&&(t.dispatch(u),!0)}),deleteBracketPair=({state:t,dispatch:n})=>{if(t.readOnly)return!1;let i=config(t,t.selection.main.head).brackets||d.brackets,o=null,u=t.changeByRange(n=>{if(n.empty){var u,f;let o;let d=(u=t.doc,f=n.head,o=u.sliceString(f-2,f),h.codePointSize(h.codePointAt(o,0))==o.length?o:o.slice(1));for(let o of i)if(o==d&&nextChar(t.doc,n.head)==closing(h.codePointAt(o,0)))return{changes:{from:n.head-o.length,to:n.head+o.length},range:c.EditorSelection.cursor(n.head-o.length),userEvent:"delete.backward"}}return{range:o=n}});return o||n(t.update(u,{scrollIntoView:!0})),!o},x=[{key:"Backspace",run:deleteBracketPair}];function insertBracket(t,n){let i=config(t,t.selection.main.head),o=i.brackets||d.brackets;for(let u of o){let v=closing(h.codePointAt(u,0));if(n==u)return v==u?function(t,n,i){let o=null,u=t.changeByRange(u=>{if(!u.empty)return{changes:[{insert:n,from:u.from},{insert:n,from:u.to}],effects:m.of(u.to+n.length),range:c.EditorSelection.range(u.anchor+n.length,u.head+n.length)};let h=u.head,d=nextChar(t.doc,h);if(d==n){if(nodeStart(t,h))return{changes:{insert:n+n,from:h},effects:m.of(h+n.length),range:c.EditorSelection.cursor(h+n.length)};if(closedBracketAt(t,h)){let o=i&&t.sliceDoc(h,h+3*n.length)==n+n+n;return{range:c.EditorSelection.cursor(h+n.length*(o?3:1)),effects:g.of(h)}}}else if(i&&t.sliceDoc(h-2*n.length,h)==n+n&&nodeStart(t,h-2*n.length))return{changes:{insert:n+n+n+n,from:h},effects:m.of(h+n.length),range:c.EditorSelection.cursor(h+n.length)};else if(t.charCategorizer(h)(d)!=c.CharCategory.Word){let i=t.sliceDoc(h-1,h);if(i!=n&&t.charCategorizer(h)(i)!=c.CharCategory.Word&&!function(t,n,i){let o=f.syntaxTree(t).resolveInner(n,-1);for(let c=0;c<5;c++){if(t.sliceDoc(o.from,o.from+i.length)==i)return!0;let c=o.to==n&&o.parent;if(!c)break;o=c}return!1}(t,h,n))return{changes:{insert:n+n,from:h},effects:m.of(h+n.length),range:c.EditorSelection.cursor(h+n.length)}}return{range:o=u}});return o?null:t.update(u,{scrollIntoView:!0,userEvent:"input.type"})}(t,u,o.indexOf(u+u+u)>-1):function(t,n,i,o){let u=null,h=t.changeByRange(h=>{if(!h.empty)return{changes:[{insert:n,from:h.from},{insert:i,from:h.to}],effects:m.of(h.to+n.length),range:c.EditorSelection.range(h.anchor+n.length,h.head+n.length)};let f=nextChar(t.doc,h.head);return!f||/\s/.test(f)||o.indexOf(f)>-1?{changes:{insert:n+i,from:h.head},effects:m.of(h.head+n.length),range:c.EditorSelection.cursor(h.head+n.length)}:{range:u=h}});return u?null:t.update(h,{scrollIntoView:!0,userEvent:"input.type"})}(t,u,v,i.before||d.before);if(n==v&&closedBracketAt(t,t.selection.main.from))return function(t,n,i){let o=null,u=t.selection.ranges.map(n=>n.empty&&nextChar(t.doc,n.head)==i?c.EditorSelection.cursor(n.head+i.length):o=n);return o?null:t.update({selection:c.EditorSelection.create(u,t.selection.mainIndex),scrollIntoView:!0,effects:t.selection.ranges.map(({from:t})=>g.of(t))})}(t,0,v)}return null}function closedBracketAt(t,n){let i=!1;return t.field(y).between(0,t.doc.length,t=>{t==n&&(i=!0)}),i}function nextChar(t,n){let i=t.sliceString(n,n+2);return i.slice(0,h.codePointSize(h.codePointAt(i,0)))}function nodeStart(t,n){let i=f.syntaxTree(t).resolveInner(n+1);return i.parent&&i.from==n}n.closeBrackets=function(){return[S,y]},n.closeBracketsKeymap=x,n.deleteBracketPair=deleteBracketPair,n.insertBracket=insertBracket},8892:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(4350),c=i(5627),u=i(1135),h=i(8162),f=i(2382),d=i(6393);function updateSel(t,n){return o.EditorSelection.create(t.ranges.map(n),t.mainIndex)}function setSel(t,n){return t.update({selection:n,scrollIntoView:!0,userEvent:"select"})}function moveSel({state:t,dispatch:n},i){let o=updateSel(t.selection,i);return!o.eq(t.selection)&&(n(setSel(t,o)),!0)}function rangeEnd(t,n){return o.EditorSelection.cursor(n?t.to:t.from)}function cursorByChar(t,n){return moveSel(t,i=>i.empty?t.moveByChar(i,n):rangeEnd(i,n))}let cursorCharLeft=t=>cursorByChar(t,t.textDirection!=u.Direction.LTR),cursorCharRight=t=>cursorByChar(t,t.textDirection==u.Direction.LTR);function cursorByGroup(t,n){return moveSel(t,i=>i.empty?t.moveByGroup(i,n):rangeEnd(i,n))}let cursorGroupLeft=t=>cursorByGroup(t,t.textDirection!=u.Direction.LTR),cursorGroupRight=t=>cursorByGroup(t,t.textDirection==u.Direction.LTR);function moveBySubword(t,n,i){let c=t.state.charCategorizer(n.from);return t.moveByChar(n,i,u=>{let h=o.CharCategory.Space,f=n.from,d=!1,m=!1,g=!1,step=n=>{if(d)return!1;f+=i?n.length:-n.length;let u=c(n),v;if(h==o.CharCategory.Space&&(h=u),h!=u)return!1;if(h==o.CharCategory.Word){if(n.toLowerCase()==n){if(!i&&m)return!1;g=!0}else if(g){if(i)return!1;d=!0}else{if(m&&i&&c(v=t.state.sliceDoc(f,f+1))==o.CharCategory.Word&&v.toLowerCase()==v)return!1;m=!0}}return!0};return step(u),step})}function cursorBySubword(t,n){return moveSel(t,i=>i.empty?moveBySubword(t,i,n):rangeEnd(i,n))}function moveBySyntax(t,n,i){let c,u,m=f.syntaxTree(t).resolveInner(n.head),g=i?d.NodeProp.closedBy:d.NodeProp.openedBy;for(let o=n.head;;){let n=i?m.childAfter(o):m.childBefore(o);if(!n)break;!function(t,n,i){if(n.type.prop(i))return!0;let o=n.to-n.from;return o&&(o>2||/[^\s,.;:]/.test(t.sliceDoc(n.from,n.to)))||n.firstChild}(t,n,g)?o=i?n.to:n.from:m=n}return u=m.type.prop(g)&&(c=i?h.matchBrackets(t,m.from,1):h.matchBrackets(t,m.to,-1))&&c.matched?i?c.end.to:c.end.from:i?m.to:m.from,o.EditorSelection.cursor(u,i?-1:1)}let cursorSyntaxLeft=t=>moveSel(t,n=>moveBySyntax(t.state,n,t.textDirection!=u.Direction.LTR)),cursorSyntaxRight=t=>moveSel(t,n=>moveBySyntax(t.state,n,t.textDirection==u.Direction.LTR));function cursorByLine(t,n){return moveSel(t,i=>{if(!i.empty)return rangeEnd(i,n);let o=t.moveVertically(i,n);return o.head!=i.head?o:t.moveToLineBoundary(i,n)})}let cursorLineUp=t=>cursorByLine(t,!1),cursorLineDown=t=>cursorByLine(t,!0);function cursorByPage(t,n){let{state:i}=t,o=updateSel(i.selection,i=>i.empty?t.moveVertically(i,n,t.dom.clientHeight):rangeEnd(i,n));if(o.eq(i.selection))return!1;let c=t.coordsAtPos(i.selection.main.head),h=t.scrollDOM.getBoundingClientRect();return t.dispatch(setSel(i,o),{effects:c&&c.top>h.top&&c.bottom<h.bottom?u.EditorView.scrollIntoView(o.main.head,{y:"start",yMargin:c.top-h.top}):void 0}),!0}let cursorPageUp=t=>cursorByPage(t,!1),cursorPageDown=t=>cursorByPage(t,!0);function moveByLineBoundary(t,n,i){let c=t.lineBlockAt(n.head),u=t.moveToLineBoundary(n,i);if(u.head==n.head&&u.head!=(i?c.to:c.from)&&(u=t.moveToLineBoundary(n,i,!1)),!i&&u.head==c.from&&c.length){let i=/^\s*/.exec(t.state.sliceDoc(c.from,Math.min(c.from+100,c.to)))[0].length;i&&n.head!=c.from+i&&(u=o.EditorSelection.cursor(c.from+i))}return u}let cursorLineBoundaryForward=t=>moveSel(t,n=>moveByLineBoundary(t,n,!0)),cursorLineBoundaryBackward=t=>moveSel(t,n=>moveByLineBoundary(t,n,!1)),cursorLineStart=t=>moveSel(t,n=>o.EditorSelection.cursor(t.lineBlockAt(n.head).from,1)),cursorLineEnd=t=>moveSel(t,n=>o.EditorSelection.cursor(t.lineBlockAt(n.head).to,-1));function toMatchingBracket(t,n,i){let c=!1,u=updateSel(t.selection,n=>{let u=h.matchBrackets(t,n.head,-1)||h.matchBrackets(t,n.head,1)||n.head>0&&h.matchBrackets(t,n.head-1,1)||n.head<t.doc.length&&h.matchBrackets(t,n.head+1,-1);if(!u||!u.end)return n;c=!0;let f=u.start.from==n.head?u.end.to:u.end.from;return i?o.EditorSelection.range(n.anchor,f):o.EditorSelection.cursor(f)});return!!c&&(n(setSel(t,u)),!0)}let cursorMatchingBracket=({state:t,dispatch:n})=>toMatchingBracket(t,n,!1);function extendSel(t,n){let i=updateSel(t.state.selection,t=>{let i=n(t);return o.EditorSelection.range(t.anchor,i.head,i.goalColumn)});return!i.eq(t.state.selection)&&(t.dispatch(setSel(t.state,i)),!0)}function selectByChar(t,n){return extendSel(t,i=>t.moveByChar(i,n))}let selectCharLeft=t=>selectByChar(t,t.textDirection!=u.Direction.LTR),selectCharRight=t=>selectByChar(t,t.textDirection==u.Direction.LTR);function selectByGroup(t,n){return extendSel(t,i=>t.moveByGroup(i,n))}let selectGroupLeft=t=>selectByGroup(t,t.textDirection!=u.Direction.LTR),selectGroupRight=t=>selectByGroup(t,t.textDirection==u.Direction.LTR);function selectBySubword(t,n){return extendSel(t,i=>moveBySubword(t,i,n))}let selectSyntaxLeft=t=>extendSel(t,n=>moveBySyntax(t.state,n,t.textDirection!=u.Direction.LTR)),selectSyntaxRight=t=>extendSel(t,n=>moveBySyntax(t.state,n,t.textDirection==u.Direction.LTR));function selectByLine(t,n){return extendSel(t,i=>t.moveVertically(i,n))}let selectLineUp=t=>selectByLine(t,!1),selectLineDown=t=>selectByLine(t,!0);function selectByPage(t,n){return extendSel(t,i=>t.moveVertically(i,n,t.dom.clientHeight))}let selectPageUp=t=>selectByPage(t,!1),selectPageDown=t=>selectByPage(t,!0),selectLineBoundaryForward=t=>extendSel(t,n=>moveByLineBoundary(t,n,!0)),selectLineBoundaryBackward=t=>extendSel(t,n=>moveByLineBoundary(t,n,!1)),selectLineStart=t=>extendSel(t,n=>o.EditorSelection.cursor(t.lineBlockAt(n.head).from)),selectLineEnd=t=>extendSel(t,n=>o.EditorSelection.cursor(t.lineBlockAt(n.head).to)),cursorDocStart=({state:t,dispatch:n})=>(n(setSel(t,{anchor:0})),!0),cursorDocEnd=({state:t,dispatch:n})=>(n(setSel(t,{anchor:t.doc.length})),!0),selectDocStart=({state:t,dispatch:n})=>(n(setSel(t,{anchor:t.selection.main.anchor,head:0})),!0),selectDocEnd=({state:t,dispatch:n})=>(n(setSel(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),selectAll=({state:t,dispatch:n})=>(n(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),selectLine=({state:t,dispatch:n})=>{let i=selectedLineBlocks(t).map(({from:n,to:i})=>o.EditorSelection.range(n,Math.min(i+1,t.doc.length)));return n(t.update({selection:o.EditorSelection.create(i),userEvent:"select"})),!0},selectParentSyntax=({state:t,dispatch:n})=>{let i=updateSel(t.selection,n=>{var i;let c=f.syntaxTree(t).resolveInner(n.head,1);for(;!(c.from<n.from&&c.to>=n.to||c.to>n.to&&c.from<=n.from||!(null===(i=c.parent)||void 0===i?void 0:i.parent));)c=c.parent;return o.EditorSelection.range(c.to,c.from)});return n(setSel(t,i)),!0},simplifySelection=({state:t,dispatch:n})=>{let i=t.selection,c=null;return i.ranges.length>1?c=o.EditorSelection.create([i.main]):i.main.empty||(c=o.EditorSelection.create([o.EditorSelection.cursor(i.main.head)])),!!c&&(n(setSel(t,c)),!0)};function deleteBy({state:t,dispatch:n},i){if(t.readOnly)return!1;let c="delete.selection",u=t.changeByRange(t=>{let{from:n,to:u}=t;if(n==u){let t=i(n);t<n?c="delete.backward":t>n&&(c="delete.forward"),n=Math.min(n,t),u=Math.max(u,t)}return n==u?{range:t}:{changes:{from:n,to:u},range:o.EditorSelection.cursor(n)}});return!u.changes.empty&&(n(t.update(u,{scrollIntoView:!0,userEvent:c})),!0)}function skipAtomic(t,n,i){if(t instanceof u.EditorView)for(let o of t.pluginField(u.PluginField.atomicRanges))o.between(n,n,(t,o)=>{t<n&&o>n&&(n=i?o:t)});return n}let deleteByChar=(t,n)=>deleteBy(t,i=>{let{state:o}=t,u=o.doc.lineAt(i),h,d;if(!n&&i>u.from&&i<u.from+200&&!/[^ \t]/.test(h=u.text.slice(0,i-u.from))){if("	"==h[h.length-1])return i-1;let t=c.countColumn(h,o.tabSize)%f.getIndentUnit(o)||f.getIndentUnit(o);for(let n=0;n<t&&" "==h[h.length-1-n];n++)i--;d=i}else(d=c.findClusterBreak(u.text,i-u.from,n,n)+u.from)==i&&u.number!=(n?o.doc.lines:1)&&(d+=n?1:-1);return skipAtomic(t,d,n)}),deleteCharBackward=t=>deleteByChar(t,!1),deleteCharForward=t=>deleteByChar(t,!0),deleteByGroup=(t,n)=>deleteBy(t,i=>{let o=i,{state:u}=t,h=u.doc.lineAt(o),f=u.charCategorizer(o);for(let t=null;;){if(o==(n?h.to:h.from)){o==i&&h.number!=(n?u.doc.lines:1)&&(o+=n?1:-1);break}let d=c.findClusterBreak(h.text,o-h.from,n)+h.from,m=h.text.slice(Math.min(o,d)-h.from,Math.max(o,d)-h.from),g=f(m);if(null!=t&&g!=t)break;(" "!=m||o!=i)&&(t=g),o=d}return skipAtomic(t,o,n)}),deleteGroupBackward=t=>deleteByGroup(t,!1),deleteGroupForward=t=>deleteByGroup(t,!0),deleteToLineEnd=t=>deleteBy(t,n=>{let i=t.lineBlockAt(n).to;return skipAtomic(t,n<i?i:Math.min(t.state.doc.length,n+1),!0)}),deleteToLineStart=t=>deleteBy(t,n=>{let i=t.lineBlockAt(n).from;return skipAtomic(t,n>i?i:Math.max(0,n-1),!1)}),splitLine=({state:t,dispatch:n})=>{if(t.readOnly)return!1;let i=t.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:c.Text.of(["",""])},range:o.EditorSelection.cursor(t.from)}));return n(t.update(i,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state:t,dispatch:n})=>{if(t.readOnly)return!1;let i=t.changeByRange(n=>{if(!n.empty||0==n.from||n.from==t.doc.length)return{range:n};let i=n.from,u=t.doc.lineAt(i),h=i==u.from?i-1:c.findClusterBreak(u.text,i-u.from,!1)+u.from,f=i==u.to?i+1:c.findClusterBreak(u.text,i-u.from,!0)+u.from;return{changes:{from:h,to:f,insert:t.doc.slice(i,f).append(t.doc.slice(h,i))},range:o.EditorSelection.cursor(f)}});return!i.changes.empty&&(n(t.update(i,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(t){let n=[],i=-1;for(let o of t.selection.ranges){let c=t.doc.lineAt(o.from),u=t.doc.lineAt(o.to);if(o.empty||o.to!=u.from||(u=t.doc.lineAt(o.to-1)),i>=c.number){let t=n[n.length-1];t.to=u.to,t.ranges.push(o)}else n.push({from:c.from,to:u.to,ranges:[o]});i=u.number+1}return n}function moveLine(t,n,i){if(t.readOnly)return!1;let c=[],u=[];for(let n of selectedLineBlocks(t)){if(i?n.to==t.doc.length:0==n.from)continue;let h=t.doc.lineAt(i?n.to+1:n.from-1),f=h.length+1;if(i)for(let i of(c.push({from:n.to,to:h.to},{from:n.from,insert:h.text+t.lineBreak}),n.ranges))u.push(o.EditorSelection.range(Math.min(t.doc.length,i.anchor+f),Math.min(t.doc.length,i.head+f)));else for(let i of(c.push({from:h.from,to:n.from},{from:n.to,insert:t.lineBreak+h.text}),n.ranges))u.push(o.EditorSelection.range(i.anchor-f,i.head-f))}return!!c.length&&(n(t.update({changes:c,scrollIntoView:!0,selection:o.EditorSelection.create(u,t.selection.mainIndex),userEvent:"move.line"})),!0)}let moveLineUp=({state:t,dispatch:n})=>moveLine(t,n,!1),moveLineDown=({state:t,dispatch:n})=>moveLine(t,n,!0);function copyLine(t,n,i){if(t.readOnly)return!1;let o=[];for(let n of selectedLineBlocks(t))i?o.push({from:n.from,insert:t.doc.slice(n.from,n.to)+t.lineBreak}):o.push({from:n.to,insert:t.lineBreak+t.doc.slice(n.from,n.to)});return n(t.update({changes:o,scrollIntoView:!0,userEvent:"input.copyline"})),!0}let copyLineUp=({state:t,dispatch:n})=>copyLine(t,n,!1),copyLineDown=({state:t,dispatch:n})=>copyLine(t,n,!0),deleteLine=t=>{if(t.state.readOnly)return!1;let{state:n}=t,i=n.changes(selectedLineBlocks(n).map(({from:t,to:i})=>(t>0?t--:i<n.doc.length&&i++,{from:t,to:i}))),o=updateSel(n.selection,n=>t.moveVertically(n,!0)).map(i);return t.dispatch({changes:i,selection:o,scrollIntoView:!0,userEvent:"delete.line"}),!0},m=newlineAndIndent(!1),g=newlineAndIndent(!0);function newlineAndIndent(t){return({state:n,dispatch:i})=>{if(n.readOnly)return!1;let u=n.changeByRange(i=>{let{from:u,to:h}=i,m=n.doc.lineAt(u),g=!t&&u==h&&function(t,n){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(n-1,n+1)))return{from:n,to:n};let i=f.syntaxTree(t).resolveInner(n),o=i.childBefore(n),c=i.childAfter(n),u;return o&&c&&o.to<=n&&c.from>=n&&(u=o.type.prop(d.NodeProp.closedBy))&&u.indexOf(c.name)>-1&&t.doc.lineAt(o.to).from==t.doc.lineAt(c.from).from?{from:o.to,to:c.from}:null}(n,u);t&&(u=h=(h<=m.to?m:n.doc.lineAt(h)).to);let v=new f.IndentContext(n,{simulateBreak:u,simulateDoubleBreak:!!g}),y=f.getIndentation(v,u);for(null==y&&(y=/^\s*/.exec(n.doc.lineAt(u).text)[0].length);h<m.to&&/\s/.test(m.text[h-m.from]);)h++;g?{from:u,to:h}=g:u>m.from&&u<m.from+100&&!/\S/.test(m.text.slice(0,u))&&(u=m.from);let w=["",f.indentString(n,y)];return g&&w.push(f.indentString(n,v.lineIndent(m.from,-1))),{changes:{from:u,to:h,insert:c.Text.of(w)},range:o.EditorSelection.cursor(u+1+w[1].length)}});return i(n.update(u,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(t,n){let i=-1;return t.changeByRange(c=>{let u=[];for(let o=c.from;o<=c.to;){let h=t.doc.lineAt(o);h.number>i&&(c.empty||c.to>h.from)&&(n(h,u,c),i=h.number),o=h.to+1}let h=t.changes(u);return{changes:u,range:o.EditorSelection.range(h.mapPos(c.anchor,1),h.mapPos(c.head,1))}})}let indentSelection=({state:t,dispatch:n})=>{if(t.readOnly)return!1;let i=Object.create(null),o=new f.IndentContext(t,{overrideIndentation:t=>{let n=i[t];return null==n?-1:n}}),c=changeBySelectedLine(t,(n,c,u)=>{let h=f.getIndentation(o,n.from);if(null==h)return;/\S/.test(n.text)||(h=0);let d=/^\s*/.exec(n.text)[0],m=f.indentString(t,h);(d!=m||u.from<n.from+d.length)&&(i[n.from]=h,c.push({from:n.from,to:n.from+d.length,insert:m}))});return c.changes.empty||n(t.update(c,{userEvent:"indent"})),!0},indentMore=({state:t,dispatch:n})=>!t.readOnly&&(n(t.update(changeBySelectedLine(t,(n,i)=>{i.push({from:n.from,insert:t.facet(f.indentUnit)})}),{userEvent:"input.indent"})),!0),indentLess=({state:t,dispatch:n})=>!t.readOnly&&(n(t.update(changeBySelectedLine(t,(n,i)=>{let o=/^\s*/.exec(n.text)[0];if(!o)return;let u=c.countColumn(o,t.tabSize),h=0,d=f.indentString(t,Math.max(0,u-f.getIndentUnit(t)));for(;h<o.length&&h<d.length&&o.charCodeAt(h)==d.charCodeAt(h);)h++;i.push({from:n.from+h,to:n.from+o.length,insert:d.slice(h)})}),{userEvent:"delete.dedent"})),!0),v=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],y=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:m},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward},{key:"Delete",run:deleteCharForward},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward},{mac:"Mod-Backspace",run:deleteToLineStart},{mac:"Mod-Delete",run:deleteToLineEnd}].concat(v.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),w=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:g},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket}].concat(y);n.copyLineDown=copyLineDown,n.copyLineUp=copyLineUp,n.cursorCharBackward=t=>cursorByChar(t,!1),n.cursorCharForward=t=>cursorByChar(t,!0),n.cursorCharLeft=cursorCharLeft,n.cursorCharRight=cursorCharRight,n.cursorDocEnd=cursorDocEnd,n.cursorDocStart=cursorDocStart,n.cursorGroupBackward=t=>cursorByGroup(t,!1),n.cursorGroupForward=t=>cursorByGroup(t,!0),n.cursorGroupLeft=cursorGroupLeft,n.cursorGroupRight=cursorGroupRight,n.cursorLineBoundaryBackward=cursorLineBoundaryBackward,n.cursorLineBoundaryForward=cursorLineBoundaryForward,n.cursorLineDown=cursorLineDown,n.cursorLineEnd=cursorLineEnd,n.cursorLineStart=cursorLineStart,n.cursorLineUp=cursorLineUp,n.cursorMatchingBracket=cursorMatchingBracket,n.cursorPageDown=cursorPageDown,n.cursorPageUp=cursorPageUp,n.cursorSubwordBackward=t=>cursorBySubword(t,!1),n.cursorSubwordForward=t=>cursorBySubword(t,!0),n.cursorSyntaxLeft=cursorSyntaxLeft,n.cursorSyntaxRight=cursorSyntaxRight,n.defaultKeymap=w,n.deleteCharBackward=deleteCharBackward,n.deleteCharForward=deleteCharForward,n.deleteGroupBackward=deleteGroupBackward,n.deleteGroupForward=deleteGroupForward,n.deleteLine=deleteLine,n.deleteToLineEnd=deleteToLineEnd,n.deleteToLineStart=deleteToLineStart,n.deleteTrailingWhitespace=({state:t,dispatch:n})=>{if(t.readOnly)return!1;let i=[];for(let n=0,o="",c=t.doc.iter();;){if(c.next(),c.lineBreak||c.done){let t=o.search(/\s+$/);if(t>-1&&i.push({from:n-(o.length-t),to:n}),c.done)break;o=""}else o=c.value;n+=c.value.length}return!!i.length&&(n(t.update({changes:i,userEvent:"delete"})),!0)},n.emacsStyleKeymap=v,n.indentLess=indentLess,n.indentMore=indentMore,n.indentSelection=indentSelection,n.indentWithTab={key:"Tab",run:indentMore,shift:indentLess},n.insertBlankLine=g,n.insertNewline=({state:t,dispatch:n})=>(n(t.update(t.replaceSelection(t.lineBreak),{scrollIntoView:!0,userEvent:"input"})),!0),n.insertNewlineAndIndent=m,n.insertTab=({state:t,dispatch:n})=>t.selection.ranges.some(t=>!t.empty)?indentMore({state:t,dispatch:n}):(n(t.update(t.replaceSelection("	"),{scrollIntoView:!0,userEvent:"input"})),!0),n.moveLineDown=moveLineDown,n.moveLineUp=moveLineUp,n.selectAll=selectAll,n.selectCharBackward=t=>selectByChar(t,!1),n.selectCharForward=t=>selectByChar(t,!0),n.selectCharLeft=selectCharLeft,n.selectCharRight=selectCharRight,n.selectDocEnd=selectDocEnd,n.selectDocStart=selectDocStart,n.selectGroupBackward=t=>selectByGroup(t,!1),n.selectGroupForward=t=>selectByGroup(t,!0),n.selectGroupLeft=selectGroupLeft,n.selectGroupRight=selectGroupRight,n.selectLine=selectLine,n.selectLineBoundaryBackward=selectLineBoundaryBackward,n.selectLineBoundaryForward=selectLineBoundaryForward,n.selectLineDown=selectLineDown,n.selectLineEnd=selectLineEnd,n.selectLineStart=selectLineStart,n.selectLineUp=selectLineUp,n.selectMatchingBracket=({state:t,dispatch:n})=>toMatchingBracket(t,n,!0),n.selectPageDown=selectPageDown,n.selectPageUp=selectPageUp,n.selectParentSyntax=selectParentSyntax,n.selectSubwordBackward=t=>selectBySubword(t,!1),n.selectSubwordForward=t=>selectBySubword(t,!0),n.selectSyntaxLeft=selectSyntaxLeft,n.selectSyntaxRight=selectSyntaxRight,n.simplifySelection=simplifySelection,n.splitLine=splitLine,n.standardKeymap=y,n.transposeChars=transposeChars},5387:function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});let toggleComment=t=>{let n=getConfig(t.state);return n.line?i(t):!!n.block&&d(t)};function command(t,n){return({state:i,dispatch:o})=>{if(i.readOnly)return!1;let c=t(n,i);return!!c&&(o(i.update(c)),!0)}}let i=command(changeLineComment,0),o=command(changeLineComment,1),c=command(changeLineComment,2),u=command(changeBlockComment,0),h=command(changeBlockComment,1),f=command(changeBlockComment,2),d=command((t,n)=>changeBlockComment(t,n,function(t){let n=[];for(let i of t.selection.ranges){let o=t.doc.lineAt(i.from),c=i.to<=o.to?o:t.doc.lineAt(i.to),u=n.length-1;u>=0&&n[u].to>o.from?n[u].to=c.to:n.push({from:o.from,to:c.to})}return n}(n)),0),m=[{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:u}];function getConfig(t,n=t.selection.main.head){let i=t.languageDataAt("commentTokens",n);return i.length?i[0]:{}}function changeBlockComment(t,n,i=n.selection.ranges){let o=i.map(t=>getConfig(n,t.from).block);if(!o.every(t=>t))return null;let c=i.map((t,i)=>(function(t,{open:n,close:i},o,c){let u,h,f=t.sliceDoc(o-50,o),d=t.sliceDoc(c,c+50),m=/\s*$/.exec(f)[0].length,g=/^\s*/.exec(d)[0].length,v=f.length-m;if(f.slice(v-n.length,v)==n&&d.slice(g,g+i.length)==i)return{open:{pos:o-m,margin:m&&1},close:{pos:c+g,margin:g&&1}};c-o<=100?u=h=t.sliceDoc(o,c):(u=t.sliceDoc(o,o+50),h=t.sliceDoc(c-50,c));let y=/^\s*/.exec(u)[0].length,w=/\s*$/.exec(h)[0].length,b=h.length-w-i.length;return u.slice(y,y+n.length)==n&&h.slice(b,b+i.length)==i?{open:{pos:o+y+n.length,margin:/\s/.test(u.charAt(y+n.length))?1:0},close:{pos:c-w-i.length,margin:/\s/.test(h.charAt(b-1))?1:0}}:null})(n,o[i],t.from,t.to));if(2!=t&&!c.every(t=>t))return{changes:n.changes(i.map((t,n)=>c[n]?[]:[{from:t.from,insert:o[n].open+" "},{from:t.to,insert:" "+o[n].close}]))};if(1!=t&&c.some(t=>t)){let t=[];for(let n=0,i;n<c.length;n++)if(i=c[n]){let c=o[n],{open:u,close:h}=i;t.push({from:u.pos-c.open.length,to:u.pos+u.margin},{from:h.pos-h.margin,to:h.pos+c.close.length})}return{changes:t}}return null}function changeLineComment(t,n,i=n.selection.ranges){let o=[],c=-1;for(let{from:t,to:u}of i){let i=o.length,h=1e9;for(let i=t;i<=u;){let f=n.doc.lineAt(i);if(f.from>c&&(t==u||u>f.from)){c=f.from;let t=getConfig(n,i).line;if(!t)continue;let u=/^\s*/.exec(f.text)[0].length,d=u==f.length,m=f.text.slice(u,u+t.length)==t?u:-1;u<f.text.length&&u<h&&(h=u),o.push({line:f,comment:m,token:t,indent:u,empty:d,single:!1})}i=f.to+1}if(h<1e9)for(let t=i;t<o.length;t++)o[t].indent<o[t].line.text.length&&(o[t].indent=h);o.length==i+1&&(o[i].single=!0)}if(2!=t&&o.some(t=>t.comment<0&&(!t.empty||t.single))){let t=[];for(let{line:n,token:i,indent:c,empty:u,single:h}of o)(h||!u)&&t.push({from:n.from+c,insert:i+" "});let i=n.changes(t);return{changes:i,selection:n.selection.map(i,1)}}if(1!=t&&o.some(t=>t.comment>=0)){let t=[];for(let{line:n,comment:i,token:c}of o)if(i>=0){let o=n.from+i,u=o+c.length;" "==n.text[u-n.from]&&u++,t.push({from:o,to:u})}return{changes:t}}return null}n.blockComment=h,n.blockUncomment=f,n.commentKeymap=m,n.lineComment=o,n.lineUncomment=c,n.toggleBlockComment=u,n.toggleBlockCommentByLine=d,n.toggleComment=toggleComment,n.toggleLineComment=i},6039:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(4350),c=i(1135),u=i(2382),h=i(356),f=i(7495);function mapRange(t,n){let i=n.mapPos(t.from,1),o=n.mapPos(t.to,-1);return i>=o?void 0:{from:i,to:o}}let d=o.StateEffect.define({map:mapRange}),m=o.StateEffect.define({map:mapRange});function selectedLines(t){let n=[];for(let{head:i}of t.state.selection.ranges)n.some(t=>t.from<=i&&t.to>=i)||n.push(t.lineBlockAt(i));return n}let g=o.StateField.define({create:()=>c.Decoration.none,update(t,n){for(let i of(t=t.map(n.changes),n.effects))i.is(d)&&!function(t,n,i){let o=!1;return t.between(n,n,(t,c)=>{t==n&&c==i&&(o=!0)}),o}(t,i.value.from,i.value.to)?t=t.update({add:[b.range(i.value.from,i.value.to)]}):i.is(m)&&(t=t.update({filter:(t,n)=>i.value.from!=t||i.value.to!=n,filterFrom:i.value.from,filterTo:i.value.to}));if(n.selection){let i=!1,{head:o}=n.selection.main;t.between(o,o,(t,n)=>{t<o&&n>o&&(i=!0)}),i&&(t=t.update({filterFrom:o,filterTo:o,filter:(t,n)=>n<=o||t>=o}))}return t},provide:t=>c.EditorView.decorations.from(t)});function foldInside(t,n,i){var o;let c=null;return null===(o=t.field(g,!1))||void 0===o||o.between(n,i,(t,n)=>{(!c||c.from>t)&&(c={from:t,to:n})}),c}function maybeEnable(t,n){return t.field(g,!1)?n:n.concat(o.StateEffect.appendConfig.of(codeFolding()))}let foldCode=t=>{for(let n of selectedLines(t)){let i=u.foldable(t.state,n.from,n.to);if(i)return t.dispatch({effects:maybeEnable(t.state,[d.of(i),announceFold(t,i)])}),!0}return!1},unfoldCode=t=>{if(!t.state.field(g,!1))return!1;let n=[];for(let i of selectedLines(t)){let o=foldInside(t.state,i.from,i.to);o&&n.push(m.of(o),announceFold(t,o,!1))}return n.length&&t.dispatch({effects:n}),n.length>0};function announceFold(t,n,i=!0){let o=t.state.doc.lineAt(n.from).number,u=t.state.doc.lineAt(n.to).number;return c.EditorView.announce.of(`${t.state.phrase(i?"Folded lines":"Unfolded lines")} ${o} ${t.state.phrase("to")} ${u}.`)}let foldAll=t=>{let{state:n}=t,i=[];for(let o=0;o<n.doc.length;){let c=t.lineBlockAt(o),h=u.foldable(n,c.from,c.to);h&&i.push(d.of(h)),o=(h?t.lineBlockAt(h.to):c).to+1}return i.length&&t.dispatch({effects:maybeEnable(t.state,i)}),!!i.length},unfoldAll=t=>{let n=t.state.field(g,!1);if(!n||!n.size)return!1;let i=[];return n.between(0,t.state.doc.length,(t,n)=>{i.push(m.of({from:t,to:n}))}),t.dispatch({effects:i}),!0},v=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:foldCode},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:unfoldCode},{key:"Ctrl-Alt-[",run:foldAll},{key:"Ctrl-Alt-]",run:unfoldAll}],y={placeholderDOM:null,placeholderText:""},w=o.Facet.define({combine:t=>o.combineConfig(t,y)});function codeFolding(t){let n=[g,x];return t&&n.push(w.of(t)),n}let b=c.Decoration.replace({widget:new class extends c.WidgetType{toDOM(t){let{state:n}=t,i=n.facet(w),onclick=n=>{let i=t.lineBlockAt(t.posAtDOM(n.target)),o=foldInside(t.state,i.from,i.to);o&&t.dispatch({effects:m.of(o)}),n.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(t,onclick);let o=document.createElement("span");return o.textContent=i.placeholderText,o.setAttribute("aria-label",n.phrase("folded code")),o.title=n.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=onclick,o}}}),S={openText:"",closedText:"",markerDOM:null,domEventHandlers:{}};let FoldMarker=class FoldMarker extends h.GutterMarker{constructor(t,n){super(),this.config=t,this.open=n}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=t.state.phrase(this.open?"Fold line":"Unfold line"),n}};let x=c.EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});n.codeFolding=codeFolding,n.foldAll=foldAll,n.foldCode=foldCode,n.foldEffect=d,n.foldGutter=function(t={}){let n=Object.assign(Object.assign({},S),t),i=new FoldMarker(n,!0),o=new FoldMarker(n,!1),v=c.ViewPlugin.fromClass(class{constructor(t){this.from=t.viewport.from,this.markers=this.buildMarkers(t)}update(t){(t.docChanged||t.viewportChanged||t.startState.facet(u.language)!=t.state.facet(u.language)||t.startState.field(g,!1)!=t.state.field(g,!1)||u.syntaxTree(t.startState)!=u.syntaxTree(t.state))&&(this.markers=this.buildMarkers(t.view))}buildMarkers(t){let n=new f.RangeSetBuilder;for(let c of t.viewportLineBlocks){let h=foldInside(t.state,c.from,c.to)?o:u.foldable(t.state,c.from,c.to)?i:null;h&&n.add(c.from,c.from,h)}return n.finish()}}),{domEventHandlers:y}=n;return[v,h.gutter({class:"cm-foldGutter",markers(t){var n;return(null===(n=t.plugin(v))||void 0===n?void 0:n.markers)||f.RangeSet.empty},initialSpacer:()=>new FoldMarker(n,!1),domEventHandlers:Object.assign(Object.assign({},y),{click:(t,n,i)=>{if(y.click&&y.click(t,n,i))return!0;let o=foldInside(t.state,n.from,n.to);if(o)return t.dispatch({effects:m.of(o)}),!0;let c=u.foldable(t.state,n.from,n.to);return!!c&&(t.dispatch({effects:d.of(c)}),!0)}})}),codeFolding()]},n.foldKeymap=v,n.foldedRanges=function(t){return t.field(g,!1)||f.RangeSet.empty},n.unfoldAll=unfoldAll,n.unfoldCode=unfoldCode,n.unfoldEffect=m},356:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(1135),c=i(7495),u=i(4350);let GutterMarker=class GutterMarker extends c.RangeValue{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}};GutterMarker.prototype.elementClass="",GutterMarker.prototype.toDOM=void 0,GutterMarker.prototype.mapMode=u.MapMode.TrackBefore,GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1,GutterMarker.prototype.point=!0;let h=u.Facet.define(),f={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>c.RangeSet.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},d=u.Facet.define(),m=o.EditorView.baseTheme({".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#999",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"}}),g=u.Facet.define({combine:t=>t.some(t=>t)});function gutters(t){let n=[v,m];return t&&!1===t.fixed&&n.push(g.of(!0)),n}let v=o.ViewPlugin.fromClass(class{constructor(t){for(let n of(this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=t.state.facet(d).map(n=>new SingleGutterView(t,n)),this.gutters))this.dom.appendChild(n.dom);this.fixed=!t.state.facet(g),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let n=this.prevViewport,i=t.view.viewport,o=Math.min(n.to,i.to)-Math.max(n.from,i.from);this.syncGutters(o<(i.to-i.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(g)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let n=this.dom.nextSibling;t&&this.dom.remove();let i=c.RangeSet.iter(this.view.state.facet(h),this.view.viewport.from),u=[],f=this.gutters.map(t=>new UpdateContext(t,this.view.viewport,-this.view.documentPadding.top));for(let t of this.view.viewportLineBlocks){let n;if(Array.isArray(t.type)){for(let i of t.type)if(i.type==o.BlockType.Text){n=i;break}}else n=t.type==o.BlockType.Text?t:void 0;if(n)for(let o of(u.length&&(u=[]),advanceCursor(i,u,t.from),f))o.line(this.view,n,u)}for(let t of f)t.finish();t&&this.view.scrollDOM.insertBefore(this.dom,n)}updateGutters(t){let n=t.startState.facet(d),i=t.state.facet(d),o=t.docChanged||t.heightChanged||t.viewportChanged||!c.RangeSet.eq(t.startState.facet(h),t.state.facet(h),t.view.viewport.from,t.view.viewport.to);if(n==i)for(let n of this.gutters)n.update(t)&&(o=!0);else{o=!0;let c=[];for(let o of i){let i=n.indexOf(o);i<0?c.push(new SingleGutterView(this.view,o)):(this.gutters[i].update(t),c.push(this.gutters[i]))}for(let t of this.gutters)t.dom.remove(),0>c.indexOf(t)&&t.destroy();for(let t of c)this.dom.appendChild(t.dom);this.gutters=c}return o}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:o.PluginField.scrollMargins.from(t=>0!=t.gutters.length&&t.fixed?t.view.textDirection==o.Direction.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}:null)});function asArray(t){return Array.isArray(t)?t:[t]}function advanceCursor(t,n,i){for(;t.value&&t.from<=i;)t.from==i&&n.push(t.value),t.next()}let UpdateContext=class UpdateContext{constructor(t,n,i){this.gutter=t,this.height=i,this.localMarkers=[],this.i=0,this.cursor=c.RangeSet.iter(t.markers,n.from)}line(t,n,i){this.localMarkers.length&&(this.localMarkers=[]),advanceCursor(this.cursor,this.localMarkers,n.from);let o=i.length?this.localMarkers.concat(i):this.localMarkers,c=this.gutter.config.lineMarker(t,n,o);c&&o.unshift(c);let u=this.gutter;if(0==o.length&&!u.config.renderEmptyElements)return;let h=n.top-this.height;if(this.i==u.elements.length){let i=new GutterElement(t,n.height,h,o);u.elements.push(i),u.dom.appendChild(i.dom)}else u.elements[this.i].update(t,n.height,h,o);this.height=n.bottom,this.i++}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let n=t.elements.pop();t.dom.removeChild(n.dom),n.destroy()}}};let SingleGutterView=class SingleGutterView{constructor(t,n){for(let i in this.view=t,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:""),n.domEventHandlers)this.dom.addEventListener(i,o=>{let c=t.lineBlockAtHeight(o.clientY-t.documentTop);n.domEventHandlers[i](t,c,o)&&o.preventDefault()});this.markers=asArray(n.markers(t)),n.initialSpacer&&(this.spacer=new GutterElement(t,0,0,[n.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let n=this.markers;if(this.markers=asArray(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let n=this.config.updateSpacer(this.spacer.markers[0],t);n!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[n])}let i=t.view.viewport;return!c.RangeSet.eq(this.markers,n,i.from,i.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(t)}destroy(){for(let t of this.elements)t.destroy()}};let GutterElement=class GutterElement{constructor(t,n,i,o){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.update(t,n,i,o)}update(t,n,i,o){this.height!=n&&(this.dom.style.height=(this.height=n)+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),!function(t,n){if(t.length!=n.length)return!1;for(let i=0;i<t.length;i++)if(!t[i].compare(n[i]))return!1;return!0}(this.markers,o)&&this.setMarkers(t,o)}setMarkers(t,n){let i="cm-gutterElement",o=this.dom.firstChild;for(let c=0,u=0;;){let h=u,f=c<n.length?n[c++]:null,d=!1;if(f){let t=f.elementClass;t&&(i+=" "+t);for(let t=u;t<this.markers.length;t++)if(this.markers[t].compare(f)){h=t,d=!0;break}}else h=this.markers.length;for(;u<h;){let t=this.markers[u++];if(t.toDOM){t.destroy(o);let n=o.nextSibling;o.remove(),o=n}}if(!f)break;f.toDOM&&(d?o=o.nextSibling:this.dom.insertBefore(f.toDOM(t),o)),d&&u++}this.dom.className=i,this.markers=n}destroy(){this.setMarkers(null,[])}};let y=u.Facet.define(),w=u.Facet.define({combine:t=>u.combineConfig(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,n){let i=Object.assign({},t);for(let t in n){let o=i[t],c=n[t];i[t]=o?(t,n,i)=>o(t,n,i)||c(t,n,i):c}return i}})});let NumberMarker=class NumberMarker extends GutterMarker{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}};function formatNumber(t,n){return t.state.facet(w).formatNumber(n,t.state)}let b=d.compute([w],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:t=>t.state.facet(y),lineMarker:(t,n,i)=>i.some(t=>t.toDOM)?null:new NumberMarker(formatNumber(t,t.state.doc.lineAt(n.from).number)),lineMarkerChange:t=>t.startState.facet(w)!=t.state.facet(w),initialSpacer:t=>new NumberMarker(formatNumber(t,maxLineNumber(t.state.doc.lines))),updateSpacer(t,n){let i=formatNumber(n.view,maxLineNumber(n.view.state.doc.lines));return i==t.number?t:new NumberMarker(i)},domEventHandlers:t.facet(w).domEventHandlers}));function maxLineNumber(t){let n=9;for(;n<t;)n=10*n+9;return n}let S=new class extends GutterMarker{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},x=h.compute(["selection"],t=>{let n=[],i=-1;for(let o of t.selection.ranges)if(o.empty){let c=t.doc.lineAt(o.head).from;c>i&&(i=c,n.push(S.range(c)))}return c.RangeSet.of(n)});n.GutterMarker=GutterMarker,n.gutter=function(t){return[gutters(),d.of(Object.assign(Object.assign({},f),t))]},n.gutterLineClass=h,n.gutters=gutters,n.highlightActiveLineGutter=function(){return x},n.lineNumberMarkers=y,n.lineNumbers=function(t={}){return[w.of(t),gutters(),b]}},7038:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(6393),c=i(3958),u=i(1135),h=i(4350),f=i(2382),d=i(7495);let m=0;let Tag=class Tag{constructor(t,n,i){this.set=t,this.base=n,this.modified=i,this.id=m++}static define(t){if(null==t?void 0:t.base)throw Error("Can not derive from a modified tag");let n=new Tag([],null,[]);if(n.set.push(n),t)for(let i of t.set)n.set.push(i);return n}static defineModifier(){let t=new Modifier;return n=>n.modified.indexOf(t)>-1?n:Modifier.get(n.base||n,n.modified.concat(t).sort((t,n)=>t.id-n.id))}};let g=0;let Modifier=class Modifier{constructor(){this.instances=[],this.id=g++}static get(t,n){if(!n.length)return t;let i=n[0].instances.find(i=>{var o;return i.base==t&&(o=i.modified,n.length==o.length&&n.every((t,n)=>t==o[n]))});if(i)return i;let o=[],c=new Tag(o,t,n);for(let t of n)t.instances.push(c);let u=function permute(t){let n=[t];for(let i=0;i<t.length;i++)for(let o of permute(t.slice(0,i).concat(t.slice(i+1))))n.push(o);return n}(n);for(let n of t.set)for(let t of u)o.push(Modifier.get(n,t));return c}};let v=new o.NodeProp,y=h.Facet.define({combine:t=>t.length?HighlightStyle.combinedMatch(t):null}),w=h.Facet.define({combine:t=>t.length?t[0].match:null});function getHighlightStyle(t){return t.facet(y)||t.facet(w)}let Rule=class Rule{constructor(t,n,i,o){this.tags=t,this.mode=n,this.context=i,this.next=o}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}};let HighlightStyle=class HighlightStyle{constructor(t,n){let i;function def(t){let n=c.StyleModule.newName();return(i||(i=Object.create(null)))["."+n]=t,n}for(let i of(this.map=Object.create(null),this.all="string"==typeof n.all?n.all:n.all?def(n.all):null,t)){let t=(i.class||def(Object.assign({},i,{tag:null})))+(this.all?" "+this.all:""),n=i.tag;if(Array.isArray(n))for(let i of n)this.map[i.id]=t;else this.map[n.id]=t}this.module=i?new c.StyleModule(i):null,this.scope=n.scope||null,this.match=this.match.bind(this);let o=[b];this.module&&o.push(u.EditorView.styleModule.of(this.module)),this.extension=o.concat(null==n.themeType?y.of(this):y.computeN([u.EditorView.darkTheme],t=>t.facet(u.EditorView.darkTheme)==("dark"==n.themeType)?[this]:[])),this.fallback=o.concat(w.of(this))}match(t,n){if(this.scope&&n!=this.scope)return null;for(let n of t.set){let i=this.map[n.id];if(void 0!==i)return n!=t&&(this.map[t.id]=i),i}return this.map[t.id]=this.all}static combinedMatch(t){if(1==t.length)return t[0].match;let n=t.some(t=>t.scope)?void 0:Object.create(null);return(i,o)=>{let c=n&&n[i.id];if(void 0!==c)return c;let u=null;for(let n of t){let t=n.match(i,o);t&&(u=u?u+" "+t:t)}return n&&(n[i.id]=u),u}}static define(t,n){return new HighlightStyle(t,n||{})}static get(t,n,i){let c=getHighlightStyle(t);return c&&c(n,i||o.NodeType.none)}};let b=h.Prec.high(u.ViewPlugin.fromClass(class{constructor(t){this.markCache=Object.create(null),this.tree=f.syntaxTree(t.state),this.decorations=this.buildDeco(t,getHighlightStyle(t.state))}update(t){let n=f.syntaxTree(t.state),i=getHighlightStyle(t.state),o=i!=t.startState.facet(y);n.length<t.view.viewport.to&&!o&&n.type==this.tree.type?this.decorations=this.decorations.map(t.changes):(n!=this.tree||t.viewportChanged||o)&&(this.tree=n,this.decorations=this.buildDeco(t.view,i))}buildDeco(t,n){if(!n||!this.tree.length)return u.Decoration.none;let i=new d.RangeSetBuilder;for(let{from:o,to:c}of t.visibleRanges)highlightTreeRange(this.tree,o,c,n,(t,n,o)=>{i.add(t,n,this.markCache[o]||(this.markCache[o]=u.Decoration.mark({class:o})))});return i.finish()}},{decorations:t=>t.decorations})),S=[""];let HighlightBuilder=class HighlightBuilder{constructor(t,n,i){this.at=t,this.style=n,this.span=i,this.class=""}startSpan(t,n){n!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=n)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,n,i,c,u,h){let{type:f,from:d,to:m}=t;if(d>=i||m<=n)return;S[u]=f.name,f.isTop&&(h=f);let g=c,y=f.prop(v),w=!1;for(;y;){if(!y.context||function(t,n,i){if(t.length>i-1)return!1;for(let o=i-1,c=t.length-1;c>=0;c--,o--){let i=t[c];if(i&&i!=n[o])return!1}return!0}(y.context,S,u)){for(let t of y.tags){let n=this.style(t,h);n&&(g&&(g+=" "),g+=n,1==y.mode?c+=(c?" ":"")+n:0==y.mode&&(w=!0))}break}y=y.next}if(this.startSpan(t.from,g),w)return;let b=t.tree&&t.tree.prop(o.NodeProp.mounted);if(b&&b.overlay){let o=t.node.enter(b.overlay[0].from+d,1),f=t.firstChild();for(let v=0,y=d;;v++){let w=v<b.overlay.length?b.overlay[v]:null,S=w?w.from+d:m,x=Math.max(n,y),C=Math.min(i,S);if(x<C&&f)for(;t.from<C&&(this.highlightRange(t,x,C,c,u+1,h),this.startSpan(Math.min(i,t.to),g),!(t.to>=S)&&t.nextSibling()););if(!w||S>i)break;(y=w.to+d)>n&&(this.highlightRange(o.cursor,Math.max(n,w.from+d),Math.min(i,y),c,u,b.tree.type),this.startSpan(y,g))}f&&t.parent()}else if(t.firstChild()){do{if(t.to<=n)continue;if(t.from>=i)break;this.highlightRange(t,n,i,c,u+1,h),this.startSpan(Math.min(i,t.to),g)}while(t.nextSibling());t.parent()}}};function highlightTreeRange(t,n,i,o,c){let u=new HighlightBuilder(n,o,c);u.highlightRange(t.cursor(),n,i,"",0,t.type),u.flush(i)}let x=Tag.define,C=x(),_=x(),E=x(_),T=x(_),P=x(),L=x(P),I=x(P),O=x(),N=x(O),B=x(),z=x(),V=x(),H=x(V),U=x(),$={comment:C,lineComment:x(C),blockComment:x(C),docComment:x(C),name:_,variableName:x(_),typeName:E,tagName:x(E),propertyName:T,attributeName:x(T),className:x(_),labelName:x(_),namespace:x(_),macroName:x(_),literal:P,string:L,docString:x(L),character:x(L),attributeValue:x(L),number:I,integer:x(I),float:x(I),bool:x(P),regexp:x(P),escape:x(P),color:x(P),url:x(P),keyword:B,self:x(B),null:x(B),atom:x(B),unit:x(B),modifier:x(B),operatorKeyword:x(B),controlKeyword:x(B),definitionKeyword:x(B),moduleKeyword:x(B),operator:z,derefOperator:x(z),arithmeticOperator:x(z),logicOperator:x(z),bitwiseOperator:x(z),compareOperator:x(z),updateOperator:x(z),definitionOperator:x(z),typeOperator:x(z),controlOperator:x(z),punctuation:V,separator:x(V),bracket:H,angleBracket:x(H),squareBracket:x(H),paren:x(H),brace:x(H),content:O,heading:N,heading1:x(N),heading2:x(N),heading3:x(N),heading4:x(N),heading5:x(N),heading6:x(N),contentSeparator:x(O),list:x(O),quote:x(O),emphasis:x(O),strong:x(O),link:x(O),monospace:x(O),strikethrough:x(O),inserted:x(),deleted:x(),changed:x(),invalid:x(),meta:U,documentMeta:x(U),annotation:x(U),processingInstruction:x(U),definition:Tag.defineModifier(),constant:Tag.defineModifier(),function:Tag.defineModifier(),standard:Tag.defineModifier(),local:Tag.defineModifier(),special:Tag.defineModifier()},q=HighlightStyle.define([{tag:$.link,textDecoration:"underline"},{tag:$.heading,textDecoration:"underline",fontWeight:"bold"},{tag:$.emphasis,fontStyle:"italic"},{tag:$.strong,fontWeight:"bold"},{tag:$.strikethrough,textDecoration:"line-through"},{tag:$.keyword,color:"#708"},{tag:[$.atom,$.bool,$.url,$.contentSeparator,$.labelName],color:"#219"},{tag:[$.literal,$.inserted],color:"#164"},{tag:[$.string,$.deleted],color:"#a11"},{tag:[$.regexp,$.escape,$.special($.string)],color:"#e40"},{tag:$.definition($.variableName),color:"#00f"},{tag:$.local($.variableName),color:"#30a"},{tag:[$.typeName,$.namespace],color:"#085"},{tag:$.className,color:"#167"},{tag:[$.special($.variableName),$.macroName],color:"#256"},{tag:$.definition($.propertyName),color:"#00c"},{tag:$.comment,color:"#940"},{tag:$.meta,color:"#7a757a"},{tag:$.invalid,color:"#f00"}]),G=HighlightStyle.define([{tag:$.link,class:"cmt-link"},{tag:$.heading,class:"cmt-heading"},{tag:$.emphasis,class:"cmt-emphasis"},{tag:$.strong,class:"cmt-strong"},{tag:$.keyword,class:"cmt-keyword"},{tag:$.atom,class:"cmt-atom"},{tag:$.bool,class:"cmt-bool"},{tag:$.url,class:"cmt-url"},{tag:$.labelName,class:"cmt-labelName"},{tag:$.inserted,class:"cmt-inserted"},{tag:$.deleted,class:"cmt-deleted"},{tag:$.literal,class:"cmt-literal"},{tag:$.string,class:"cmt-string"},{tag:$.number,class:"cmt-number"},{tag:[$.regexp,$.escape,$.special($.string)],class:"cmt-string2"},{tag:$.variableName,class:"cmt-variableName"},{tag:$.local($.variableName),class:"cmt-variableName cmt-local"},{tag:$.definition($.variableName),class:"cmt-variableName cmt-definition"},{tag:$.special($.variableName),class:"cmt-variableName2"},{tag:$.definition($.propertyName),class:"cmt-propertyName cmt-definition"},{tag:$.typeName,class:"cmt-typeName"},{tag:$.namespace,class:"cmt-namespace"},{tag:$.className,class:"cmt-className"},{tag:$.macroName,class:"cmt-macroName"},{tag:$.propertyName,class:"cmt-propertyName"},{tag:$.operator,class:"cmt-operator"},{tag:$.comment,class:"cmt-comment"},{tag:$.meta,class:"cmt-meta"},{tag:$.invalid,class:"cmt-invalid"},{tag:$.punctuation,class:"cmt-punctuation"}]);n.HighlightStyle=HighlightStyle,n.Tag=Tag,n.classHighlightStyle=G,n.defaultHighlightStyle=q,n.highlightTree=function(t,n,i,o=0,c=t.length){highlightTreeRange(t,o,c,n,i)},n.styleTags=function(t){let n=Object.create(null);for(let i in t){let o=t[i];for(let t of(Array.isArray(o)||(o=[o]),i.split(" ")))if(t){let i=[],c=2,u=t;for(let n=0;;){if("..."==u&&n>0&&n+3==t.length){c=1;break}let o=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(u);if(!o)throw RangeError("Invalid path: "+t);if(i.push("*"==o[0]?null:'"'==o[0][0]?JSON.parse(o[0]):o[0]),(n+=o[0].length)==t.length)break;let h=t[n++];if(n==t.length&&"!"==h){c=0;break}if("/"!=h)throw RangeError("Invalid path: "+t);u=t.slice(n)}let h=i.length-1,f=i[h];if(!f)throw RangeError("Invalid path: "+t);let d=new Rule(o,c,h>0?i.slice(0,h):null);n[f]=d.sort(n[f])}}return v.add(n)},n.tags=$},7260:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(4350),c=i(1135);let u=o.Annotation.define(),h=o.Annotation.define(),f=o.Facet.define(),d=o.Facet.define({combine:t=>o.combineConfig(t,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}),m=o.StateField.define({create:()=>HistoryState.empty,update(t,n){let i=n.state.facet(d),c=n.annotation(u);if(c){var f;let u;let h=n.docChanged?o.EditorSelection.single((f=n.changes,u=0,f.iterChangedRanges((t,n)=>u=n),u)):void 0,d=HistEvent.fromTransaction(n,h),m=c.side,g=0==m?t.undone:t.done;return g=d?updateBranch(g,g.length,i.minDepth,d):addSelection(g,n.startState.selection),new HistoryState(0==m?c.rest:g,0==m?g:c.rest)}let m=n.annotation(h);if(("full"==m||"before"==m)&&(t=t.isolate()),!1===n.annotation(o.Transaction.addToHistory))return n.changes.empty?t:t.addMapping(n.changes.desc);let g=HistEvent.fromTransaction(n),v=n.annotation(o.Transaction.time),y=n.annotation(o.Transaction.userEvent);return g?t=t.addChanges(g,v,y,i.newGroupDelay,i.minDepth):n.selection&&(t=t.addSelection(n.startState.selection,v,y,i.newGroupDelay)),("full"==m||"after"==m)&&(t=t.isolate()),t},toJSON:t=>({done:t.done.map(t=>t.toJSON()),undone:t.undone.map(t=>t.toJSON())}),fromJSON:t=>new HistoryState(t.done.map(HistEvent.fromJSON),t.undone.map(HistEvent.fromJSON))});function cmd(t,n){return function({state:i,dispatch:o}){if(!n&&i.readOnly)return!1;let c=i.field(m,!1);if(!c)return!1;let u=c.pop(t,i,n);return!!u&&(o(u),!0)}}let g=cmd(0,!1),v=cmd(1,!1),y=cmd(0,!0),w=cmd(1,!0);function depth(t){return function(n){let i=n.field(m,!1);if(!i)return 0;let o=0==t?i.done:i.undone;return o.length-(o.length&&!o[0].changes?1:0)}}let b=depth(0),S=depth(1);let HistEvent=class HistEvent{constructor(t,n,i,o,c){this.changes=t,this.effects=n,this.mapped=i,this.startSelection=o,this.selectionsAfter=c}setSelAfter(t){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,n,i;return{changes:null===(t=this.changes)||void 0===t?void 0:t.toJSON(),mapped:null===(n=this.mapped)||void 0===n?void 0:n.toJSON(),startSelection:null===(i=this.startSelection)||void 0===i?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(t=>t.toJSON())}}static fromJSON(t){return new HistEvent(t.changes&&o.ChangeSet.fromJSON(t.changes),[],t.mapped&&o.ChangeDesc.fromJSON(t.mapped),t.startSelection&&o.EditorSelection.fromJSON(t.startSelection),t.selectionsAfter.map(o.EditorSelection.fromJSON))}static fromTransaction(t,n){let i=x;for(let n of t.startState.facet(f)){let o=n(t);o.length&&(i=i.concat(o))}return!i.length&&t.changes.empty?null:new HistEvent(t.changes.invert(t.startState.doc),i,void 0,n||t.startState.selection,x)}static selection(t){return new HistEvent(void 0,x,void 0,void 0,t)}};function updateBranch(t,n,i,o){let c=n+1>i+20?n-i-1:0,u=t.slice(c,n);return u.push(o),u}function conc(t,n){return t.length?n.length?t.concat(n):t:n}let x=[];function addSelection(t,n){if(!t.length)return[HistEvent.selection([n])];{let i=t[t.length-1],o=i.selectionsAfter.slice(Math.max(0,i.selectionsAfter.length-200));return o.length&&o[o.length-1].eq(n)?t:(o.push(n),updateBranch(t,t.length-1,1e9,i.setSelAfter(o)))}}function addMappingToBranch(t,n){if(!t.length)return t;let i=t.length,c=x;for(;i;){let u=function(t,n,i){let c=conc(t.selectionsAfter.length?t.selectionsAfter.map(t=>t.map(n)):x,i);if(!t.changes)return HistEvent.selection(c);let u=t.changes.map(n),h=n.mapDesc(t.changes,!0),f=t.mapped?t.mapped.composeDesc(h):h;return new HistEvent(u,o.StateEffect.mapEffects(t.effects,n),f,t.startSelection.map(h),c)}(t[i-1],n,c);if(u.changes&&!u.changes.empty||u.effects.length){let n=t.slice(0,i);return n[i-1]=u,n}n=u.mapped,i--,c=u.selectionsAfter}return c.length?[HistEvent.selection(c)]:x}let C=/^(input\.type|delete)($|\.)/;let HistoryState=class HistoryState{constructor(t,n,i=0,o){this.done=t,this.undone=n,this.prevTime=i,this.prevUserEvent=o}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges(t,n,i,o,c){var u,h;let f,d,m=this.done,g=m[m.length-1];return m=g&&g.changes&&!g.changes.empty&&t.changes&&(!i||C.test(i))&&(!g.selectionsAfter.length&&n-this.prevTime<o&&(u=g.changes,h=t.changes,f=[],d=!1,u.iterChangedRanges((t,n)=>f.push(t,n)),h.iterChangedRanges((t,n,i,o)=>{for(let t=0;t<f.length;){let n=f[t++],c=f[t++];o>=n&&i<=c&&(d=!0)}}),d)||"input.type.compose"==i)?updateBranch(m,m.length-1,c,new HistEvent(t.changes.compose(g.changes),conc(t.effects,g.effects),g.mapped,g.startSelection,x)):updateBranch(m,m.length,c,t),new HistoryState(m,x,n,i)}addSelection(t,n,i,o){var c;let u=this.done.length?this.done[this.done.length-1].selectionsAfter:x;return u.length>0&&n-this.prevTime<o&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&(c=u[u.length-1]).ranges.length==t.ranges.length&&0===c.ranges.filter((n,i)=>n.empty!=t.ranges[i].empty).length?this:new HistoryState(addSelection(this.done,t),this.undone,n,i)}addMapping(t){return new HistoryState(addMappingToBranch(this.done,t),addMappingToBranch(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,n,i){let o=0==t?this.done:this.undone;if(0==o.length)return null;let c=o[o.length-1];if(i&&c.selectionsAfter.length){let i,h;return n.update({selection:c.selectionsAfter[c.selectionsAfter.length-1],annotations:u.of({side:t,rest:(i=o[o.length-1],(h=o.slice())[o.length-1]=i.setSelAfter(i.selectionsAfter.slice(0,i.selectionsAfter.length-1)),h)}),userEvent:0==t?"select.undo":"select.redo",scrollIntoView:!0})}if(!c.changes)return null;{let i=1==o.length?x:o.slice(0,o.length-1);return c.mapped&&(i=addMappingToBranch(i,c.mapped)),n.update({changes:c.changes,selection:c.startSelection,effects:c.effects,annotations:u.of({side:t,rest:i}),filter:!1,userEvent:0==t?"undo":"redo",scrollIntoView:!0})}}};HistoryState.empty=new HistoryState(x,x);let _=[{key:"Mod-z",run:g,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:v,preventDefault:!0},{key:"Mod-u",run:y,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:w,preventDefault:!0}];n.history=function(t={}){return[m,d.of(t),c.EditorView.domEventHandlers({beforeinput(t,n){let i="historyUndo"==t.inputType?g:"historyRedo"==t.inputType?v:null;return!!i&&(t.preventDefault(),i(n))}})]},n.historyField=m,n.historyKeymap=_,n.invertedEffects=f,n.isolateHistory=h,n.redo=v,n.redoDepth=S,n.redoSelection=w,n.undo=g,n.undoDepth=b,n.undoSelection=y},2382:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,c=i(6393),u=i(4350),h=i(1135),f=i(5627);let d=new c.NodeProp;function defineLanguageFacet(t){return u.Facet.define({combine:t?n=>n.concat(t):void 0})}let Language=class Language{constructor(t,n,i,o=[]){this.data=t,this.topNode=i,u.EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(u.EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=n,this.extension=[y.of(this),u.EditorState.languageData.of((t,n,i)=>t.facet(languageDataFacetAt(t,n,i)))].concat(o)}isActiveAt(t,n,i=-1){return languageDataFacetAt(t,n,i)==this.data}findRegions(t){let n=t.facet(y);if((null==n?void 0:n.data)==this.data)return[{from:0,to:t.doc.length}];if(!n||!n.allowsNesting)return[];let i=[],explore=(t,n)=>{if(t.prop(d)==this.data){i.push({from:n,to:n+t.length});return}let o=t.prop(c.NodeProp.mounted);if(o){if(o.tree.prop(d)==this.data){if(o.overlay)for(let t of o.overlay)i.push({from:t.from+n,to:t.to+n});else i.push({from:n,to:n+t.length});return}if(o.overlay){let t=i.length;if(explore(o.tree,o.overlay[0].from+n),i.length>t)return}}for(let i=0;i<t.children.length;i++){let o=t.children[i];o instanceof c.Tree&&explore(o,t.positions[i]+n)}};return explore(syntaxTree(t),0),i}get allowsNesting(){return!0}};function languageDataFacetAt(t,n,i){let o=t.facet(y);if(!o)return null;let c=o.data;if(o.allowsNesting)for(let o=syntaxTree(t).topNode;o;o=o.enter(n,i,!0,!1))c=o.type.prop(d)||c;return c}Language.setState=u.StateEffect.define();let LRLanguage=class LRLanguage extends Language{constructor(t,n){super(t,n,n.topNode),this.parser=n}static define(t){let n=defineLanguageFacet(t.languageData);return new LRLanguage(n,t.parser.configure({props:[d.add(t=>t.isTop?n:void 0)]}))}configure(t){return new LRLanguage(this.data,this.parser.configure(t))}get allowsNesting(){return this.parser.wrappers.length>0}};function syntaxTree(t){let n=t.field(Language.state,!1);return n?n.tree:c.Tree.empty}let DocInput=class DocInput{constructor(t,n=t.length){this.doc=t,this.length=n,this.cursorPos=0,this.string="",this.cursor=t.iter()}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,n){let i=this.cursorPos-this.string.length;return t<i||n>=this.cursorPos?this.doc.sliceString(t,n):this.string.slice(t-i,n-i)}};let m=null;let ParseContext=class ParseContext{constructor(t,n,i=[],o,c,u,h,f){this.parser=t,this.state=n,this.fragments=i,this.tree=o,this.treeLen=c,this.viewport=u,this.skipped=h,this.scheduleOn=f,this.parse=null,this.tempSkipped=[]}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(t,n){return(null!=n&&n>=this.state.doc.length&&(n=void 0),this.tree!=c.Tree.empty&&this.isDone(null!=n?n:this.state.doc.length))?(this.takeTree(),!0):this.withContext(()=>{var i;if("number"==typeof t){let n=Date.now()+t;t=()=>Date.now()>n}for(this.parse||(this.parse=this.startParse()),null!=n&&(null==this.parse.stoppedAt||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let o=this.parse.advance();if(o){if(this.fragments=this.withoutTempSkipped(c.TreeFragment.addTree(o,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(i=this.parse.stoppedAt)&&void 0!==i?i:this.state.doc.length,this.tree=o,this.parse=null,!(this.treeLen<(null!=n?n:this.state.doc.length)))return!0;this.parse=this.startParse()}if(t())return!1}})}takeTree(){let t,n;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=t,this.tree=n,this.fragments=this.withoutTempSkipped(c.TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let n=m;m=this;try{return t()}finally{m=n}}withoutTempSkipped(t){for(let n;n=this.tempSkipped.pop();)t=cutFragments(t,n.from,n.to);return t}changes(t,n){let{fragments:i,tree:o,treeLen:u,viewport:h,skipped:f}=this;if(this.takeTree(),!t.empty){let n=[];if(t.iterChangedRanges((t,i,o,c)=>n.push({fromA:t,toA:i,fromB:o,toB:c})),i=c.TreeFragment.applyChanges(i,n),o=c.Tree.empty,u=0,h={from:t.mapPos(h.from,-1),to:t.mapPos(h.to,1)},this.skipped.length)for(let n of(f=[],this.skipped)){let i=t.mapPos(n.from,1),o=t.mapPos(n.to,-1);i<o&&f.push({from:i,to:o})}}return new ParseContext(this.parser,n,i,o,u,h,f,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let n=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:i,to:o}=this.skipped[n];i<t.to&&o>t.from&&(this.fragments=cutFragments(this.fragments,i,o),this.skipped.splice(n--,1))}return!(this.skipped.length>=n)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,n){this.skipped.push({from:t,to:n})}static getSkippingParser(t){return new class extends c.Parser{createParse(n,i,o){let u=o[0].from,h=o[o.length-1].to;return{parsedPos:u,advance(){let n=m;if(n){for(let t of o)n.tempSkipped.push(t);t&&(n.scheduleOn=n.scheduleOn?Promise.all([n.scheduleOn,t]):t)}return this.parsedPos=h,new c.Tree(c.NodeType.none,[],[],h-u)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let n=this.fragments;return this.treeLen>=t&&n.length&&0==n[0].from&&n[0].to>=t}static get(){return m}};function cutFragments(t,n,i){return c.TreeFragment.applyChanges(t,[{fromA:n,toA:i,fromB:n,toB:i}])}let LanguageState=class LanguageState{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(t.changes,t.state),i=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,i)||n.takeTree(),new LanguageState(n)}static init(t){let n=Math.min(3e3,t.doc.length),i=new ParseContext(t.facet(y).parser,t,[],c.Tree.empty,0,{from:0,to:n},[],null);return i.work(20,n)||i.takeTree(),new LanguageState(i)}};Language.state=u.StateField.define({create:LanguageState.init,update(t,n){for(let t of n.effects)if(t.is(Language.setState))return t.value;return n.startState.facet(y)!=n.state.facet(y)?LanguageState.init(n.state):t.apply(n)}});let requestIdle=t=>{let n=setTimeout(()=>t(),500);return()=>clearTimeout(n)};"undefined"!=typeof requestIdleCallback&&(requestIdle=t=>{let n=-1,i=setTimeout(()=>{n=requestIdleCallback(t,{timeout:400})},100);return()=>n<0?clearTimeout(i):cancelIdleCallback(n)});let g="undefined"!=typeof navigator&&(null===(o=navigator.scheduling)||void 0===o?void 0:o.isInputPending)?()=>navigator.scheduling.isInputPending():null,v=h.ViewPlugin.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let n=this.view.state.field(Language.state).context;(n.updateViewport(t.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),t.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:t}=this.view,n=t.field(Language.state);n.tree==n.context.tree&&n.context.isDone(t.doc.length)||(this.working=requestIdle(this.work))}work(t){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:o}}=this.view,c=i.field(Language.state);if(c.tree==c.context.tree&&c.context.isDone(o+1e5))return;let u=Date.now()+Math.min(this.chunkBudget,100,t&&!g?Math.max(25,t.timeRemaining()-5):1e9),h=c.context.treeLen<o&&i.doc.length>o+1e3,f=c.context.work(()=>g&&g()||Date.now()>u,o+(h?0:1e5));this.chunkBudget-=Date.now()-n,(f||this.chunkBudget<=0)&&(c.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(c.context))})),this.chunkBudget>0&&!(f&&!h)&&this.scheduleWork(),this.checkAsyncSchedule(c.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(t=>h.logException(this.view.state,t)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),y=u.Facet.define({combine:t=>t.length?t[0]:null,enables:[Language.state,v]});let LanguageDescription=class LanguageDescription{constructor(t,n,i,o,c,u){this.name=t,this.alias=n,this.extensions=i,this.filename=o,this.loadFunc=c,this.support=u,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(t=>this.support=t,t=>{throw this.loading=null,t}))}static of(t){let{load:n,support:i}=t;if(!n){if(!i)throw RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");n=()=>Promise.resolve(i)}return new LanguageDescription(t.name,(t.alias||[]).concat(t.name).map(t=>t.toLowerCase()),t.extensions||[],t.filename,n,i)}static matchFilename(t,n){for(let i of t)if(i.filename&&i.filename.test(n))return i;let i=/\.([^.]+)$/.exec(n);if(i){for(let n of t)if(n.extensions.indexOf(i[1])>-1)return n}return null}static matchLanguageName(t,n,i=!0){for(let i of(n=n.toLowerCase(),t))if(i.alias.some(t=>t==n))return i;if(i)for(let i of t)for(let t of i.alias){let o=n.indexOf(t);if(o>-1&&(t.length>2||!/\w/.test(n[o-1])&&!/\w/.test(n[o+t.length])))return i}return null}};let w=u.Facet.define(),b=u.Facet.define({combine:t=>{if(!t.length)return"  ";if(!/^(?: +|\t+)$/.test(t[0]))throw Error("Invalid indent unit: "+JSON.stringify(t[0]));return t[0]}});function getIndentUnit(t){let n=t.facet(b);return 9==n.charCodeAt(0)?t.tabSize*n.length:n.length}function indentString(t,n){let i="",o=t.tabSize;if(9==t.facet(b).charCodeAt(0))for(;n>=o;)i+="	",n-=o;for(let t=0;t<n;t++)i+=" ";return i}function getIndentation(t,n){var i;for(let i of(t instanceof u.EditorState&&(t=new IndentContext(t)),t.state.facet(w))){let o=i(t,n);if(null!=o)return o}let o=syntaxTree(t.state);return o?(i=t,indentFrom(o.resolveInner(n).enterUnfinishedNodesBefore(n),n,i)):null}let IndentContext=class IndentContext{constructor(t,n={}){this.state=t,this.options=n,this.unit=getIndentUnit(t)}lineAt(t,n=1){let i=this.state.doc.lineAt(t),{simulateBreak:o,simulateDoubleBreak:c}=this.options;return null!=o&&o>=i.from&&o<=i.to?c&&o==t?{text:"",from:t}:(n<0?o<t:o<=t)?{text:i.text.slice(o-i.from),from:o}:{text:i.text.slice(0,o-i.from),from:i.from}:i}textAfterPos(t,n=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:i,from:o}=this.lineAt(t,n);return i.slice(t-o,Math.min(i.length,t+100-o))}column(t,n=1){let{text:i,from:o}=this.lineAt(t,n),c=this.countColumn(i,t-o),u=this.options.overrideIndentation?this.options.overrideIndentation(o):-1;return u>-1&&(c+=u-this.countColumn(i,i.search(/\S|$/))),c}countColumn(t,n=t.length){return f.countColumn(t,this.state.tabSize,n)}lineIndent(t,n=1){let{text:i,from:o}=this.lineAt(t,n),c=this.options.overrideIndentation;if(c){let t=c(o);if(t>-1)return t}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}};let S=new c.NodeProp;function indentFrom(t,n,i){for(;t;t=t.parent){let o=function(t){let n=t.type.prop(S);if(n)return n;let i=t.firstChild,o;if(i&&(o=i.type.prop(c.NodeProp.closedBy))){let n=t.lastChild,i=n&&o.indexOf(n.name)>-1;return t=>delimitedStrategy(t,!0,1,void 0,i&&!(t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak)?n.from:void 0)}return null==t.parent?topIndent:null}(t);if(o)return o(new TreeIndentContext(i,n,t))}return null}function topIndent(){return 0}let TreeIndentContext=class TreeIndentContext extends IndentContext{constructor(t,n,i){super(t.state,t.options),this.base=t,this.pos=n,this.node=i}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let t=this.state.doc.lineAt(this.node.from);for(;;){let n=this.node.resolve(t.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(function(t,n){for(let i=n;i;i=i.parent)if(t==i)return!0;return!1}(n,this.node))break;t=this.state.doc.lineAt(n.from)}return this.lineIndent(t.from)}continue(){let t=this.node.parent;return t?indentFrom(t,this.pos,this.base):0}};function delimitedStrategy(t,n,i,o,c){let u=t.textAfter,h=u.match(/^\s*/)[0].length,f=o&&u.slice(h,h+o.length)==o||c==t.pos+h,d=n?function(t){let n=t.node,i=n.childAfter(n.from),o=n.lastChild;if(!i)return null;let c=t.options.simulateBreak,u=t.state.doc.lineAt(i.from),h=null==c||c<=u.from?u.to:Math.min(u.to,c);for(let t=i.to;;){let c=n.childAfter(t);if(!c||c==o)return null;if(!c.type.isSkipped)return c.from<h?i:null;t=c.to}}(t):null;return d?f?t.column(d.from):t.column(d.to):t.baseIndent+(f?0:t.unit*i)}let x=u.Facet.define(),C=new c.NodeProp;n.IndentContext=IndentContext,n.LRLanguage=LRLanguage,n.Language=Language,n.LanguageDescription=LanguageDescription,n.LanguageSupport=class{constructor(t,n=[]){this.language=t,this.support=n,this.extension=[t,n]}},n.ParseContext=ParseContext,n.TreeIndentContext=TreeIndentContext,n.continuedIndent=function({except:t,units:n=1}={}){return i=>{let o=t&&t.test(i.textAfter);return i.baseIndent+(o?0:n*i.unit)}},n.defineLanguageFacet=defineLanguageFacet,n.delimitedIndent=function({closing:t,align:n=!0,units:i=1}){return o=>delimitedStrategy(o,n,i,t)},n.ensureSyntaxTree=function(t,n,i=50){var o;let c=null===(o=t.field(Language.state,!1))||void 0===o?void 0:o.context;return c&&(c.isDone(n)||c.work(i,n))?c.tree:null},n.flatIndent=t=>t.baseIndent,n.foldInside=function(t){let n=t.firstChild,i=t.lastChild;return n&&n.to<i.from?{from:n.to,to:i.type.isError?t.to:i.from}:null},n.foldNodeProp=C,n.foldService=x,n.foldable=function(t,n,i){for(let o of t.facet(x)){let c=o(t,n,i);if(c)return c}return function(t,n,i){let o=syntaxTree(t);if(0==o.length)return null;let c=o.resolveInner(i),u=null;for(let h=c;h;h=h.parent){if(h.to<=i||h.from>i)continue;if(u&&h.from<n)break;let c=h.type.prop(C);if(c&&(h.to<o.length-50||o.length==t.doc.length||!function(t){let n=t.lastChild;return n&&n.to==t.to&&n.type.isError}(h))){let o=c(h,t);o&&o.from<=i&&o.from>=n&&o.to>i&&(u=o)}}return u}(t,n,i)},n.getIndentUnit=getIndentUnit,n.getIndentation=getIndentation,n.indentNodeProp=S,n.indentOnInput=function(){return u.EditorState.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let n=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!n.length)return t;let i=t.newDoc,{head:o}=t.newSelection.main,c=i.lineAt(o);if(o>c.from+200)return t;let u=i.sliceString(c.from,o);if(!n.some(t=>t.test(u)))return t;let{state:h}=t,f=-1,d=[];for(let{head:t}of h.selection.ranges){let n=h.doc.lineAt(t);if(n.from==f)continue;f=n.from;let i=getIndentation(h,n.from);if(null==i)continue;let o=/^\s*/.exec(n.text)[0],c=indentString(h,i);o!=c&&d.push({from:n.from,to:n.from+o.length,insert:c})}return d.length?[t,{changes:d,sequential:!0}]:t})},n.indentService=w,n.indentString=indentString,n.indentUnit=b,n.language=y,n.languageDataProp=d,n.syntaxParserRunning=function(t){var n;return(null===(n=t.plugin(v))||void 0===n?void 0:n.isWorking())||!1},n.syntaxTree=syntaxTree,n.syntaxTreeAvailable=function(t,n=t.doc.length){var i;return(null===(i=t.field(Language.state,!1))||void 0===i?void 0:i.context.isDone(n))||!1}},3955:function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=RegExp("\\b((true)|(false)|(on)|(off)|(yes)|(no))$","i");n.yaml={token:function(t,n){var o=t.peek(),c=n.escaped;if(n.escaped=!1,"#"==o&&(0==t.pos||/\s/.test(t.string.charAt(t.pos-1))))return t.skipToEnd(),"comment";if(t.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(n.literal&&t.indentation()>n.keyCol)return t.skipToEnd(),"string";if(n.literal&&(n.literal=!1),t.sol()){if(n.keyCol=0,n.pair=!1,n.pairStart=!1,t.match("---")||t.match("..."))return"def";if(t.match(/^\s*-\s+/))return"meta"}if(t.match(/^(\{|\}|\[|\])/))return"{"==o?n.inlinePairs++:"}"==o?n.inlinePairs--:"["==o?n.inlineList++:n.inlineList--,"meta";if(n.inlineList>0&&!c&&","==o)return t.next(),"meta";if(n.inlinePairs>0&&!c&&","==o)return n.keyCol=0,n.pair=!1,n.pairStart=!1,t.next(),"meta";if(n.pairStart){if(t.match(/^\s*(\||\>)\s*/))return n.literal=!0,"meta";if(t.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable";if(0==n.inlinePairs&&t.match(/^\s*-?[0-9\.\,]+\s?$/)||n.inlinePairs>0&&t.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(t.match(i))return"keyword"}return!n.pair&&t.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(n.pair=!0,n.keyCol=t.indentation(),"atom"):n.pair&&t.match(/^:\s*/)?(n.pairStart=!0,"meta"):(n.pairStart=!1,n.escaped="\\"==o,t.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},languageData:{commentTokens:{line:"#"}}}},1566:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(1135),c=i(4350),u=i(8326),h=i(2300),f=i(356),d=i(7495),m=i(3842),g=m&&"object"==typeof m&&"default"in m?m:{default:m};let SelectedDiagnostic=class SelectedDiagnostic{constructor(t,n,i){this.from=t,this.to=n,this.diagnostic=i}};let LintState=class LintState{constructor(t,n,i){this.diagnostics=t,this.panel=n,this.selected=i}static init(t,n,i){let c=o.Decoration.set(t.map(t=>t.from==t.to||t.from==t.to-1&&i.doc.lineAt(t.from).to==t.from?o.Decoration.widget({widget:new DiagnosticWidget(t),diagnostic:t}).range(t.from):o.Decoration.mark({attributes:{class:"cm-lintRange cm-lintRange-"+t.severity},diagnostic:t}).range(t.from,t.to)),!0);return new LintState(c,n,findDiagnostic(c))}};function findDiagnostic(t,n=null,i=0){let o=null;return t.between(i,1e9,(t,i,{spec:c})=>{if(!n||c.diagnostic==n)return o=new SelectedDiagnostic(t,i,c.diagnostic),!1}),o}function maybeEnableLint(t,n){return t.field(b,!1)?n:n.concat(c.StateEffect.appendConfig.of([b,o.EditorView.decorations.compute([b],t=>{let{selected:n,panel:i}=t.field(b);return n&&i&&n.from!=n.to?o.Decoration.set([S.range(n.from,n.to)]):o.Decoration.none}),u.hoverTooltip(lintTooltip),E]))}function setDiagnostics(t,n){return{effects:maybeEnableLint(t,[v.of(n)])}}let v=c.StateEffect.define(),y=c.StateEffect.define(),w=c.StateEffect.define(),b=c.StateField.define({create:()=>new LintState(o.Decoration.none,null,null),update(t,n){if(n.docChanged){let i=t.diagnostics.map(n.changes),o=null;if(t.selected){let c=n.changes.mapPos(t.selected.from,1);o=findDiagnostic(i,t.selected.diagnostic,c)||findDiagnostic(i,null,c)}t=new LintState(i,t.panel,o)}for(let i of n.effects)i.is(v)?t=LintState.init(i.value,t.panel,n.state):i.is(y)?t=new LintState(t.diagnostics,i.value?LintPanel.open:null,t.selected):i.is(w)&&(t=new LintState(t.diagnostics,t.panel,i.value));return t},provide:t=>[h.showPanel.from(t,t=>t.panel),o.EditorView.decorations.from(t,t=>t.diagnostics)]}),S=o.Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function lintTooltip(t,n,i){let{diagnostics:o}=t.state.field(b),c=[],u=2e8,h=0;return(o.between(n-(i<0?1:0),n+(i>0?1:0),(t,o,{spec:f})=>{n>=t&&n<=o&&(t==o||(n>t||i>0)&&(n<o||i<0))&&(c.push(f.diagnostic),u=Math.min(t,u),h=Math.max(o,h))}),c.length)?{pos:u,end:h,above:t.state.doc.lineAt(u).to<h,create:()=>({dom:diagnosticsTooltip(t,c)})}:null}function diagnosticsTooltip(t,n){return g.default("ul",{class:"cm-tooltip-lint"},n.map(n=>renderDiagnostic(t,n,!1)))}let openLintPanel=t=>{let n=t.state.field(b,!1);n&&n.panel||t.dispatch({effects:maybeEnableLint(t.state,[y.of(!0)])});let i=h.getPanel(t,LintPanel.open);return i&&i.dom.querySelector(".cm-panel-lint ul").focus(),!0},closeLintPanel=t=>{let n=t.state.field(b,!1);return!!n&&!!n.panel&&(t.dispatch({effects:y.of(!1)}),!0)},nextDiagnostic=t=>{let n=t.state.field(b,!1);if(!n)return!1;let i=t.state.selection.main,o=n.diagnostics.iter(i.to+1);return(!!o.value||!!(o=n.diagnostics.iter(0)).value&&(o.from!=i.from||o.to!=i.to))&&(t.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0}),!0)},x=[{key:"Mod-Shift-m",run:openLintPanel},{key:"F8",run:nextDiagnostic}],C=o.ViewPlugin.fromClass(class{constructor(t){this.view=t,this.timeout=-1,this.set=!0;let{delay:n}=t.state.facet(_);this.lintTime=Date.now()+n,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,n)}run(){let t=Date.now();if(t<this.lintTime-10)setTimeout(this.run,this.lintTime-t);else{this.set=!1;let{state:t}=this.view,{sources:n}=t.facet(_);Promise.all(n.map(t=>Promise.resolve(t(this.view)))).then(n=>{let i=n.reduce((t,n)=>t.concat(n));this.view.state.doc==t.doc&&this.view.dispatch(setDiagnostics(this.view.state,i))},t=>{o.logException(this.view.state,t)})}}update(t){let n=t.state.facet(_);(t.docChanged||n!=t.startState.facet(_))&&(this.lintTime=Date.now()+n.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,n.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),_=c.Facet.define({combine:t=>({sources:t.map(t=>t.source),delay:t.length?Math.max(...t.map(t=>t.delay)):750}),enables:C});function assignKeys(t){let n=[];if(t)e:for(let{name:i}of t){for(let t=0;t<i.length;t++){let o=i[t];if(/[a-zA-Z]/.test(o)&&!n.some(t=>t.toLowerCase()==o.toLowerCase())){n.push(o);continue e}}n.push("")}return n}function renderDiagnostic(t,n,i){var o;let c=i?assignKeys(n.actions):[];return g.default("li",{class:"cm-diagnostic cm-diagnostic-"+n.severity},g.default("span",{class:"cm-diagnosticText"},n.message),null===(o=n.actions)||void 0===o?void 0:o.map((i,o)=>{let click=o=>{o.preventDefault();let c=findDiagnostic(t.state.field(b).diagnostics,n);c&&i.apply(t,c.from,c.to)},{name:u}=i,h=c[o]?u.indexOf(c[o]):-1,f=h<0?u:[u.slice(0,h),g.default("u",u.slice(h,h+1)),u.slice(h+1)];return g.default("button",{type:"button",class:"cm-diagnosticAction",onclick:click,onmousedown:click,"aria-label":` Action: ${u}${h<0?"":` (access key "${c[o]})"`}.`},f)}),n.source&&g.default("div",{class:"cm-diagnosticSource"},n.source))}let DiagnosticWidget=class DiagnosticWidget extends o.WidgetType{constructor(t){super(),this.diagnostic=t}eq(t){return t.diagnostic==this.diagnostic}toDOM(){return g.default("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}};let PanelItem=class PanelItem{constructor(t,n){this.diagnostic=n,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=renderDiagnostic(t,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}};let LintPanel=class LintPanel{constructor(t){this.view=t,this.items=[],this.list=g.default("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n=>{if(27==n.keyCode)closeLintPanel(this.view),this.view.focus();else if(38==n.keyCode||33==n.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==n.keyCode||34==n.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==n.keyCode)this.moveSelection(0);else if(35==n.keyCode)this.moveSelection(this.items.length-1);else if(13==n.keyCode)this.view.focus();else{if(!(n.keyCode>=65)||!(n.keyCode<=90)||!(this.selectedIndex>=0))return;let{diagnostic:i}=this.items[this.selectedIndex],o=assignKeys(i.actions);for(let c=0;c<o.length;c++)if(o[c].toUpperCase().charCodeAt(0)==n.keyCode){let n=findDiagnostic(this.view.state.field(b).diagnostics,i);n&&i.actions[c].apply(t,n.from,n.to)}}n.preventDefault()},onclick:t=>{for(let n=0;n<this.items.length;n++)this.items[n].dom.contains(t.target)&&this.moveSelection(n)}}),this.dom=g.default("div",{class:"cm-panel-lint"},this.list,g.default("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>closeLintPanel(this.view)},"\xd7")),this.update()}get selectedIndex(){let t=this.view.state.field(b).selected;if(!t)return -1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==t.diagnostic)return n;return -1}update(){let{diagnostics:t,selected:n}=this.view.state.field(b),i=0,o=!1,c=null;for(t.between(0,this.view.state.doc.length,(t,u,{spec:h})=>{let f=-1,d;for(let t=i;t<this.items.length;t++)if(this.items[t].diagnostic==h.diagnostic){f=t;break}f<0?(d=new PanelItem(this.view,h.diagnostic),this.items.splice(i,0,d),o=!0):(d=this.items[f],f>i&&(this.items.splice(i,f-i),o=!0)),n&&d.diagnostic==n.diagnostic?d.dom.hasAttribute("aria-selected")||(d.dom.setAttribute("aria-selected","true"),c=d):d.dom.hasAttribute("aria-selected")&&d.dom.removeAttribute("aria-selected"),i++});i<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)o=!0,this.items.pop();0==this.items.length&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),o=!0),c?(this.list.setAttribute("aria-activedescendant",c.id),this.view.requestMeasure({key:this,read:()=>({sel:c.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:t,panel:n})=>{t.top<n.top?this.list.scrollTop-=n.top-t.top:t.bottom>n.bottom&&(this.list.scrollTop+=t.bottom-n.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),o&&this.sync()}sync(){let t=this.list.firstChild;function rm(){let n=t;t=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;t!=n.dom;)rm();t=n.dom.nextSibling}else this.list.insertBefore(n.dom,t);for(;t;)rm()}moveSelection(t){if(this.selectedIndex<0)return;let n=findDiagnostic(this.view.state.field(b).diagnostics,this.items[t].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:w.of(n)})}static open(t){return new LintPanel(t)}};function svg(t,n='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${n}>${encodeURIComponent(t)}</svg>')`}function underline(t){return svg(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}let E=o.EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline("#d11")},".cm-lintRange-warning":{backgroundImage:underline("orange")},".cm-lintRange-info":{backgroundImage:underline("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});let LintGutterMarker=class LintGutterMarker extends f.GutterMarker{constructor(t){super(),this.diagnostics=t,this.severity=t.reduce((t,n)=>{let i=n.severity;return"error"==i||"warning"==i&&"info"==t?i:t},"info")}toDOM(t){let n=document.createElement("div");return n.className="cm-lint-marker cm-lint-marker-"+this.severity,n.onmouseover=()=>(function(t,n,i){function hovered(){let o,c=t.elementAtHeight(n.getBoundingClientRect().top+5-t.documentTop),u=t.coordsAtPos(c.from);u&&t.dispatch({effects:L.of({pos:c.from,above:!1,create:()=>({dom:diagnosticsTooltip(t,i),getCoords:()=>n.getBoundingClientRect()})})}),n.onmouseout=n.onmousemove=null,o=i=>{let c=n.getBoundingClientRect();if(!(i.clientX>c.left-10)||!(i.clientX<c.right+10)||!(i.clientY>c.top-10)||!(i.clientY<c.bottom+10)){for(let t=i.target;t;t=t.parentNode)if(1==t.nodeType&&t.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",o),t.state.field(I)&&t.dispatch({effects:L.of(null)})}},window.addEventListener("mousemove",o)}let{hoverTime:o}=t.state.facet(N),c=setTimeout(hovered,o);n.onmouseout=()=>{clearTimeout(c),n.onmouseout=n.onmousemove=null},n.onmousemove=()=>{clearTimeout(c),c=setTimeout(hovered,o)}})(t,n,this.diagnostics),n}};let T=f.gutter({class:"cm-gutter-lint",markers:t=>t.state.field(P)}),P=c.StateField.define({create:()=>d.RangeSet.empty,update(t,n){for(let i of(t=t.map(n.changes),n.effects))i.is(v)&&(t=function(t,n){let i=Object.create(null);for(let o of n){let n=t.lineAt(o.from);(i[n.from]||(i[n.from]=[])).push(o)}let o=[];for(let t in i)o.push(new LintGutterMarker(i[t]).range(+t));return d.RangeSet.of(o,!0)}(n.state.doc,i.value));return t}}),L=c.StateEffect.define(),I=c.StateField.define({create:()=>null,update:(t,n)=>(t&&n.docChanged&&(t=Object.assign(Object.assign({},t),{pos:n.changes.mapPos(t.pos)})),n.effects.reduce((t,n)=>n.is(L)?n.value:t,t)),provide:t=>u.showTooltip.from(t)}),O=o.EditorView.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:svg('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:svg('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error:before":{content:svg('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),N=c.Facet.define({combine:t=>c.combineConfig(t,{hoverTime:300})});n.closeLintPanel=closeLintPanel,n.diagnosticCount=function(t){let n=t.field(b,!1);return n?n.diagnostics.size:0},n.forceLinting=function(t){let n=t.plugin(C);n&&n.force()},n.lintGutter=function(t={}){return[N.of(t),P,T,O,I]},n.lintKeymap=x,n.linter=function(t,n={}){var i;return _.of({source:t,delay:null!==(i=n.delay)&&void 0!==i?i:750})},n.nextDiagnostic=nextDiagnostic,n.openLintPanel=openLintPanel,n.setDiagnostics=setDiagnostics,n.setDiagnosticsEffect=v},8162:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(4350),c=i(2382),u=i(1135),h=i(6393);let f=u.EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),d="()[]{}",m=o.Facet.define({combine:t=>o.combineConfig(t,{afterCursor:!0,brackets:d,maxScanDistance:1e4})}),g=u.Decoration.mark({class:"cm-matchingBracket"}),v=u.Decoration.mark({class:"cm-nonmatchingBracket"}),y=o.StateField.define({create:()=>u.Decoration.none,update(t,n){if(!n.docChanged&&!n.selection)return t;let i=[],o=n.state.facet(m);for(let t of n.state.selection.ranges){if(!t.empty)continue;let c=matchBrackets(n.state,t.head,-1,o)||t.head>0&&matchBrackets(n.state,t.head-1,1,o)||o.afterCursor&&(matchBrackets(n.state,t.head,1,o)||t.head<n.state.doc.length&&matchBrackets(n.state,t.head+1,-1,o));if(!c)continue;let u=c.matched?g:v;i.push(u.range(c.start.from,c.start.to)),c.end&&i.push(u.range(c.end.from,c.end.to))}return u.Decoration.set(i,!0)},provide:t=>u.EditorView.decorations.from(t)}),w=[y,f];function matchingNodes(t,n,i){let o=t.prop(n<0?h.NodeProp.openedBy:h.NodeProp.closedBy);if(o)return o;if(1==t.name.length){let o=i.indexOf(t.name);if(o>-1&&o%2==(n<0?1:0))return[i[o+n]]}return null}function matchBrackets(t,n,i,o={}){let u=o.maxScanDistance||1e4,h=o.brackets||d,f=c.syntaxTree(t),m=f.resolveInner(n,i);for(let t=m;t;t=t.parent){let n=matchingNodes(t.type,i,h);if(n&&t.from<t.to)return function(t,n,i,o,c,u){let h=o.parent,f={from:o.from,to:o.to},d=0,m=null==h?void 0:h.cursor;if(m&&(i<0?m.childBefore(o.from):m.childAfter(o.to)))do if(i<0?m.to<=o.from:m.from>=o.to){if(0==d&&c.indexOf(m.type.name)>-1&&m.from<m.to)return{start:f,end:{from:m.from,to:m.to},matched:!0};if(matchingNodes(m.type,i,u))d++;else if(matchingNodes(m.type,-i,u)&&0==--d)return{start:f,end:m.from==m.to?void 0:{from:m.from,to:m.to},matched:!1}}while(i<0?m.prevSibling():m.nextSibling());return{start:f,matched:!1}}(0,0,i,t,n,h)}return function(t,n,i,o,c,u,h){let f=i<0?t.sliceDoc(n-1,n):t.sliceDoc(n,n+1),d=h.indexOf(f);if(d<0||d%2==0!=i>0)return null;let m={from:i<0?n-1:n,to:i>0?n+1:n},g=t.doc.iterRange(n,i>0?t.doc.length:0),v=0;for(let t=0;!g.next().done&&t<=u;){let u=g.value;i<0&&(t+=u.length);let f=n+t*i;for(let t=i>0?0:u.length-1,n=i>0?u.length:-1;t!=n;t+=i){let n=h.indexOf(u[t]);if(!(n<0)&&o.resolve(f+t,1).type==c){if(n%2==0==i>0)v++;else{if(1==v)return{start:m,end:{from:f+t,to:f+t+1},matched:n>>1==d>>1};v--}}}i>0&&(t+=u.length)}return g.done?{start:m,matched:!1}:null}(t,n,i,f,m.type,u,h)}n.bracketMatching=function(t={}){return[m.of(t),w]},n.matchBrackets=matchBrackets},2300:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(1135),c=i(4350);let u=c.Facet.define({combine(t){let n,i;for(let o of t)n=n||o.topContainer,i=i||o.bottomContainer;return{topContainer:n,bottomContainer:i}}}),h=o.ViewPlugin.fromClass(class{constructor(t){this.input=t.state.facet(d),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(n=>n(t));let n=t.state.facet(u);for(let i of(this.top=new PanelGroup(t,!0,n.topContainer),this.bottom=new PanelGroup(t,!1,n.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top)),this.panels))i.dom.classList.add("cm-panel"),i.mount&&i.mount()}update(t){let n=t.state.facet(u);this.top.container!=n.topContainer&&(this.top.sync([]),this.top=new PanelGroup(t.view,!0,n.topContainer)),this.bottom.container!=n.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(t.view,!1,n.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let i=t.state.facet(d);if(i!=this.input){let n=i.filter(t=>t),o=[],c=[],u=[],h=[];for(let i of n){let n=this.specs.indexOf(i),f;n<0?(f=i(t.view),h.push(f)):(f=this.panels[n]).update&&f.update(t),o.push(f),(f.top?c:u).push(f)}for(let t of(this.specs=n,this.panels=o,this.top.sync(c),this.bottom.sync(u),h))t.dom.classList.add("cm-panel"),t.mount&&t.mount()}else for(let n of this.panels)n.update&&n.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:o.PluginField.scrollMargins.from(t=>({top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}))});let PanelGroup=class PanelGroup{constructor(t,n,i){this.view=t,this.top=n,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let n of this.panels)n.destroy&&0>t.indexOf(n)&&n.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(0==this.panels.length){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let t=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;t!=n.dom;)t=rm(t);t=t.nextSibling}else this.dom.insertBefore(n.dom,t);for(;t;)t=rm(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}};function rm(t){let n=t.nextSibling;return t.remove(),n}let f=o.EditorView.baseTheme({".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"}}),d=c.Facet.define({enables:[h,f]});n.getPanel=function(t,n){let i=t.plugin(h),o=i?i.specs.indexOf(n):-1;return o>-1?i.panels[o]:null},n.panels=function(t){return t?[u.of(t)]:[]},n.showPanel=d},7495:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(4350);let RangeValue=class RangeValue{eq(t){return this==t}range(t,n=t){return new Range(t,n,this)}};RangeValue.prototype.startSide=RangeValue.prototype.endSide=0,RangeValue.prototype.point=!1,RangeValue.prototype.mapMode=o.MapMode.TrackDel;let Range=class Range{constructor(t,n,i){this.from=t,this.to=n,this.value=i}};function cmpRange(t,n){return t.from-n.from||t.value.startSide-n.value.startSide}let Chunk=class Chunk{constructor(t,n,i,o){this.from=t,this.to=n,this.value=i,this.maxPoint=o}get length(){return this.to[this.to.length-1]}findIndex(t,n,i,o=0){let c=i?this.to:this.from;for(let u=o,h=c.length;;){if(u==h)return u;let o=u+h>>1,f=c[o]-t||(i?this.value[o].endSide:this.value[o].startSide)-n;if(o==u)return f>=0?u:h;f>=0?h=o:u=o+1}}between(t,n,i,o){for(let c=this.findIndex(n,-1e9,!0),u=this.findIndex(i,1e9,!1,c);c<u;c++)if(!1===o(this.from[c]+t,this.to[c]+t,this.value[c]))return!1}map(t,n){let i=[],o=[],c=[],u=-1,h=-1;for(let f=0;f<this.value.length;f++){let d=this.value[f],m=this.from[f]+t,g=this.to[f]+t,v,y;if(m==g){let t=n.mapPos(m,d.startSide,d.mapMode);if(null==t||(v=y=t,d.startSide!=d.endSide&&(y=n.mapPos(m,d.endSide))<v))continue}else if((v=n.mapPos(m,d.startSide))>(y=n.mapPos(g,d.endSide))||v==y&&d.startSide>0&&d.endSide<=0)continue;0>(y-v||d.endSide-d.startSide)||(u<0&&(u=v),d.point&&(h=Math.max(h,y-v)),i.push(d),o.push(v-u),c.push(y-u))}return{mapped:i.length?new Chunk(o,c,i,h):null,pos:u}}};let RangeSet=class RangeSet{constructor(t,n,i=RangeSet.empty,o){this.chunkPos=t,this.chunk=n,this.nextLayer=i,this.maxPoint=o}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let n of this.chunk)t+=n.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:n=[],sort:i=!1,filterFrom:o=0,filterTo:c=this.length}=t,u=t.filter;if(0==n.length&&!u)return this;if(i&&(n=n.slice().sort(cmpRange)),this.isEmpty)return n.length?RangeSet.of(n):this;let h=new LayerCursor(this,null,-1).goto(0),f=0,d=[],m=new RangeSetBuilder;for(;h.value||f<n.length;)if(f<n.length&&(h.from-n[f].from||h.startSide-n[f].value.startSide)>=0){let t=n[f++];m.addInner(t.from,t.to,t.value)||d.push(t)}else 1==h.rangeIndex&&h.chunkIndex<this.chunk.length&&(f==n.length||this.chunkEnd(h.chunkIndex)<n[f].from)&&(!u||o>this.chunkEnd(h.chunkIndex)||c<this.chunkPos[h.chunkIndex])&&m.addChunk(this.chunkPos[h.chunkIndex],this.chunk[h.chunkIndex])?h.nextChunk():((!u||o>h.to||c<h.from||u(h.from,h.to,h.value))&&!m.addInner(h.from,h.to,h.value)&&d.push(new Range(h.from,h.to,h.value)),h.next());return m.finishInner(this.nextLayer.isEmpty&&!d.length?RangeSet.empty:this.nextLayer.update({add:d,filter:u,filterFrom:o,filterTo:c}))}map(t){if(t.empty||this.isEmpty)return this;let n=[],i=[],o=-1;for(let c=0;c<this.chunk.length;c++){let u=this.chunkPos[c],h=this.chunk[c],f=t.touchesRange(u,u+h.length);if(!1===f)o=Math.max(o,h.maxPoint),n.push(h),i.push(t.mapPos(u));else if(!0===f){let{mapped:c,pos:f}=h.map(u,t);c&&(o=Math.max(o,c.maxPoint),n.push(c),i.push(f))}}let c=this.nextLayer.map(t);return 0==n.length?c:new RangeSet(i,n,c,o)}between(t,n,i){if(!this.isEmpty){for(let o=0;o<this.chunk.length;o++){let c=this.chunkPos[o],u=this.chunk[o];if(n>=c&&t<=c+u.length&&!1===u.between(c,t-c,n-c,i))return}this.nextLayer.between(t,n,i)}}iter(t=0){return HeapCursor.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,n=0){return HeapCursor.from(t).goto(n)}static compare(t,n,i,o,c=-1){let u=t.filter(t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=c),h=n.filter(t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=c),f=findSharedChunks(u,h,i),d=new SpanCursor(u,f,c),m=new SpanCursor(h,f,c);i.iterGaps((t,n,i)=>compare(d,t,m,n,i,o)),i.empty&&0==i.length&&compare(d,0,m,0,0,o)}static eq(t,n,i=0,o){null==o&&(o=1e9);let c=t.filter(t=>!t.isEmpty&&0>n.indexOf(t)),u=n.filter(n=>!n.isEmpty&&0>t.indexOf(n));if(c.length!=u.length)return!1;if(!c.length)return!0;let h=findSharedChunks(c,u),f=new SpanCursor(c,h,0).goto(i),d=new SpanCursor(u,h,0).goto(i);for(;;){if(f.to!=d.to||!sameValues(f.active,d.active)||f.point&&(!d.point||!f.point.eq(d.point)))return!1;if(f.to>o)return!0;f.next(),d.next()}}static spans(t,n,i,o,c=-1){var u;let h=new SpanCursor(t,null,c,null===(u=o.filterPoint)||void 0===u?void 0:u.bind(o)).goto(n),f=n,d=h.openStart;for(;;){let t=Math.min(h.to,i);if(h.point?(o.point(f,t,h.point,h.activeForPoint(h.to),d),d=h.openEnd(t)+(h.to>t?1:0)):t>f&&(o.span(f,t,h.active,d),d=h.openEnd(t)),h.to>i)break;f=h.to,h.next()}return d}static of(t,n=!1){let i=new RangeSetBuilder;for(let o of t instanceof Range?[t]:n?function(t){if(t.length>1)for(let n=t[0],i=1;i<t.length;i++){let o=t[i];if(cmpRange(n,o)>0)return t.slice().sort(cmpRange);n=o}return t}(t):t)i.add(o.from,o.to,o.value);return i.finish()}};RangeSet.empty=new RangeSet([],[],null,-1),RangeSet.empty.nextLayer=RangeSet.empty;let RangeSetBuilder=class RangeSetBuilder{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(t){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}add(t,n,i){this.addInner(t,n,i)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add(t,n,i)}addInner(t,n,i){let o=t-this.lastTo||i.startSide-this.last.endSide;if(o<=0&&0>(t-this.lastFrom||i.startSide-this.last.startSide))throw Error("Ranges must be added sorted by `from` position and `startSide`");return!(o<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(n-this.chunkStart),this.last=i,this.lastFrom=t,this.lastTo=n,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,n-t)),!0)}addChunk(t,n){if(0>(t-this.lastTo||n.value[0].startSide-this.last.endSide))return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(t);let i=n.value.length-1;return this.last=n.value[i],this.lastFrom=n.from[i]+t,this.lastTo=n.to[i]+t,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let n=new RangeSet(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,n}};function findSharedChunks(t,n,i){let o=new Map;for(let n of t)for(let t=0;t<n.chunk.length;t++)n.chunk[t].maxPoint<=0&&o.set(n.chunk[t],n.chunkPos[t]);let c=new Set;for(let t of n)for(let n=0;n<t.chunk.length;n++){let u=o.get(t.chunk[n]);null==u||(i?i.mapPos(u):u)!=t.chunkPos[n]||(null==i?void 0:i.touchesRange(u,u+t.chunk[n].length))||c.add(t.chunk[n])}return c}let LayerCursor=class LayerCursor{constructor(t,n,i,o=0){this.layer=t,this.skip=n,this.minPoint=i,this.rank=o}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,n,!1),this}gotoInner(t,n,i){for(;this.chunkIndex<this.layer.chunk.length;){let n=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(n)||this.layer.chunkEnd(this.chunkIndex)<t||n.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let o=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],n,!0);(!i||this.rangeIndex<o)&&this.setRangeIndex(o)}this.next()}forward(t,n){0>(this.to-t||this.endSide-n)&&this.gotoInner(t,n,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],i=t+n.from[this.rangeIndex];if(this.from=i,this.to=t+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}};let HeapCursor=class HeapCursor{constructor(t){this.heap=t}static from(t,n=null,i=-1){let o=[];for(let c=0;c<t.length;c++)for(let u=t[c];!u.isEmpty;u=u.nextLayer)u.maxPoint>=i&&o.push(new LayerCursor(u,n,i,c));return 1==o.length?o[0]:new HeapCursor(o)}get startSide(){return this.value?this.value.startSide:0}goto(t,n=-1e9){for(let i of this.heap)i.goto(t,n);for(let t=this.heap.length>>1;t>=0;t--)heapBubble(this.heap,t);return this.next(),this}forward(t,n){for(let i of this.heap)i.forward(t,n);for(let t=this.heap.length>>1;t>=0;t--)heapBubble(this.heap,t);0>(this.to-t||this.value.endSide-n)&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),heapBubble(this.heap,0)}}};function heapBubble(t,n){for(let i=t[n];;){let o=(n<<1)+1;if(o>=t.length)break;let c=t[o];if(o+1<t.length&&c.compare(t[o+1])>=0&&(c=t[o+1],o++),0>i.compare(c))break;t[o]=i,t[n]=c,n=o}}let SpanCursor=class SpanCursor{constructor(t,n,i,o=()=>!0){this.minPoint=i,this.filterPoint=o,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from(t,n,i)}goto(t,n=-1e9){return this.cursor.goto(t,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=n,this.openStart=-1,this.next(),this}forward(t,n){for(;this.minActive>-1&&0>(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-n);)this.removeActive(this.minActive);this.cursor.forward(t,n)}removeActive(t){remove(this.active,t),remove(this.activeTo,t),remove(this.activeRank,t),this.minActive=findMinIndex(this.active,this.activeTo)}addActive(t){let n=0,{value:i,to:o,rank:c}=this.cursor;for(;n<this.activeRank.length&&this.activeRank[n]<=c;)n++;insert(this.active,n,i),insert(this.activeTo,n,o),insert(this.activeRank,n,c),t&&insert(t,n,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let t=this.to,n=this.point;this.point=null;let i=this.openStart<0?[]:null,o=0;for(;;){let c=this.minActive;if(c>-1&&0>(this.activeTo[c]-this.cursor.from||this.active[c].endSide-this.cursor.startSide)){if(this.activeTo[c]>t){this.to=this.activeTo[c],this.endSide=this.active[c].endSide;break}this.removeActive(c),i&&remove(i,c)}else if(this.cursor.value){if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let c=this.cursor.value;if(c.point){if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else if(this.filterPoint(this.cursor.from,this.cursor.to,this.cursor.value,this.cursor.rank)){this.point=c,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=c.endSide,this.cursor.from<t&&(o=1),this.cursor.next(),this.forward(this.to,this.endSide);break}else this.cursor.next()}else this.addActive(i),this.cursor.next()}}else{this.to=this.endSide=1e9;break}}if(i){let n=0;for(;n<i.length&&i[n]<t;)n++;this.openStart=n+o}}activeForPoint(t){if(!this.active.length)return this.active;let n=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>t||this.activeTo[i]==t&&this.active[i].endSide>=this.point.endSide)&&n.push(this.active[i]);return n.reverse()}openEnd(t){let n=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>t;i--)n++;return n}};function compare(t,n,i,o,c,u){t.goto(n),i.goto(o);let h=o+c,f=o,d=o-n;for(;;){let n=t.to+d-i.to||t.endSide-i.endSide,o=n<0?t.to+d:i.to,c=Math.min(o,h);if(t.point||i.point?t.point&&i.point&&(t.point==i.point||t.point.eq(i.point))&&sameValues(t.activeForPoint(t.to+d),i.activeForPoint(i.to))||u.comparePoint(f,c,t.point,i.point):c>f&&!sameValues(t.active,i.active)&&u.compareRange(f,c,t.active,i.active),o>h)break;f=o,n<=0&&t.next(),n>=0&&i.next()}}function sameValues(t,n){if(t.length!=n.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!=n[i]&&!t[i].eq(n[i]))return!1;return!0}function remove(t,n){for(let i=n,o=t.length-1;i<o;i++)t[i]=t[i+1];t.pop()}function insert(t,n,i){for(let i=t.length-1;i>=n;i--)t[i+1]=t[i];t[n]=i}function findMinIndex(t,n){let i=-1,o=1e9;for(let c=0;c<n.length;c++)0>(n[c]-o||t[c].endSide-t[i].endSide)&&(i=c,o=n[c]);return i}n.Range=Range,n.RangeSet=RangeSet,n.RangeSetBuilder=RangeSetBuilder,n.RangeValue=RangeValue},5247:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(4350),c=i(1135),u=i(5627);function getPos(t,n){var i;let o,c=t.posAtCoords({x:n.clientX,y:n.clientY},!1),h=t.state.doc.lineAt(c),f=c-h.from,d=f>2e3?-1:f==h.length?(i=n.clientX,(o=t.coordsAtPos(t.viewport.from))?Math.round(Math.abs((o.left-i)/t.defaultCharacterWidth)):-1):u.countColumn(h.text,t.state.tabSize,c-h.from);return{line:h.number,col:d,off:f}}let h={Alt:[18,t=>t.altKey],Control:[17,t=>t.ctrlKey],Shift:[16,t=>t.shiftKey],Meta:[91,t=>t.metaKey]},f={style:"cursor: crosshair"};n.crosshairCursor=function(t={}){let[n,i]=h[t.key||"Alt"],o=c.ViewPlugin.fromClass(class{constructor(t){this.view=t,this.isDown=!1}set(t){this.isDown!=t&&(this.isDown=t,this.view.update([]))}},{eventHandlers:{keydown(t){this.set(t.keyCode==n||i(t))},keyup(t){t.keyCode!=n&&i(t)||this.set(!1)}}});return[o,c.EditorView.contentAttributes.of(t=>{var n;return(null===(n=t.plugin(o))||void 0===n?void 0:n.isDown)?f:null})]},n.rectangularSelection=function(t){let n=(null==t?void 0:t.eventFilter)||(t=>t.altKey&&0==t.button);return c.EditorView.mouseSelectionStyle.of((t,i)=>{let c,h;return n(i)?(c=getPos(t,i),h=t.state.selection,c?{update(t){if(t.docChanged){let n=t.changes.mapPos(t.startState.doc.line(c.line).from),i=t.state.doc.lineAt(n);c={line:i.number,col:c.col,off:Math.min(c.off,i.length)},h=h.map(t.changes)}},get(n,i,f){let d=getPos(t,n);if(!d)return h;let m=function(t,n,i){let c=Math.min(n.line,i.line),h=Math.max(n.line,i.line),f=[];if(n.off>2e3||i.off>2e3||n.col<0||i.col<0){let u=Math.min(n.off,i.off),d=Math.max(n.off,i.off);for(let n=c;n<=h;n++){let i=t.doc.line(n);i.length<=d&&f.push(o.EditorSelection.range(i.from+u,i.to+d))}}else{let d=Math.min(n.col,i.col),m=Math.max(n.col,i.col);for(let n=c;n<=h;n++){let i=t.doc.line(n),c=u.findColumn(i.text,d,t.tabSize,!0);if(c>-1){let n=u.findColumn(i.text,m,t.tabSize);f.push(o.EditorSelection.range(i.from+c,i.from+n))}}}return f}(t.state,c,d);return m.length?f?o.EditorSelection.create(m.concat(h.ranges)):o.EditorSelection.create(m):h}}:null):null})}},1411:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(1135),c=i(4350),u=i(2300),h=i(7495),f=i(3842),d=i(5627),m=f&&"object"==typeof f&&"default"in f?f:{default:f};let g="function"==typeof String.prototype.normalize?t=>t.normalize("NFKD"):t=>t;let SearchCursor=class SearchCursor{constructor(t,n,i=0,o=t.length,c){this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(i,o),this.bufferStart=i,this.normalize=c?t=>c(g(t)):g,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return -1;this.bufferPos=0,this.buffer=this.iter.value}return d.codePointAt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let n=d.fromCodePoint(t),i=this.bufferStart+this.bufferPos;this.bufferPos+=d.codePointSize(t);let o=this.normalize(n);for(let t=0,c=i;;t++){let u=o.charCodeAt(t),h=this.match(u,c);if(h)return this.value=h,this;if(t==o.length-1)break;c==i&&t<n.length&&n.charCodeAt(t)==u&&c++}}}match(t,n){let i=null;for(let o=0;o<this.matches.length;o+=2){let c=this.matches[o],u=!1;this.query.charCodeAt(c)==t&&(c==this.query.length-1?i={from:this.matches[o+1],to:n+1}:(this.matches[o]++,u=!0)),u||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==t&&(1==this.query.length?i={from:n,to:n+1}:this.matches.push(1,n)),i}};"undefined"!=typeof Symbol&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});let v={from:-1,to:-1,match:/.*/.exec("")},y="gm"+(null==/x/.unicode?"":"u");let RegExpCursor=class RegExpCursor{constructor(t,n,i,o=0,c=t.length){if(this.to=c,this.curLine="",this.done=!1,this.value=v,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new MultilineRegExpCursor(t,n,i,o,c);this.re=new RegExp(n,y+((null==i?void 0:i.ignoreCase)?"i":"")),this.iter=t.iter();let u=t.lineAt(o);this.curLineStart=u.from,this.matchPos=o,this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let i=this.curLineStart+n.index,o=i+n[0].length;if(this.matchPos=o+(i==o?1:0),i==this.curLine.length&&this.nextLine(),i<o||i>this.value.to)return this.value={from:i,to:o,match:n},this;t=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),t=0}}}};let w=new WeakMap;let FlattenedDoc=class FlattenedDoc{constructor(t,n){this.from=t,this.text=n}get to(){return this.from+this.text.length}static get(t,n,i){let o=w.get(t);if(!o||o.from>=i||o.to<=n){let o=new FlattenedDoc(n,t.sliceString(n,i));return w.set(t,o),o}if(o.from==n&&o.to==i)return o;let{text:c,from:u}=o;return u>n&&(c=t.sliceString(n,u)+c,u=n),o.to<i&&(c+=t.sliceString(o.to,i)),w.set(t,new FlattenedDoc(u,c)),new FlattenedDoc(n,c.slice(n-u,i-u))}};let MultilineRegExpCursor=class MultilineRegExpCursor{constructor(t,n,i,o,c){this.text=t,this.to=c,this.done=!1,this.value=v,this.matchPos=o,this.re=new RegExp(n,y+((null==i?void 0:i.ignoreCase)?"i":"")),this.flat=FlattenedDoc.get(t,o,this.chunkEnd(o+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==t&&(this.re.lastIndex=t+1,n=this.re.exec(this.flat.text)),n&&this.flat.to<this.to&&n.index+n[0].length>this.flat.text.length-10&&(n=null),n){let t=this.flat.from+n.index,i=t+n[0].length;return this.value={from:t,to:i,match:n},this.matchPos=i+(t==i?1:0),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}};function createLineDialog(t){let n=m.default("input",{class:"cm-textfield",name:"line"});function go(){let i=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!i)return;let{state:o}=t,u=o.doc.lineAt(o.selection.main.head),[,h,f,d,m]=i,g=d?+d.slice(1):0,v=f?+f:u.number;if(f&&m){let t=v/100;h&&(t=t*("-"==h?-1:1)+u.number/o.doc.lines),v=Math.round(o.doc.lines*t)}else f&&h&&(v=v*("-"==h?-1:1)+u.number);let y=o.doc.line(Math.max(1,Math.min(o.doc.lines,v)));t.dispatch({effects:b.of(!1),selection:c.EditorSelection.cursor(y.from+Math.max(0,Math.min(g,y.length))),scrollIntoView:!0}),t.focus()}return{dom:m.default("form",{class:"cm-gotoLine",onkeydown:n=>{27==n.keyCode?(n.preventDefault(),t.dispatch({effects:b.of(!1)}),t.focus()):13==n.keyCode&&(n.preventDefault(),go())},onsubmit:t=>{t.preventDefault(),go()}},m.default("label",t.state.phrase("Go to line"),": ",n)," ",m.default("button",{class:"cm-button",type:"submit"},t.state.phrase("go"))),pos:-10}}"undefined"!=typeof Symbol&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});let b=c.StateEffect.define(),S=c.StateField.define({create:()=>!0,update(t,n){for(let i of n.effects)i.is(b)&&(t=i.value);return t},provide:t=>u.showPanel.from(t,t=>t?createLineDialog:null)}),gotoLine=t=>{let n=u.getPanel(t,createLineDialog);if(!n){let i=[b.of(!0)];null==t.state.field(S,!1)&&i.push(c.StateEffect.appendConfig.of([S,x])),t.dispatch({effects:i}),n=u.getPanel(t,createLineDialog)}return n&&n.dom.querySelector("input").focus(),!0},x=o.EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),C={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!0},_=c.Facet.define({combine:t=>c.combineConfig(t,C,{highlightWordAroundCursor:(t,n)=>t||n,minSelectionLength:Math.min,maxMatches:Math.min})}),E=o.Decoration.mark({class:"cm-selectionMatch"}),T=o.Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(t,n,i,o){return(0==i||t(n.sliceDoc(i-1,i))!=c.CharCategory.Word)&&(o==n.doc.length||t(n.sliceDoc(o,o+1))!=c.CharCategory.Word)}let P=o.ViewPlugin.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let n=t.state.facet(_),{state:i}=t,u=i.selection;if(u.ranges.length>1)return o.Decoration.none;let h=u.main,f,d=null;if(h.empty){if(!n.highlightWordAroundCursor)return o.Decoration.none;let t=i.wordAt(h.head);if(!t)return o.Decoration.none;d=i.charCategorizer(h.head),f=i.sliceDoc(t.from,t.to)}else{let t=h.to-h.from;if(t<n.minSelectionLength||t>200)return o.Decoration.none;if(n.wholeWords){var m,g,v;if(f=i.sliceDoc(h.from,h.to),!(insideWordBoundaries(d=i.charCategorizer(h.head),i,h.from,h.to)&&(m=d,g=h.from,v=h.to,m(i.sliceDoc(g,g+1))==c.CharCategory.Word&&m(i.sliceDoc(v-1,v))==c.CharCategory.Word)))return o.Decoration.none}else if(!(f=i.sliceDoc(h.from,h.to).trim()))return o.Decoration.none}let y=[];for(let c of t.visibleRanges){let t=new SearchCursor(i.doc,f,c.from,c.to);for(;!t.next().done;){let{from:c,to:u}=t.value;if((!d||insideWordBoundaries(d,i,c,u))&&(h.empty&&c<=h.from&&u>=h.to?y.push(T.range(c,u)):(c>=h.to||u<=h.from)&&y.push(E.range(c,u)),y.length>n.maxMatches))return o.Decoration.none}}return o.Decoration.set(y)}},{decorations:t=>t.decorations}),L=o.EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),selectWord=({state:t,dispatch:n})=>{let{selection:i}=t,o=c.EditorSelection.create(i.ranges.map(n=>t.wordAt(n.head)||c.EditorSelection.cursor(n.head)),i.mainIndex);return!o.eq(i)&&(n(t.update({selection:o})),!0)},selectNextOccurrence=({state:t,dispatch:n})=>{let{ranges:i}=t.selection;if(i.some(t=>t.from===t.to))return selectWord({state:t,dispatch:n});let u=t.sliceDoc(i[0].from,i[0].to);if(t.selection.ranges.some(n=>t.sliceDoc(n.from,n.to)!=u))return!1;let h=function(t,n){let{main:i,ranges:o}=t.selection,c=t.wordAt(i.head),u=c&&c.from==i.from&&c.to==i.to;for(let i=!1,c=new SearchCursor(t.doc,n,o[o.length-1].to);;)if(c.next(),c.done){if(i)return null;c=new SearchCursor(t.doc,n,0,Math.max(0,o[o.length-1].from-1)),i=!0}else{if(i&&o.some(t=>t.from==c.value.from))continue;if(u){let n=t.wordAt(c.value.from);if(!n||n.from!=c.value.from||n.to!=c.value.to)continue}return c.value}}(t,u);return!!h&&(n(t.update({selection:t.selection.addRange(c.EditorSelection.range(h.from,h.to),!1),effects:o.EditorView.scrollIntoView(h.to)})),!0)},I=c.Facet.define({combine(t){var n;return{top:t.reduce((t,n)=>null!=t?t:n.top,void 0)||!1,caseSensitive:t.reduce((t,n)=>null!=t?t:n.caseSensitive||n.matchCase,void 0)||!1,createPanel:(null===(n=t.find(t=>t.createPanel))||void 0===n?void 0:n.createPanel)||(t=>new SearchPanel(t))}}});function search(t){return t?[I.of(t),en]:en}let SearchQuery=class SearchQuery{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||function(t){try{return new RegExp(t,y),!0}catch(t){return!1}}(this.search)),this.unquoted=this.search.replace(/\\([nrt\\])/g,(t,n)=>"n"==n?"\n":"r"==n?"\r":"t"==n?"	":"\\")}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(t,n=0,i=t.length){return this.regexp?regexpCursor(this,t,n,i):stringCursor(this,t,n,i)}};let QueryType=class QueryType{constructor(t){this.spec=t}};function stringCursor(t,n,i,o){return new SearchCursor(n,t.unquoted,i,o,t.caseSensitive?void 0:t=>t.toLowerCase())}let StringQuery=class StringQuery extends QueryType{constructor(t){super(t)}nextMatch(t,n,i){let o=stringCursor(this.spec,t,i,t.length).nextOverlapping();return o.done&&(o=stringCursor(this.spec,t,0,n).nextOverlapping()),o.done?null:o.value}prevMatchInRange(t,n,i){for(let o=i;;){let i=Math.max(n,o-1e4-this.spec.unquoted.length),c=stringCursor(this.spec,t,i,o),u=null;for(;!c.nextOverlapping().done;)u=c.value;if(u)return u;if(i==n)return null;o-=1e4}}prevMatch(t,n,i){return this.prevMatchInRange(t,0,n)||this.prevMatchInRange(t,i,t.length)}getReplacement(t){return this.spec.replace}matchAll(t,n){let i=stringCursor(this.spec,t,0,t.length),o=[];for(;!i.next().done;){if(o.length>=n)return null;o.push(i.value)}return o}highlight(t,n,i,o){let c=stringCursor(this.spec,t,Math.max(0,n-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,t.length));for(;!c.next().done;)o(c.value.from,c.value.to)}};function regexpCursor(t,n,i,o){return new RegExpCursor(n,t.search,t.caseSensitive?void 0:{ignoreCase:!0},i,o)}let RegExpQuery=class RegExpQuery extends QueryType{nextMatch(t,n,i){let o=regexpCursor(this.spec,t,i,t.length).next();return o.done&&(o=regexpCursor(this.spec,t,0,n).next()),o.done?null:o.value}prevMatchInRange(t,n,i){for(let o=1;;o++){let c=Math.max(n,i-1e4*o),u=regexpCursor(this.spec,t,c,i),h=null;for(;!u.next().done;)h=u.value;if(h&&(c==n||h.from>c+10))return h;if(c==n)return null}}prevMatch(t,n,i){return this.prevMatchInRange(t,0,n)||this.prevMatchInRange(t,i,t.length)}getReplacement(t){return this.spec.replace.replace(/\$([$&\d+])/g,(n,i)=>"$"==i?"$":"&"==i?t.match[0]:"0"!=i&&+i<t.match.length?t.match[i]:n)}matchAll(t,n){let i=regexpCursor(this.spec,t,0,t.length),o=[];for(;!i.next().done;){if(o.length>=n)return null;o.push(i.value)}return o}highlight(t,n,i,o){let c=regexpCursor(this.spec,t,Math.max(0,n-250),Math.min(i+250,t.length));for(;!c.next().done;)o(c.value.from,c.value.to)}};let O=c.StateEffect.define(),N=c.StateEffect.define(),B=c.StateField.define({create:t=>new SearchState(defaultQuery(t).create(),null),update(t,n){for(let i of n.effects)i.is(O)?t=new SearchState(i.value.create(),t.panel):i.is(N)&&(t=new SearchState(t.query,i.value?createSearchPanel:null));return t},provide:t=>u.showPanel.from(t,t=>t.panel)});let SearchState=class SearchState{constructor(t,n){this.query=t,this.panel=n}};let z=o.Decoration.mark({class:"cm-searchMatch"}),V=o.Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),H=o.ViewPlugin.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(B))}update(t){let n=t.state.field(B);(n!=t.startState.field(B)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(n))}highlight({query:t,panel:n}){if(!n||!t.spec.valid)return o.Decoration.none;let{view:i}=this,c=new h.RangeSetBuilder;for(let n=0,o=i.visibleRanges,u=o.length;n<u;n++){let{from:h,to:f}=o[n];for(;n<u-1&&f>o[n+1].from-500;)f=o[++n].to;t.highlight(i.state.doc,h,f,(t,n)=>{let o=i.state.selection.ranges.some(i=>i.from==t&&i.to==n);c.add(t,n,o?V:z)})}return c.finish()}},{decorations:t=>t.decorations});function searchCommand(t){return n=>{let i=n.state.field(B,!1);return i&&i.query.spec.valid?t(n,i):openSearchPanel(n)}}let U=searchCommand((t,{query:n})=>{let{from:i,to:o}=t.state.selection.main,c=n.nextMatch(t.state.doc,i,o);return!!c&&(c.from!=i||c.to!=o)&&(t.dispatch({selection:{anchor:c.from,head:c.to},scrollIntoView:!0,effects:announceMatch(t,c),userEvent:"select.search"}),!0)}),$=searchCommand((t,{query:n})=>{let{state:i}=t,{from:o,to:c}=i.selection.main,u=n.prevMatch(i.doc,o,c);return!!u&&(t.dispatch({selection:{anchor:u.from,head:u.to},scrollIntoView:!0,effects:announceMatch(t,u),userEvent:"select.search"}),!0)}),q=searchCommand((t,{query:n})=>{let i=n.matchAll(t.state.doc,1e3);return!!i&&!!i.length&&(t.dispatch({selection:c.EditorSelection.create(i.map(t=>c.EditorSelection.range(t.from,t.to))),userEvent:"select.search.matches"}),!0)}),selectSelectionMatches=({state:t,dispatch:n})=>{let i=t.selection;if(i.ranges.length>1||i.main.empty)return!1;let{from:o,to:u}=i.main,h=[],f=0;for(let n=new SearchCursor(t.doc,t.sliceDoc(o,u));!n.next().done;){if(h.length>1e3)return!1;n.value.from==o&&(f=h.length),h.push(c.EditorSelection.range(n.value.from,n.value.to))}return n(t.update({selection:c.EditorSelection.create(h,f),userEvent:"select.search.matches"})),!0},G=searchCommand((t,{query:n})=>{let{state:i}=t,{from:o,to:c}=i.selection.main;if(i.readOnly)return!1;let u=n.nextMatch(i.doc,o,o);if(!u)return!1;let h=[],f,d;if(u.from==o&&u.to==c&&(d=i.toText(n.getReplacement(u)),h.push({from:u.from,to:u.to,insert:d}),u=n.nextMatch(i.doc,u.from,u.to)),u){let t=0==h.length||h[0].from>=u.to?0:u.to-u.from-d.length;f={anchor:u.from-t,head:u.to-t}}return t.dispatch({changes:h,selection:f,scrollIntoView:!!f,effects:u?announceMatch(t,u):void 0,userEvent:"input.replace"}),!0}),Z=searchCommand((t,{query:n})=>{if(t.state.readOnly)return!1;let i=n.matchAll(t.state.doc,1e9).map(t=>{let{from:i,to:o}=t;return{from:i,to:o,insert:n.getReplacement(t)}});return!!i.length&&(t.dispatch({changes:i,userEvent:"input.replace.all"}),!0)});function createSearchPanel(t){return t.state.facet(I).createPanel(t)}function defaultQuery(t,n){var i;let o=t.selection.main,c=o.empty||o.to>o.from+100?"":t.sliceDoc(o.from,o.to),u=null!==(i=null==n?void 0:n.caseSensitive)&&void 0!==i?i:t.facet(I).caseSensitive;return n&&!c?n:new SearchQuery({search:c.replace(/\n/g,"\\n"),caseSensitive:u})}let openSearchPanel=t=>{let n=t.state.field(B,!1);if(n&&n.panel){let i=u.getPanel(t,createSearchPanel);if(!i)return!1;let o=i.dom.querySelector("[name=search]");if(o!=t.root.activeElement){let i=defaultQuery(t.state,n.query.spec);i.valid&&t.dispatch({effects:O.of(i)}),o.focus(),o.select()}}else t.dispatch({effects:[N.of(!0),n?O.of(defaultQuery(t.state,n.query.spec)):c.StateEffect.appendConfig.of(en)]});return!0},closeSearchPanel=t=>{let n=t.state.field(B,!1);if(!n||!n.panel)return!1;let i=u.getPanel(t,createSearchPanel);return i&&i.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:N.of(!1)}),!0},Y=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:U,shift:$,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:U,shift:$,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:!0}];let SearchPanel=class SearchPanel{constructor(t){this.view=t;let n=this.query=t.state.field(B).query.spec;function button(t,n,i){return m.default("button",{class:"cm-button",name:t,onclick:n,type:"button"},i)}this.commit=this.commit.bind(this),this.searchField=m.default("input",{value:n.search,placeholder:phrase(t,"Find"),"aria-label":phrase(t,"Find"),class:"cm-textfield",name:"search",onchange:this.commit,onkeyup:this.commit}),this.replaceField=m.default("input",{value:n.replace,placeholder:phrase(t,"Replace"),"aria-label":phrase(t,"Replace"),class:"cm-textfield",name:"replace",onchange:this.commit,onkeyup:this.commit}),this.caseField=m.default("input",{type:"checkbox",name:"case",checked:n.caseSensitive,onchange:this.commit}),this.reField=m.default("input",{type:"checkbox",name:"re",checked:n.regexp,onchange:this.commit}),this.dom=m.default("div",{onkeydown:t=>this.keydown(t),class:"cm-search"},[this.searchField,button("next",()=>U(t),[phrase(t,"next")]),button("prev",()=>$(t),[phrase(t,"previous")]),button("select",()=>q(t),[phrase(t,"all")]),m.default("label",null,[this.caseField,phrase(t,"match case")]),m.default("label",null,[this.reField,phrase(t,"regexp")]),...t.state.readOnly?[]:[m.default("br"),this.replaceField,button("replace",()=>G(t),[phrase(t,"replace")]),button("replaceAll",()=>Z(t),[phrase(t,"replace all")]),m.default("button",{name:"close",onclick:()=>closeSearchPanel(t),"aria-label":phrase(t,"close"),type:"button"},["\xd7"])]])}commit(){let t=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:O.of(t)}))}keydown(t){o.runScopeHandlers(this.view,t,"search-panel")?t.preventDefault():13==t.keyCode&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?$:U)(this.view)):13==t.keyCode&&t.target==this.replaceField&&(t.preventDefault(),G(this.view))}update(t){for(let n of t.transactions)for(let t of n.effects)t.is(O)&&!t.value.eq(this.query)&&this.setQuery(t.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(I).top}};function phrase(t,n){return t.state.phrase(n)}let X=/[\s\.,:;?!]/;function announceMatch(t,{from:n,to:i}){let c=t.state.doc.lineAt(n).from,u=t.state.doc.lineAt(i).to,h=Math.max(c,n-30),f=Math.min(u,i+30),d=t.state.sliceDoc(h,f);if(h!=c){for(let t=0;t<30;t++)if(!X.test(d[t+1])&&X.test(d[t])){d=d.slice(t);break}}if(f!=u){for(let t=d.length-1;t>d.length-30;t--)if(!X.test(d[t-1])&&X.test(d[t])){d=d.slice(0,t);break}}return o.EditorView.announce.of(`${t.state.phrase("current match")}. ${d} ${t.state.phrase("on line")} ${t.state.doc.lineAt(n).number}`)}let J=o.EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),en=[B,c.Prec.lowest(H),J];n.RegExpCursor=RegExpCursor,n.SearchCursor=SearchCursor,n.SearchQuery=SearchQuery,n.closeSearchPanel=closeSearchPanel,n.findNext=U,n.findPrevious=$,n.getSearchQuery=function(t){let n=t.field(B,!1);return n?n.query.spec:defaultQuery(t)},n.gotoLine=gotoLine,n.highlightSelectionMatches=function(t){let n=[L,P];return t&&n.push(_.of(t)),n},n.openSearchPanel=openSearchPanel,n.replaceAll=Z,n.replaceNext=G,n.search=search,n.searchConfig=search,n.searchKeymap=Y,n.selectMatches=q,n.selectNextOccurrence=selectNextOccurrence,n.selectSelectionMatches=selectSelectionMatches,n.setSearchQuery=O},4350:function(t,n,i){"use strict";let o;Object.defineProperty(n,"__esModule",{value:!0});var c,u,h=i(5627);let f=/\r\n?|\n/;n.MapMode=void 0,(c=n.MapMode||(n.MapMode={}))[c.Simple=0]="Simple",c[c.TrackDel=1]="TrackDel",c[c.TrackBefore=2]="TrackBefore",c[c.TrackAfter=3]="TrackAfter";let ChangeDesc=class ChangeDesc{constructor(t){this.sections=t}get length(){let t=0;for(let n=0;n<this.sections.length;n+=2)t+=this.sections[n];return t}get newLength(){let t=0;for(let n=0;n<this.sections.length;n+=2){let i=this.sections[n+1];t+=i<0?this.sections[n]:i}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let n=0,i=0,o=0;n<this.sections.length;){let c=this.sections[n++],u=this.sections[n++];u<0?(t(i,o,c),o+=c):o+=u,i+=c}}iterChangedRanges(t,n=!1){iterChanges(this,t,n)}get invertedDesc(){let t=[];for(let n=0;n<this.sections.length;){let i=this.sections[n++],o=this.sections[n++];o<0?t.push(i,o):t.push(o,i)}return new ChangeDesc(t)}composeDesc(t){return this.empty?t:t.empty?this:composeSets(this,t)}mapDesc(t,n=!1){return t.empty?this:mapSet(this,t,n)}mapPos(t,i=-1,o=n.MapMode.Simple){let c=0,u=0;for(let h=0;h<this.sections.length;){let f=this.sections[h++],d=this.sections[h++],m=c+f;if(d<0){if(m>t)return u+(t-c);u+=f}else{if(o!=n.MapMode.Simple&&m>=t&&(o==n.MapMode.TrackDel&&c<t&&m>t||o==n.MapMode.TrackBefore&&c<t||o==n.MapMode.TrackAfter&&m>t))return null;if(m>t||m==t&&i<0&&!f)return t==c||i<0?u:u+d;u+=d}c=m}if(t>c)throw RangeError(`Position ${t} is out of range for changeset of length ${c}`);return u}touchesRange(t,n=t){for(let i=0,o=0;i<this.sections.length&&o<=n;){let c=this.sections[i++],u=this.sections[i++],h=o+c;if(u>=0&&o<=n&&h>=t)return!(o<t)||!(h>n)||"cover";o=h}return!1}toString(){let t="";for(let n=0;n<this.sections.length;){let i=this.sections[n++],o=this.sections[n++];t+=(t?" ":"")+i+(o>=0?":"+o:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(t=>"number"!=typeof t))throw RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc(t)}};let ChangeSet=class ChangeSet extends ChangeDesc{constructor(t,n){super(t),this.inserted=n}apply(t){if(this.length!=t.length)throw RangeError("Applying change set to a document with the wrong length");return iterChanges(this,(n,i,o,c,u)=>t=t.replace(o,o+(i-n),u),!1),t}mapDesc(t,n=!1){return mapSet(this,t,n,!0)}invert(t){let n=this.sections.slice(),i=[];for(let o=0,c=0;o<n.length;o+=2){let u=n[o],f=n[o+1];if(f>=0){n[o]=f,n[o+1]=u;let d=o>>1;for(;i.length<d;)i.push(h.Text.empty);i.push(u?t.slice(c,c+u):h.Text.empty)}c+=u}return new ChangeSet(n,i)}compose(t){return this.empty?t:t.empty?this:composeSets(this,t,!0)}map(t,n=!1){return t.empty?this:mapSet(this,t,n,!0)}iterChanges(t,n=!1){iterChanges(this,t,n)}get desc(){return new ChangeDesc(this.sections)}filter(t){let n=[],i=[],o=[],c=new SectionIter(this);t:for(let u=0,h=0;;){let f=u==t.length?1e9:t[u++];for(;h<f||h==f&&0==c.len;){if(c.done)break t;let t=Math.min(c.len,f-h);addSection(o,t,-1);let u=-1==c.ins?-1:0==c.off?c.ins:0;addSection(n,t,u),u>0&&addInsert(i,n,c.text),c.forward(t),h+=t}let d=t[u++];for(;h<d;){if(c.done)break t;let t=Math.min(c.len,d-h);addSection(n,t,-1),addSection(o,t,-1==c.ins?-1:0==c.off?c.ins:0),c.forward(t),h+=t}}return{changes:new ChangeSet(n,i),filtered:new ChangeDesc(o)}}toJSON(){let t=[];for(let n=0;n<this.sections.length;n+=2){let i=this.sections[n],o=this.sections[n+1];o<0?t.push(i):0==o?t.push([i]):t.push([i].concat(this.inserted[n>>1].toJSON()))}return t}static of(t,n,i){let o=[],c=[],u=0,d=null;function flush(t=!1){if(!t&&!o.length)return;u<n&&addSection(o,n-u,-1);let i=new ChangeSet(o,c);d=d?d.compose(i.map(d)):i,o=[],c=[],u=0}return!function process(t){if(Array.isArray(t))for(let n of t)process(n);else if(t instanceof ChangeSet){if(t.length!=n)throw RangeError(`Mismatched change set length (got ${t.length}, expected ${n})`);flush(),d=d?d.compose(t.map(d)):t}else{let{from:d,to:m=d,insert:g}=t;if(d>m||d<0||m>n)throw RangeError(`Invalid change range ${d} to ${m} (in doc of length ${n})`);let v=g?"string"==typeof g?h.Text.of(g.split(i||f)):g:h.Text.empty,y=v.length;if(d==m&&0==y)return;d<u&&flush(),d>u&&addSection(o,d-u,-1),addSection(o,m-d,y),addInsert(c,o,v),u=m}}(t),flush(!d),d}static empty(t){return new ChangeSet(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw RangeError("Invalid JSON representation of ChangeSet");let n=[],i=[];for(let o=0;o<t.length;o++){let c=t[o];if("number"==typeof c)n.push(c,-1);else if(!Array.isArray(c)||"number"!=typeof c[0]||c.some((t,n)=>n&&"string"!=typeof t))throw RangeError("Invalid JSON representation of ChangeSet");else if(1==c.length)n.push(c[0],0);else{for(;i.length<o;)i.push(h.Text.empty);i[o]=h.Text.of(c.slice(1)),n.push(c[0],i[o].length)}}return new ChangeSet(n,i)}};function addSection(t,n,i,o=!1){if(0==n&&i<=0)return;let c=t.length-2;c>=0&&i<=0&&i==t[c+1]?t[c]+=n:0==n&&0==t[c]?t[c+1]+=i:o?(t[c]+=n,t[c+1]+=i):t.push(n,i)}function addInsert(t,n,i){if(0==i.length)return;let o=n.length-2>>1;if(o<t.length)t[t.length-1]=t[t.length-1].append(i);else{for(;t.length<o;)t.push(h.Text.empty);t.push(i)}}function iterChanges(t,n,i){let o=t.inserted;for(let c=0,u=0,f=0;f<t.sections.length;){let d=t.sections[f++],m=t.sections[f++];if(m<0)c+=d,u+=d;else{let g=c,v=u,y=h.Text.empty;for(;g+=d,v+=m,m&&o&&(y=y.append(o[f-2>>1])),!i&&f!=t.sections.length&&!(t.sections[f+1]<0);)d=t.sections[f++],m=t.sections[f++];n(c,g,u,v,y),c=g,u=v}}}function mapSet(t,n,i,o=!1){let c=[],u=o?[]:null,h=new SectionIter(t),f=new SectionIter(n);for(let t=0,n=0;;)if(-1==h.ins)t+=h.len,h.next();else if(-1==f.ins&&n<t){let i=Math.min(f.len,t-n);f.forward(i),addSection(c,i,-1),n+=i}else if(f.ins>=0&&(h.done||n<t||n==t&&(f.len<h.len||f.len==h.len&&!i))){for(addSection(c,f.ins,-1);t>n&&!h.done&&t+h.len<n+f.len;)t+=h.len,h.next();n+=f.len,f.next()}else if(h.ins>=0){let i=0,o=t+h.len;for(;;)if(f.ins>=0&&n>t&&n+f.len<o)i+=f.ins,n+=f.len,f.next();else if(-1==f.ins&&n<o){let t=Math.min(f.len,o-n);i+=t,f.forward(t),n+=t}else break;addSection(c,i,h.ins),u&&addInsert(u,c,h.text),t=o,h.next()}else if(h.done&&f.done)return u?new ChangeSet(c,u):new ChangeDesc(c);else throw Error("Mismatched change set lengths")}function composeSets(t,n,i=!1){let o=[],c=i?[]:null,u=new SectionIter(t),h=new SectionIter(n);for(let t=!1;;){if(u.done&&h.done)return c?new ChangeSet(o,c):new ChangeDesc(o);if(0==u.ins)addSection(o,u.len,0,t),u.next();else if(0!=h.len||h.done){if(u.done||h.done)throw Error("Mismatched change set lengths");{let n=Math.min(u.len2,h.len),i=o.length;if(-1==u.ins){let i=-1==h.ins?-1:h.off?0:h.ins;addSection(o,n,i,t),c&&i&&addInsert(c,o,h.text)}else -1==h.ins?(addSection(o,u.off?0:u.len,n,t),c&&addInsert(c,o,u.textBit(n))):(addSection(o,u.off?0:u.len,h.off?0:h.ins,t),c&&!h.off&&addInsert(c,o,h.text));t=(u.ins>n||h.ins>=0&&h.len>n)&&(t||o.length>i),u.forward2(n),h.forward(n)}}else addSection(o,0,h.ins,t),c&&addInsert(c,o,h.text),h.next()}}let SectionIter=class SectionIter{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return -2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length?h.Text.empty:t[n]}textBit(t){let{inserted:n}=this.set,i=this.i-2>>1;return i>=n.length&&!t?h.Text.empty:n[i].slice(this.off,null==t?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}};let SelectionRange=class SelectionRange{constructor(t,n,i){this.from=t,this.to=n,this.flags=i}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let t=3&this.flags;return 3==t?null:t}get goalColumn(){let t=this.flags>>5;return 33554431==t?void 0:t}map(t,n=-1){let i,o;return this.empty?i=o=t.mapPos(this.from,n):(i=t.mapPos(this.from,1),o=t.mapPos(this.to,-1)),i==this.from&&o==this.to?this:new SelectionRange(i,o,this.flags)}extend(t,n=t){if(t<=this.anchor&&n>=this.anchor)return EditorSelection.range(t,n);let i=Math.abs(t-this.anchor)>Math.abs(n-this.anchor)?t:n;return EditorSelection.range(this.anchor,i)}eq(t){return this.anchor==t.anchor&&this.head==t.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(t.anchor,t.head)}};let EditorSelection=class EditorSelection{constructor(t,n=0){this.ranges=t,this.mainIndex=n}map(t,n=-1){return t.empty?this:EditorSelection.create(this.ranges.map(i=>i.map(t,n)),this.mainIndex)}eq(t){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(t.ranges[n]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new EditorSelection([this.main])}addRange(t,n=!0){return EditorSelection.create([t].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(t,n=this.mainIndex){let i=this.ranges.slice();return i[n]=t,EditorSelection.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection(t.ranges.map(t=>SelectionRange.fromJSON(t)),t.main)}static single(t,n=t){return new EditorSelection([EditorSelection.range(t,n)],0)}static create(t,n=0){if(0==t.length)throw RangeError("A selection needs at least one range");for(let i=0,o=0;o<t.length;o++){let c=t[o];if(c.empty?c.from<=i:c.from<i)return function(t,n=0){let i=t[n];t.sort((t,n)=>t.from-n.from),n=t.indexOf(i);for(let i=1;i<t.length;i++){let o=t[i],c=t[i-1];if(o.empty?o.from<=c.to:o.from<c.to){let u=c.from,h=Math.max(o.to,c.to);i<=n&&n--,t.splice(--i,2,o.anchor>o.head?EditorSelection.range(h,u):EditorSelection.range(u,h))}}return new EditorSelection(t,n)}(t.slice(),n);i=c.to}return new EditorSelection(t,n)}static cursor(t,n=0,i,o){return new SelectionRange(t,t,(0==n?0:n<0?4:8)|(null==i?3:Math.min(2,i))|(null!=o?o:33554431)<<5)}static range(t,n,i){let o=(null!=i?i:33554431)<<5;return n<t?new SelectionRange(n,t,16|o|8):new SelectionRange(t,n,o|(n>t?4:0))}};function checkSelection(t,n){for(let i of t.ranges)if(i.to>n)throw RangeError("Selection points outside of document")}let d=0;let Facet=class Facet{constructor(t,n,i,o,c){this.combine=t,this.compareInput=n,this.compare=i,this.isStatic=o,this.extensions=c,this.id=d++,this.default=t([])}static define(t={}){return new Facet(t.combine||(t=>t),t.compareInput||((t,n)=>t===n),t.compare||(t.combine?(t,n)=>t===n:sameArray),!!t.static,t.enables)}of(t){return new FacetProvider([],this,0,t)}compute(t,n){if(this.isStatic)throw Error("Can't compute a static facet");return new FacetProvider(t,this,1,n)}computeN(t,n){if(this.isStatic)throw Error("Can't compute a static facet");return new FacetProvider(t,this,2,n)}from(t,n){return n||(n=t=>t),this.compute([t],i=>n(i.field(t)))}};function sameArray(t,n){return t==n||t.length==n.length&&t.every((t,i)=>t===n[i])}let FacetProvider=class FacetProvider{constructor(t,n,i,o){this.dependencies=t,this.facet=n,this.type=i,this.value=o,this.id=d++}dynamicSlot(t){var n;let i=this.value,o=this.facet.compareInput,c=this.id,u=t[c]>>1,h=2==this.type,f=!1,d=!1,m=[];for(let i of this.dependencies)"doc"==i?f=!0:"selection"==i?d=!0:((null!==(n=t[i.id])&&void 0!==n?n:1)&1)==0&&m.push(t[i.id]);return{create:t=>(t.values[u]=i(t),1),update(t,n){if(f&&n.docChanged||d&&(n.docChanged||n.selection)||m.some(n=>(1&ensureAddr(t,n))>0)){let n=i(t);if(h?!compareArray(n,t.values[u],o):!o(n,t.values[u]))return t.values[u]=n,1}return 0},reconfigure(t,n){let f=i(t),d=n.config.address[c];if(null!=d){let i=getAddr(n,d);if(h?compareArray(f,i,o):o(f,i))return t.values[u]=i,0}return t.values[u]=f,1}}}};function compareArray(t,n,i){if(t.length!=n.length)return!1;for(let o=0;o<t.length;o++)if(!i(t[o],n[o]))return!1;return!0}let m=Facet.define({static:!0});let StateField=class StateField{constructor(t,n,i,o,c){this.id=t,this.createF=n,this.updateF=i,this.compareF=o,this.spec=c,this.provides=void 0}static define(t){let n=new StateField(d++,t.create,t.update,t.compare||((t,n)=>t===n),t);return t.provide&&(n.provides=t.provide(n)),n}create(t){let n=t.facet(m).find(t=>t.field==this);return((null==n?void 0:n.create)||this.createF)(t)}slot(t){let n=t[this.id]>>1;return{create:t=>(t.values[n]=this.create(t),1),update:(t,i)=>{let o=t.values[n],c=this.updateF(o,i);return this.compareF(o,c)?0:(t.values[n]=c,1)},reconfigure:(t,i)=>null!=i.config.address[this.id]?(t.values[n]=i.field(this),0):(t.values[n]=this.create(t),1)}}init(t){return[this,m.of({field:this,create:t})]}get extension(){return this}};let g={lowest:4,low:3,default:2,high:1,highest:0};function prec(t){return n=>new PrecExtension(n,t)}let v={lowest:prec(g.lowest),low:prec(g.low),default:prec(g.default),high:prec(g.high),highest:prec(g.highest),fallback:prec(g.lowest),extend:prec(g.high),override:prec(g.highest)};let PrecExtension=class PrecExtension{constructor(t,n){this.inner=t,this.prec=n}};let Compartment=class Compartment{of(t){return new CompartmentInstance(this,t)}reconfigure(t){return Compartment.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}};let CompartmentInstance=class CompartmentInstance{constructor(t,n){this.compartment=t,this.inner=n}};let Configuration=class Configuration{constructor(t,n,i,o,c,u){for(this.base=t,this.compartments=n,this.dynamicSlots=i,this.address=o,this.staticValues=c,this.facets=u,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(t){let n=this.address[t.id];return null==n?t.default:this.staticValues[n>>1]}static resolve(t,n,i){let o,c,u=[],h=Object.create(null),f=new Map;for(let i of(o=[[],[],[],[],[]],c=new Map,!function inner(t,i){let u=c.get(t);if(null!=u){if(u>=i)return;let n=o[u].indexOf(t);n>-1&&o[u].splice(n,1),t instanceof CompartmentInstance&&f.delete(t.compartment)}if(c.set(t,i),Array.isArray(t))for(let n of t)inner(n,i);else if(t instanceof CompartmentInstance){if(f.has(t.compartment))throw RangeError("Duplicate use of compartment in extensions");let o=n.get(t.compartment)||t.inner;f.set(t.compartment,o),inner(o,i)}else if(t instanceof PrecExtension)inner(t.inner,t.prec);else if(t instanceof StateField)o[i].push(t),t.provides&&inner(t.provides,i);else if(t instanceof FacetProvider)o[i].push(t),t.facet.extensions&&inner(t.facet.extensions,i);else{let n=t.extension;if(!n)throw Error(`Unrecognized extension value in extension set (${t}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);inner(n,i)}}(t,g.default),o.reduce((t,n)=>t.concat(n))))i instanceof StateField?u.push(i):(h[i.facet.id]||(h[i.facet.id]=[])).push(i);let d=Object.create(null),m=[],v=[];for(let t of u)d[t.id]=v.length<<1,v.push(n=>t.slot(n));let y=null==i?void 0:i.config.facets;for(let t in h){let n=h[t],o=n[0].facet,c=y&&y[t]||[];if(n.every(t=>0==t.type)){if(d[o.id]=m.length<<1|1,sameArray(c,n))m.push(i.facet(o));else{let t=o.combine(n.map(t=>t.value));m.push(i&&o.compare(t,i.facet(o))?i.facet(o):t)}}else{for(let t of n)0==t.type?(d[t.id]=m.length<<1|1,m.push(t.value)):(d[t.id]=v.length<<1,v.push(n=>t.dynamicSlot(n)));d[o.id]=v.length<<1,v.push(t=>(function(t,n,i){let o=i.map(n=>t[n.id]),c=i.map(t=>t.type),u=o.filter(t=>!(1&t)),h=t[n.id]>>1;function get(t){let i=[];for(let n=0;n<o.length;n++){let u=getAddr(t,o[n]);if(2==c[n])for(let t of u)i.push(t);else i.push(u)}return n.combine(i)}return{create(t){for(let n of o)ensureAddr(t,n);return t.values[h]=get(t),1},update(t,i){if(!u.some(n=>1&ensureAddr(t,n)))return 0;let o=get(t);return n.compare(o,t.values[h])?0:(t.values[h]=o,1)},reconfigure(t,c){let u=o.some(n=>1&ensureAddr(t,n)),f=c.config.facets[n.id],d=c.facet(n);if(f&&!u&&sameArray(i,f))return t.values[h]=d,0;let m=get(t);return n.compare(m,d)?(t.values[h]=d,0):(t.values[h]=m,1)}}})(t,o,n))}}let w=v.map(t=>t(d));return new Configuration(t,f,w,d,m,h)}};function ensureAddr(t,n){if(1&n)return 2;let i=n>>1,o=t.status[i];if(4==o)throw Error("Cyclic dependency between fields and/or facets");if(2&o)return o;t.status[i]=4;let c=t.computeSlot(t,t.config.dynamicSlots[i]);return t.status[i]=2|c}function getAddr(t,n){return 1&n?t.config.staticValues[n>>1]:t.values[n>>1]}let y=Facet.define(),w=Facet.define({combine:t=>t.some(t=>t),static:!0}),b=Facet.define({combine:t=>t.length?t[0]:void 0,static:!0}),S=Facet.define(),x=Facet.define(),C=Facet.define(),_=Facet.define({combine:t=>!!t.length&&t[0]});let Annotation=class Annotation{constructor(t,n){this.type=t,this.value=n}static define(){return new AnnotationType}};let AnnotationType=class AnnotationType{of(t){return new Annotation(this,t)}};let StateEffectType=class StateEffectType{constructor(t){this.map=t}of(t){return new StateEffect(this,t)}};let StateEffect=class StateEffect{constructor(t,n){this.type=t,this.value=n}map(t){let n=this.type.map(this.value,t);return void 0===n?void 0:n==this.value?this:new StateEffect(this.type,n)}is(t){return this.type==t}static define(t={}){return new StateEffectType(t.map||(t=>t))}static mapEffects(t,n){if(!t.length)return t;let i=[];for(let o of t){let t=o.map(n);t&&i.push(t)}return i}};StateEffect.reconfigure=StateEffect.define(),StateEffect.appendConfig=StateEffect.define();let Transaction=class Transaction{constructor(t,n,i,o,c,u){this.startState=t,this.changes=n,this.selection=i,this.effects=o,this.annotations=c,this.scrollIntoView=u,this._doc=null,this._state=null,i&&checkSelection(i,n.newLength),c.some(t=>t.type==Transaction.time)||(this.annotations=c.concat(Transaction.time.of(Date.now())))}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let n of this.annotations)if(n.type==t)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let n=this.annotation(Transaction.userEvent);return!!(n&&(n==t||n.length>t.length&&n.slice(0,t.length)==t&&"."==n[t.length]))}};function mergeTransaction(t,n,i){var o;let c,u,h;return i?(c=n.changes,u=ChangeSet.empty(n.changes.length),h=t.changes.compose(n.changes)):(c=n.changes.map(t.changes),u=t.changes.mapDesc(n.changes,!0),h=t.changes.compose(c)),{changes:h,selection:n.selection?n.selection.map(u):null===(o=t.selection)||void 0===o?void 0:o.map(c),effects:StateEffect.mapEffects(t.effects,c).concat(StateEffect.mapEffects(n.effects,u)),annotations:t.annotations.length?t.annotations.concat(n.annotations):n.annotations,scrollIntoView:t.scrollIntoView||n.scrollIntoView}}function resolveTransactionInner(t,n,i){let o=n.selection,c=asArray(n.annotations);return n.userEvent&&(c=c.concat(Transaction.userEvent.of(n.userEvent))),{changes:n.changes instanceof ChangeSet?n.changes:ChangeSet.of(n.changes||[],i,t.facet(b)),selection:o&&(o instanceof EditorSelection?o:EditorSelection.single(o.anchor,o.head)),effects:asArray(n.effects),annotations:c,scrollIntoView:!!n.scrollIntoView}}Transaction.time=Annotation.define(),Transaction.userEvent=Annotation.define(),Transaction.addToHistory=Annotation.define(),Transaction.remote=Annotation.define();let E=[];function asArray(t){return null==t?E:Array.isArray(t)?t:[t]}n.CharCategory=void 0,(u=n.CharCategory||(n.CharCategory={}))[u.Word=0]="Word",u[u.Space=1]="Space",u[u.Other=2]="Other";let T=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;try{o=RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(t){}let EditorState=class EditorState{constructor(t,n,i,o,c,u){this.config=t,this.doc=n,this.selection=i,this.values=o,this.status=t.statusTemplate.slice(),this.computeSlot=c,u&&(u._state=this);for(let t=0;t<this.config.dynamicSlots.length;t++)ensureAddr(this,t<<1);this.computeSlot=null}field(t,n=!0){let i=this.config.address[t.id];if(null==i){if(n)throw RangeError("Field is not present in this state");return}return ensureAddr(this,i),getAddr(this,i)}update(...t){return function resolveTransaction(t,n,i){let o=resolveTransactionInner(t,n.length?n[0]:{},t.doc.length);n.length&&!1===n[0].filter&&(i=!1);for(let c=1;c<n.length;c++){!1===n[c].filter&&(i=!1);let u=!!n[c].sequential;o=mergeTransaction(o,resolveTransactionInner(t,n[c],u?o.changes.newLength:t.doc.length),u)}let c=new Transaction(t,o.changes,o.selection,o.effects,o.annotations,o.scrollIntoView);return function(t){let n=t.startState,i=n.facet(C),o=t;for(let c=i.length-1;c>=0;c--){let u=i[c](t);u&&Object.keys(u).length&&(o=mergeTransaction(t,resolveTransactionInner(n,u,t.changes.newLength),!0))}return o==t?t:new Transaction(n,t.changes,t.selection,o.effects,o.annotations,o.scrollIntoView)}(i?function(t){let n=t.startState,i=!0;for(let o of n.facet(S)){let n=o(t);if(!1===n){i=!1;break}Array.isArray(n)&&(i=!0===i?n:function(t,n){let i=[];for(let o=0,c=0;;){let u,h;if(o<t.length&&(c==n.length||n[c]>=t[o]))u=t[o++],h=t[o++];else{if(!(c<n.length))return i;u=n[c++],h=n[c++]}!i.length||i[i.length-1]<u?i.push(u,h):i[i.length-1]<h&&(i[i.length-1]=h)}}(i,n))}if(!0!==i){let o,c;if(!1===i)c=t.changes.invertedDesc,o=ChangeSet.empty(n.doc.length);else{let n=t.changes.filter(i);o=n.changes,c=n.filtered.invertedDesc}t=new Transaction(n,o,t.selection&&t.selection.map(c),StateEffect.mapEffects(t.effects,c),t.annotations,t.scrollIntoView)}let o=n.facet(x);for(let i=o.length-1;i>=0;i--){let c=o[i](t);t=c instanceof Transaction?c:Array.isArray(c)&&1==c.length&&c[0]instanceof Transaction?c[0]:resolveTransaction(n,asArray(c),!1)}return t}(c):c)}(this,t,!0)}applyTransaction(t){let n,i=this.config,{base:o,compartments:c}=i;for(let n of t.effects)n.is(Compartment.reconfigure)?(i&&(c=new Map,i.compartments.forEach((t,n)=>c.set(n,t)),i=null),c.set(n.value.compartment,n.value.extension)):n.is(StateEffect.reconfigure)?(i=null,o=n.value):n.is(StateEffect.appendConfig)&&(i=null,o=asArray(o).concat(n.value));i?n=t.startState.values.slice():(i=Configuration.resolve(o,c,this),n=new EditorState(i,this.doc,this.selection,i.dynamicSlots.map(()=>null),(t,n)=>n.reconfigure(t,this),null).values),new EditorState(i,t.newDoc,t.newSelection,n,(n,i)=>i.update(n,t),t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:t},range:EditorSelection.cursor(n.from+t.length)}))}changeByRange(t){let n=this.selection,i=t(n.ranges[0]),o=this.changes(i.changes),c=[i.range],u=asArray(i.effects);for(let i=1;i<n.ranges.length;i++){let h=t(n.ranges[i]),f=this.changes(h.changes),d=f.map(o);for(let t=0;t<i;t++)c[t]=c[t].map(d);let m=o.mapDesc(f,!0);c.push(h.range.map(m)),o=o.compose(d),u=StateEffect.mapEffects(u,d).concat(StateEffect.mapEffects(asArray(h.effects),m))}return{changes:o,selection:EditorSelection.create(c,n.mainIndex),effects:u}}changes(t=[]){return t instanceof ChangeSet?t:ChangeSet.of(t,this.doc.length,this.facet(EditorState.lineSeparator))}toText(t){return h.Text.of(t.split(this.facet(EditorState.lineSeparator)||f))}sliceDoc(t=0,n=this.doc.length){return this.doc.sliceString(t,n,this.lineBreak)}facet(t){let n=this.config.address[t.id];return null==n?t.default:(ensureAddr(this,n),getAddr(this,n))}toJSON(t){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let i in t){let o=t[i];o instanceof StateField&&(n[i]=o.spec.toJSON(this.field(t[i]),this))}return n}static fromJSON(t,n={},i){if(!t||"string"!=typeof t.doc)throw RangeError("Invalid JSON representation for EditorState");let o=[];if(i)for(let n in i){let c=i[n],u=t[n];o.push(c.init(t=>c.spec.fromJSON(u,t)))}return EditorState.create({doc:t.doc,selection:EditorSelection.fromJSON(t.selection),extensions:n.extensions?o.concat([n.extensions]):o})}static create(t={}){let n=Configuration.resolve(t.extensions||[],new Map),i=t.doc instanceof h.Text?t.doc:h.Text.of((t.doc||"").split(n.staticFacet(EditorState.lineSeparator)||f)),o=t.selection?t.selection instanceof EditorSelection?t.selection:EditorSelection.single(t.selection.anchor,t.selection.head):EditorSelection.single(0);return checkSelection(o,i.length),n.staticFacet(w)||(o=o.asSingle()),new EditorState(n,i,o,n.dynamicSlots.map(()=>null),(t,n)=>n.create(t),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||"\n"}get readOnly(){return this.facet(_)}phrase(t){for(let n of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call(n,t))return n[t];return t}languageDataAt(t,n,i=-1){let o=[];for(let c of this.facet(y))for(let u of c(this,n,i))Object.prototype.hasOwnProperty.call(u,t)&&o.push(u[t]);return o}charCategorizer(t){var i;return i=this.languageDataAt("wordChars",t).join(""),t=>{if(!/\S/.test(t))return n.CharCategory.Space;if(function(t){if(o)return o.test(t);for(let n=0;n<t.length;n++){let i=t[n];if(/\w/.test(i)||i>"\x80"&&(i.toUpperCase()!=i.toLowerCase()||T.test(i)))return!0}return!1}(t))return n.CharCategory.Word;for(let o=0;o<i.length;o++)if(t.indexOf(i[o])>-1)return n.CharCategory.Word;return n.CharCategory.Other}}wordAt(t){let{text:i,from:o,length:c}=this.doc.lineAt(t),u=this.charCategorizer(t),f=t-o,d=t-o;for(;f>0;){let t=h.findClusterBreak(i,f,!1);if(u(i.slice(t,f))!=n.CharCategory.Word)break;f=t}for(;d<c;){let t=h.findClusterBreak(i,d);if(u(i.slice(d,t))!=n.CharCategory.Word)break;d=t}return f==d?null:EditorSelection.range(f+o,d+o)}};EditorState.allowMultipleSelections=w,EditorState.tabSize=Facet.define({combine:t=>t.length?t[0]:4}),EditorState.lineSeparator=b,EditorState.readOnly=_,EditorState.phrases=Facet.define(),EditorState.languageData=y,EditorState.changeFilter=S,EditorState.transactionFilter=x,EditorState.transactionExtender=C,Compartment.reconfigure=StateEffect.define(),Object.defineProperty(n,"Text",{enumerable:!0,get:function(){return h.Text}}),n.Annotation=Annotation,n.AnnotationType=AnnotationType,n.ChangeDesc=ChangeDesc,n.ChangeSet=ChangeSet,n.Compartment=Compartment,n.EditorSelection=EditorSelection,n.EditorState=EditorState,n.Facet=Facet,n.Prec=v,n.SelectionRange=SelectionRange,n.StateEffect=StateEffect,n.StateEffectType=StateEffectType,n.StateField=StateField,n.Transaction=Transaction,n.combineConfig=function(t,n,i={}){let o={};for(let n of t)for(let t of Object.keys(n)){let c=n[t],u=o[t];if(void 0===u)o[t]=c;else if(u===c||void 0===c);else if(Object.hasOwnProperty.call(i,t))o[t]=i[t](u,c);else throw Error("Config merge conflict for field "+t)}for(let t in n)void 0===o[t]&&(o[t]=n[t]);return o}},3777:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(6393),c=i(7038),u=i(2382);function countCol(t,n,i,o=0,c=0){null==n&&-1==(n=t.search(/[^\s\u00a0]/))&&(n=t.length);let u=c;for(let c=o;c<n;c++)9==t.charCodeAt(c)?u+=i-u%i:u++;return u}let StringStream=class StringStream{constructor(t,n,i){this.string=t,this.tabSize=n,this.indentUnit=i,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return 0==this.pos}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(t){let n=this.string.charAt(this.pos);if("string"==typeof t?n==t:n&&(t instanceof RegExp?t.test(n):t(n)))return++this.pos,n}eatWhile(t){let n=this.pos;for(;this.eat(t););return this.pos>n}eatSpace(){let t=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t}skipToEnd(){this.pos=this.string.length}skipTo(t){let n=this.string.indexOf(t,this.pos);if(n>-1)return this.pos=n,!0}backUp(t){this.pos-=t}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=countCol(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){return countCol(this.string,null,this.tabSize)}match(t,n,i){if("string"==typeof t){let cased=t=>i?t.toLowerCase():t;return cased(this.string.substr(this.pos,t.length))==cased(t)?(!1!==n&&(this.pos+=t.length),!0):null}{let i=this.string.slice(this.pos).match(t);return i&&i.index>0?null:(i&&!1!==n&&(this.pos+=i[0].length),i)}}current(){return this.string.slice(this.start,this.pos)}};function defaultCopyState(t){if("object"!=typeof t)return t;let n={};for(let i in t){let o=t[i];n[i]=o instanceof Array?o.slice():o}return n}let StreamLanguage=class StreamLanguage extends u.Language{constructor(t){let n,i=u.defineLanguageFacet(t.languageData),c={token:t.token,blankLine:t.blankLine||(()=>{}),startState:t.startState||(()=>!0),copyState:t.copyState||defaultCopyState,indent:t.indent||(()=>null),languageData:t.languageData||{},tokenTable:t.tokenTable||h},d;super(i,new class extends o.Parser{createParse(t,n,i){return new Parse(d,t,n,i)}},(n=o.NodeType.define({id:f.length,name:"Document",props:[u.languageDataProp.add(()=>i)]}),f.push(n),n),[u.indentService.of((t,n)=>this.getIndent(t,n))]),d=this,this.streamParser=c,this.stateAfter=new o.NodeProp({perNode:!0}),this.tokenTable=t.tokenTable?new TokenTable(c.tokenTable):v}static define(t){return new StreamLanguage(t)}getIndent(t,n){let i=u.syntaxTree(t.state),o=i.resolve(n);for(;o&&o.type!=this.topNode;)o=o.parent;if(!o)return null;let c=findState(this,i,0,o.from,n),h,f;if(c?(f=c.state,h=c.pos+1):(f=this.streamParser.startState(t.unit),h=0),n-h>1e4)return null;for(;h<n;){let i=t.state.doc.lineAt(h),o=Math.min(n,i.to);if(i.length){let n=new StringStream(i.text,t.state.tabSize,t.unit);for(;n.pos<o-i.from;)readToken(this.streamParser.token,n,f)}else this.streamParser.blankLine(f,t.unit);if(o==n)break;h=i.to+1}let{text:d}=t.lineAt(n);return this.streamParser.indent(f,/^\s*(.*)/.exec(d)[1],t)}get allowsNesting(){return!1}};function findState(t,n,i,c,u){let h=i>=c&&i+n.length<=u&&n.prop(t.stateAfter);if(h)return{state:t.streamParser.copyState(h),pos:i+n.length};for(let h=n.children.length-1;h>=0;h--){let f=n.children[h],d=i+n.positions[h],m=f instanceof o.Tree&&d<u&&findState(t,f,d,c,u);if(m)return m}return null}let Parse=class Parse{constructor(t,n,i,c){this.lang=t,this.input=n,this.fragments=i,this.ranges=c,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=c[c.length-1].to;let h=u.ParseContext.get(),f=c[0].from,{state:d,tree:m}=function(t,n,i,c){for(let c of n){let n=c.from+(c.openStart?25:0),u=c.to-(c.openEnd?25:0),h=n<=i&&u>i&&findState(t,c.tree,0-c.offset,i,u),f;if(h&&(f=function cutTree(t,n,i,c,u){if(u&&i<=0&&c>=n.length)return n;u||n.type!=t.topNode||(u=!0);for(let h=n.children.length-1;h>=0;h--){let f=n.positions[h],d=n.children[h],m;if(f<c&&d instanceof o.Tree){if(!(m=cutTree(t,d,i-f,c-f,u)))break;return u?new o.Tree(n.type,n.children.slice(0,h).concat(m),n.positions.slice(0,h+1),f+m.length):m}}return null}(t,c.tree,i+c.offset,h.pos+c.offset,!1)))return{state:h.state,tree:f}}return{state:t.streamParser.startState(c?u.getIndentUnit(c):4),tree:o.Tree.empty}}(t,i,f,null==h?void 0:h.state);this.state=d,this.parsedPos=this.chunkStart=f+m.length;for(let t=0;t<m.children.length;t++)this.chunks.push(m.children[t]),this.chunkPos.push(m.positions[t]);h&&this.parsedPos<h.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(u.getIndentUnit(h.state)),h.skipUntilInView(this.parsedPos,h.viewport.from),this.parsedPos=h.viewport.from),this.moveRangeIndex()}advance(){let t=u.ParseContext.get(),n=null==this.stoppedAt?this.to:Math.min(this.to,this.stoppedAt),i=Math.min(n,this.chunkStart+2048);for(t&&(i=Math.min(i,t.viewport.to));this.parsedPos<i;)this.parseLine(t);return(this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=n)?this.finish():t&&this.parsedPos>=t.viewport.to?(t.skipUntilInView(this.parsedPos,n),this.finish()):null}stopAt(t){this.stoppedAt=t}lineAfter(t){let n=this.input.chunk(t);if(this.input.lineChunks)"\n"==n&&(n="");else{let t=n.indexOf("\n");t>-1&&(n=n.slice(0,t))}return t+n.length<=this.to?n:n.slice(0,this.to-t)}nextLine(){let t=this.parsedPos,n=this.lineAfter(t),i=t+n.length;for(let t=this.rangeIndex;;){let o=this.ranges[t].to;if(o>=i||(n=n.slice(0,o-(i-n.length)),++t==this.ranges.length))break;let c=this.ranges[t].from,u=this.lineAfter(c);n+=u,i=c+u.length}return{line:n,end:i}}skipGapsTo(t,n,i){for(;;){let o=this.ranges[this.rangeIndex].to,c=t+n;if(i>0?o>c:o>=c)break;let u=this.ranges[++this.rangeIndex].from;n+=u-o}return n}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(t,n,i,o,c){if(this.ranges.length>1){c=this.skipGapsTo(n,c,1),n+=c;let t=this.chunk.length;c=this.skipGapsTo(i,c,-1),i+=c,o+=this.chunk.length-t}return this.chunk.push(t,n,i,o),c}parseLine(t){let{line:n,end:i}=this.nextLine(),o=0,{streamParser:c}=this.lang,h=new StringStream(n,t?t.state.tabSize:4,t?u.getIndentUnit(t.state):2);if(h.eol())c.blankLine(this.state,h.indentUnit);else for(;!h.eol();){let t=readToken(c.token,h,this.state);if(t&&(o=this.emitToken(this.lang.tokenTable.resolve(t),this.parsedPos+h.start,this.parsedPos+h.pos,4,o)),h.start>1e4)break}this.parsedPos=i,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let t=o.Tree.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:d,topID:0,maxBufferLength:2048,reused:this.chunkReused});t=new o.Tree(t.type,t.children,t.positions,t.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(t),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new o.Tree(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}};function readToken(t,n,i){n.start=n.pos;for(let o=0;o<10;o++){let o=t(n,i);if(n.pos>n.start)return o}throw Error("Stream parser failed to advance stream.")}let h=Object.create(null),f=[o.NodeType.none],d=new o.NodeSet(f),m=[],g=Object.create(null);for(let[t,n]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","typeName"],["attribute","propertyName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])g[t]=createTokenType(h,n);let TokenTable=class TokenTable{constructor(t){this.extra=t,this.table=Object.assign(Object.create(null),g)}resolve(t){return t?this.table[t]||(this.table[t]=createTokenType(this.extra,t)):0}};let v=new TokenTable(h);function warnForPart(t,n){m.indexOf(t)>-1||(m.push(t),console.warn(n))}function createTokenType(t,n){let i=null;for(let o of n.split(".")){let n=t[o]||c.tags[o];n?"function"==typeof n?i?i=n(i):warnForPart(o,`Modifier ${o} used at start of tag`):i?warnForPart(o,`Tag ${o} used as modifier`):i=n:warnForPart(o,`Unknown highlighting tag ${o}`)}if(!i)return 0;let u=n.replace(/ /g,"_"),h=o.NodeType.define({id:f.length,name:u,props:[c.styleTags({[u]:i})]});return f.push(h),h.id}n.StreamLanguage=StreamLanguage,n.StringStream=StringStream},5627:function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});let i="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<i.length;t++)i[t]+=i[t-1];function isRegionalIndicator(t){return t>=127462&&t<=127487}function findClusterBreak(t,n,i=!0,o=!0){return(i?nextClusterBreak:function(t,n,i){for(;n>0;){let o=nextClusterBreak(t,n-2,i);if(o<n)return o;n--}return 0})(t,n,o)}function nextClusterBreak(t,n,o){if(n==t.length)return n;n&&surrogateLow(t.charCodeAt(n))&&surrogateHigh(t.charCodeAt(n-1))&&n--;let c=codePointAt(t,n);for(n+=codePointSize(c);n<t.length;){let u=codePointAt(t,n);if(8205==c||8205==u||o&&function(t){for(let n=1;n<i.length;n+=2)if(i[n]>t)return i[n-1]<=t;return!1}(u))n+=codePointSize(u),c=u;else if(isRegionalIndicator(u)){let i=0,o=n-2;for(;o>=0&&isRegionalIndicator(codePointAt(t,o));)i++,o-=2;if(i%2==0)break;n+=2}else break}return n}function surrogateLow(t){return t>=56320&&t<57344}function surrogateHigh(t){return t>=55296&&t<56320}function codePointAt(t,n){let i=t.charCodeAt(n);if(!surrogateHigh(i)||n+1==t.length)return i;let o=t.charCodeAt(n+1);return surrogateLow(o)?(i-55296<<10)+(o-56320)+65536:i}function codePointSize(t){return t<65536?1:2}let Text=class Text{constructor(){}lineAt(t){if(t<0||t>this.length)throw RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,n,i){let o=[];return this.decompose(0,t,o,2),i.length&&i.decompose(0,i.length,o,3),this.decompose(n,this.length,o,1),TextNode.from(o,this.length-(n-t)+i.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,n=this.length){let i=[];return this.decompose(t,n,i,0),TextNode.from(i,n-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let n=this.scanIdentical(t,1),i=this.length-this.scanIdentical(t,-1),o=new RawTextCursor(this),c=new RawTextCursor(t);for(let t=n,u=n;;){if(o.next(t),c.next(t),t=0,o.lineBreak!=c.lineBreak||o.done!=c.done||o.value!=c.value)return!1;if(u+=o.value.length,o.done||u>=i)return!0}}iter(t=1){return new RawTextCursor(this,t)}iterRange(t,n=this.length){return new PartialTextCursor(this,t,n)}iterLines(t,n){let i;if(null==t)i=this.iter();else{null==n&&(n=this.lines+1);let o=this.line(t).from;i=this.iterRange(o,Math.max(o,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new LineCursor(i)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}static of(t){if(0==t.length)throw RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new TextLeaf(t):TextNode.from(TextLeaf.split(t,[])):Text.empty}};let TextLeaf=class TextLeaf extends Text{constructor(t,n=function(t){let n=-1;for(let i of t)n+=i.length+1;return n}(t)){super(),this.text=t,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(t,n,i,o){for(let c=0;;c++){let u=this.text[c],h=o+u.length;if((n?i:h)>=t)return new Line(o,h,i,u);o=h+1,i++}}decompose(t,n,i,o){let c=t<=0&&n>=this.length?this:new TextLeaf(appendText(this.text,[""],t,n),Math.min(n,this.length)-Math.max(0,t));if(1&o){let t=i.pop(),n=appendText(c.text,t.text.slice(),0,c.length);if(n.length<=32)i.push(new TextLeaf(n,t.length+c.length));else{let t=n.length>>1;i.push(new TextLeaf(n.slice(0,t)),new TextLeaf(n.slice(t)))}}else i.push(c)}replace(t,n,i){if(!(i instanceof TextLeaf))return super.replace(t,n,i);let o=appendText(this.text,appendText(i.text,appendText(this.text,[""],0,t)),n),c=this.length+i.length-(n-t);return o.length<=32?new TextLeaf(o,c):TextNode.from(TextLeaf.split(o,[]),c)}sliceString(t,n=this.length,i="\n"){let o="";for(let c=0,u=0;c<=n&&u<this.text.length;u++){let h=this.text[u],f=c+h.length;c>t&&u&&(o+=i),t<f&&n>c&&(o+=h.slice(Math.max(0,t-c),n-c)),c=f+1}return o}flatten(t){for(let n of this.text)t.push(n)}scanIdentical(){return 0}static split(t,n){let i=[],o=-1;for(let c of t)i.push(c),o+=c.length+1,32==i.length&&(n.push(new TextLeaf(i,o)),i=[],o=-1);return o>-1&&n.push(new TextLeaf(i,o)),n}};let TextNode=class TextNode extends Text{constructor(t,n){for(let i of(super(),this.children=t,this.length=n,this.lines=0,t))this.lines+=i.lines}lineInner(t,n,i,o){for(let c=0;;c++){let u=this.children[c],h=o+u.length,f=i+u.lines-1;if((n?f:h)>=t)return u.lineInner(t,n,i,o);o=h+1,i=f+1}}decompose(t,n,i,o){for(let c=0,u=0;u<=n&&c<this.children.length;c++){let h=this.children[c],f=u+h.length;if(t<=f&&n>=u){let c=o&((u<=t?1:0)|(f>=n?2:0));u>=t&&f<=n&&!c?i.push(h):h.decompose(t-u,n-u,i,c)}u=f+1}}replace(t,n,i){if(i.lines<this.lines)for(let o=0,c=0;o<this.children.length;o++){let u=this.children[o],h=c+u.length;if(t>=c&&n<=h){let f=u.replace(t-c,n-c,i),d=this.lines-u.lines+f.lines;if(f.lines<d>>4&&f.lines>d>>6){let c=this.children.slice();return c[o]=f,new TextNode(c,this.length-(n-t)+i.length)}return super.replace(c,h,f)}c=h+1}return super.replace(t,n,i)}sliceString(t,n=this.length,i="\n"){let o="";for(let c=0,u=0;c<this.children.length&&u<=n;c++){let h=this.children[c],f=u+h.length;u>t&&c&&(o+=i),t<f&&n>u&&(o+=h.sliceString(t-u,n-u,i)),u=f+1}return o}flatten(t){for(let n of this.children)n.flatten(t)}scanIdentical(t,n){if(!(t instanceof TextNode))return 0;let i=0,[o,c,u,h]=n>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;o+=n,c+=n){if(o==u||c==h)return i;let f=this.children[o],d=t.children[c];if(f!=d)return i+f.scanIdentical(d,n);i+=f.length+1}}static from(t,n=t.reduce((t,n)=>t+n.length+1,-1)){let i=0;for(let n of t)i+=n.lines;if(i<32){let i=[];for(let n of t)n.flatten(i);return new TextLeaf(i,n)}let o=Math.max(32,i>>5),c=o<<1,u=o>>1,h=[],f=0,d=-1,m=[];function flush(){0!=f&&(h.push(1==m.length?m[0]:TextNode.from(m,d)),d=-1,f=m.length=0)}for(let n of t)!function add(t){let n;if(t.lines>c&&t instanceof TextNode)for(let n of t.children)add(n);else t.lines>u&&(f>u||!f)?(flush(),h.push(t)):t instanceof TextLeaf&&f&&(n=m[m.length-1])instanceof TextLeaf&&t.lines+n.lines<=32?(f+=t.lines,d+=t.length+1,m[m.length-1]=new TextLeaf(n.text.concat(t.text),n.length+1+t.length)):(f+t.lines>o&&flush(),f+=t.lines,d+=t.length+1,m.push(t))}(n);return flush(),1==h.length?h[0]:new TextNode(h,n)}};function appendText(t,n,i=0,o=1e9){for(let c=0,u=0,h=!0;u<t.length&&c<=o;u++){let f=t[u],d=c+f.length;d>=i&&(d>o&&(f=f.slice(0,o-c)),c<i&&(f=f.slice(i-c)),h?(n[n.length-1]+=f,h=!1):n.push(f)),c=d+1}return n}Text.empty=new TextLeaf([""],0);let RawTextCursor=class RawTextCursor{constructor(t,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[n>0?1:(t instanceof TextLeaf?t.text.length:t.children.length)<<1]}nextInner(t,n){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,o=this.nodes[i],c=this.offsets[i],u=c>>1,h=o instanceof TextLeaf?o.text.length:o.children.length;if(u==(n>0?h:0)){if(0==i)return this.done=!0,this.value="",this;n>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&c)==(n>0?0:1)){if(this.offsets[i]+=n,0==t)return this.lineBreak=!0,this.value="\n",this;t--}else if(o instanceof TextLeaf){let c=o.text[u+(n<0?-1:0)];if(this.offsets[i]+=n,c.length>Math.max(0,t))return this.value=0==t?c:n>0?c.slice(t):c.slice(0,c.length-t),this;t-=c.length}else{let c=o.children[u+(n<0?-1:0)];t>c.length?(t-=c.length,this.offsets[i]+=n):(n<0&&this.offsets[i]--,this.nodes.push(c),this.offsets.push(n>0?1:(c instanceof TextLeaf?c.text.length:c.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}};let PartialTextCursor=class PartialTextCursor{constructor(t,n,i){this.value="",this.done=!1,this.cursor=new RawTextCursor(t,n>i?-1:1),this.pos=n>i?t.length:0,this.from=Math.min(n,i),this.to=Math.max(n,i)}nextInner(t,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let i=n<0?this.pos-this.from:this.to-this.pos;t>i&&(t=i),i-=t;let{value:o}=this.cursor.next(t);return this.pos+=(o.length+t)*n,this.value=o.length<=i?o:n<0?o.slice(o.length-i):o.slice(0,i),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}};let LineCursor=class LineCursor{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:n,lineBreak:i,value:o}=this.inner.next(t);return n?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=o,this.afterBreak=!1),this}get lineBreak(){return!1}};"undefined"!=typeof Symbol&&(Text.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});let Line=class Line{constructor(t,n,i,o){this.from=t,this.to=n,this.number=i,this.text=o}get length(){return this.to-this.from}};n.Line=Line,n.Text=Text,n.codePointAt=codePointAt,n.codePointSize=codePointSize,n.countColumn=function(t,n,i=t.length){let o=0;for(let c=0;c<i;)9==t.charCodeAt(c)?(o+=n-o%n,c++):(o++,c=findClusterBreak(t,c));return o},n.findClusterBreak=findClusterBreak,n.findColumn=function(t,n,i,o){for(let o=0,c=0;;){if(c>=n)return o;if(o==t.length)break;c+=9==t.charCodeAt(o)?i-c%i:1,o=findClusterBreak(t,o)}return!0===o?-1:t.length},n.fromCodePoint=function(t){return t<=65535?String.fromCharCode(t):String.fromCharCode(((t-=65536)>>10)+55296,(1023&t)+56320)}},8326:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(1135),c=i(4350);let u="undefined"!=typeof navigator&&!/Edge\/(\d+)/.exec(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),h="-10000px";let TooltipViewManager=class TooltipViewManager{constructor(t,n,i){this.facet=n,this.createTooltipView=i,this.input=t.state.facet(n),this.tooltips=this.input.filter(t=>t),this.tooltipViews=this.tooltips.map(i)}update(t){let n=t.state.facet(this.facet),i=n.filter(t=>t);if(n===this.input){for(let n of this.tooltipViews)n.update&&n.update(t);return!1}let o=[];for(let n=0;n<i.length;n++){let c=i[n],u=-1;if(c){for(let t=0;t<this.tooltips.length;t++){let n=this.tooltips[t];n&&n.create==c.create&&(u=t)}if(u<0)o[n]=this.createTooltipView(c);else{let i=o[n]=this.tooltipViews[u];i.update&&i.update(t)}}}for(let t of this.tooltipViews)0>o.indexOf(t)&&t.dom.remove();return this.input=n,this.tooltips=i,this.tooltipViews=o,!0}};function windowSpace(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}let f=c.Facet.define({combine:t=>{var n,i,o;return{position:u?"absolute":(null===(n=t.find(t=>t.position))||void 0===n?void 0:n.position)||"fixed",parent:(null===(i=t.find(t=>t.parent))||void 0===i?void 0:i.parent)||null,tooltipSpace:(null===(o=t.find(t=>t.tooltipSpace))||void 0===o?void 0:o.tooltipSpace)||windowSpace}}}),d=o.ViewPlugin.fromClass(class{constructor(t){var n;this.view=t,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let i=t.state.facet(f);this.position=i.position,this.parent=i.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new TooltipViewManager(t,v,t=>this.createTooltip(t)),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),null===(n=t.dom.ownerDocument.defaultView)||void 0===n||n.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver)for(let t of(this.intersectionObserver.disconnect(),this.manager.tooltipViews))this.intersectionObserver.observe(t.dom)}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let n=this.manager.update(t);n&&this.observeIntersection();let i=n||t.geometryChanged,o=t.state.facet(f);if(o.position!=this.position){for(let t of(this.position=o.position,this.manager.tooltipViews))t.dom.style.position=this.position;i=!0}if(o.parent!=this.parent){for(let t of(this.parent&&this.container.remove(),this.parent=o.parent,this.createContainer(),this.manager.tooltipViews))this.container.appendChild(t.dom);i=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);i&&this.maybeMeasure()}createTooltip(t){let n=t.create(this.view);if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",n.dom.appendChild(t)}return n.dom.style.position=this.position,n.dom.style.top=h,this.container.appendChild(n.dom),n.mount&&n.mount(this.view),n}destroy(){var t,n;for(let{dom:n}of(null===(t=this.view.dom.ownerDocument.defaultView)||void 0===t||t.removeEventListener("resize",this.measureSoon),this.manager.tooltipViews))n.remove();null===(n=this.intersectionObserver)||void 0===n||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect();return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((t,n)=>{let i=this.manager.tooltipViews[n];return i.getCoords?i.getCoords(t.pos):this.view.coordsAtPos(t.pos)}),size:this.manager.tooltipViews.map(({dom:t})=>t.getBoundingClientRect()),space:this.view.state.facet(f).tooltipSpace(this.view)}}writeMeasure(t){let{editor:n,space:i}=t,c=[];for(let u=0;u<this.manager.tooltips.length;u++){let f=this.manager.tooltips[u],d=this.manager.tooltipViews[u],{dom:m}=d,v=t.pos[u],y=t.size[u];if(!v||v.bottom<=Math.max(n.top,i.top)||v.top>=Math.min(n.bottom,i.bottom)||v.right<Math.max(n.left,i.left)-.1||v.left>Math.min(n.right,i.right)+.1){m.style.top=h;continue}let w=f.arrow?d.dom.querySelector(".cm-tooltip-arrow"):null,b=w?7:0,S=y.right-y.left,x=y.bottom-y.top,C=d.offset||g,_=this.view.textDirection==o.Direction.LTR,E=y.width>i.right-i.left?_?i.left:i.right-y.width:_?Math.min(v.left-(w?14:0)+C.x,i.right-S):Math.max(i.left,v.left-S+(w?14:0)-C.x),T=!!f.above;!f.strictSide&&(T?v.top-(y.bottom-y.top)-C.y<i.top:v.bottom+(y.bottom-y.top)+C.y>i.bottom)&&T==i.bottom-v.bottom>v.top-i.top&&(T=!T);let P=T?v.top-x-b-C.y:v.bottom+b+C.y,L=E+S;if(!0!==d.overlap)for(let t of c)t.left<L&&t.right>E&&t.top<P+x&&t.bottom>P&&(P=T?t.top-x-2-b:t.bottom+b+2);"absolute"==this.position?(m.style.top=P-t.parent.top+"px",m.style.left=E-t.parent.left+"px"):(m.style.top=P+"px",m.style.left=E+"px"),w&&(w.style.left=`${v.left+(_?C.x:-C.x)-(E+14-7)}px`),!0!==d.overlap&&c.push({left:E,top:P,right:L,bottom:P+x}),m.classList.toggle("cm-tooltip-above",T),m.classList.toggle("cm-tooltip-below",!T),d.positioned&&d.positioned()}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=h}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),m=o.EditorView.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),g={x:0,y:0},v=c.Facet.define({enables:[d,m]}),y=c.Facet.define();let HoverTooltipHost=class HoverTooltipHost{constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager(t,y,t=>this.createHostedView(t))}static create(t){return new HoverTooltipHost(t)}createHostedView(t){let n=t.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(n.dom),this.mounted&&n.mount&&n.mount(this.view),n}mount(t){for(let n of this.manager.tooltipViews)n.mount&&n.mount(t);this.mounted=!0}positioned(){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned()}update(t){this.manager.update(t)}};let w=v.compute([y],t=>{let n=t.facet(y).filter(t=>t);return 0===n.length?null:{pos:Math.min(...n.map(t=>t.pos)),end:Math.max(...n.filter(t=>null!=t.end).map(t=>t.end)),create:HoverTooltipHost.create,above:n[0].above,arrow:n.some(t=>t.arrow)}});let HoverPlugin=class HoverPlugin{constructor(t,n,i,o,c){this.view=t,this.source=n,this.field=i,this.setHover=o,this.hoverTime=c,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:t}=this,n=this.view.contentDOM.contains(t.target)?this.view.posAtCoords(t):null;if(null==n)return;let i=this.view.coordsAtPos(n);if(null==i||t.y<i.top||t.y>i.bottom||t.x<i.left-this.view.defaultCharacterWidth||t.x>i.right+this.view.defaultCharacterWidth)return;let c=this.view.bidiSpans(this.view.state.doc.lineAt(n)).find(t=>t.from<=n&&t.to>=n),u=c&&c.dir==o.Direction.RTL?-1:1,h=this.source(this.view,n,t.x<i.left?-u:u);if(null==h?void 0:h.then){let t=this.pending={pos:n};h.then(n=>{this.pending==t&&(this.pending=null,n&&this.view.dispatch({effects:this.setHover.of(n)}))},t=>o.logException(this.view.state,t,"hover tooltip"))}else h&&this.view.dispatch({effects:this.setHover.of(h)})}mousemove(t){var n;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let i=this.active;if(i&&!function(t){for(let n=t;n;n=n.parentNode)if(1==n.nodeType&&n.classList.contains("cm-tooltip"))return!0;return!1}(this.lastMove.target)||this.pending){let{pos:o}=i||this.pending,c=null!==(n=null==i?void 0:i.end)&&void 0!==n?n:o;(o==c?this.view.posAtCoords(this.lastMove)!=o:!function(t,n,i,o,c,u){let h=document.createRange(),f=t.domAtPos(n),d=t.domAtPos(i);h.setEnd(d.node,d.offset),h.setStart(f.node,f.offset);let m=h.getClientRects();h.detach();for(let t=0;t<m.length;t++){let n=m[t];if(6>=Math.max(n.top-c,c-n.bottom,n.left-o,o-n.right))return!0}return!1}(this.view,o,c,t.clientX,t.clientY,0))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}};let b=c.StateEffect.define(),S=b.of(null);n.closeHoverTooltips=S,n.getTooltip=function(t,n){let i=t.plugin(d);if(!i)return null;let o=i.manager.tooltips.indexOf(n);return o<0?null:i.manager.tooltipViews[o]},n.hasHoverTooltips=function(t){return t.facet(y).some(t=>t)},n.hoverTooltip=function(t,n={}){let i=c.StateEffect.define(),u=c.StateField.define({create:()=>null,update(t,o){if(t&&n.hideOnChange&&(o.docChanged||o.selection))return null;for(let t of o.effects){if(t.is(i))return t.value;if(t.is(b))return null}if(t&&o.docChanged){let n=o.changes.mapPos(t.pos,-1,c.MapMode.TrackDel);if(null==n)return null;let i=Object.assign(Object.create(null),t);return i.pos=n,null!=t.end&&(i.end=o.changes.mapPos(t.end)),i}return t},provide:t=>y.from(t)});return[u,o.ViewPlugin.define(o=>new HoverPlugin(o,t,u,i,n.hoverTime||300)),w]},n.repositionTooltips=function(t){var n;null===(n=t.plugin(d))||void 0===n||n.maybeMeasure()},n.showTooltip=v,n.tooltips=function(t={}){return f.of(t)}},6393:function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});let i=0;let Range=class Range{constructor(t,n){this.from=t,this.to=n}};let NodeProp=class NodeProp{constructor(t={}){this.id=i++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=NodeType.match(t)),n=>{let i=t(n);return void 0===i?null:[this,i]}}};NodeProp.closedBy=new NodeProp({deserialize:t=>t.split(" ")}),NodeProp.openedBy=new NodeProp({deserialize:t=>t.split(" ")}),NodeProp.group=new NodeProp({deserialize:t=>t.split(" ")}),NodeProp.contextHash=new NodeProp({perNode:!0}),NodeProp.lookAhead=new NodeProp({perNode:!0}),NodeProp.mounted=new NodeProp({perNode:!0});let MountedTree=class MountedTree{constructor(t,n,i){this.tree=t,this.overlay=n,this.parser=i}};let o=Object.create(null);let NodeType=class NodeType{constructor(t,n,i,o=0){this.name=t,this.props=n,this.id=i,this.flags=o}static define(t){let n=t.props&&t.props.length?Object.create(null):o,i=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),c=new NodeType(t.name||"",n,t.id,i);if(t.props){for(let i of t.props)if(Array.isArray(i)||(i=i(c)),i){if(i[0].perNode)throw RangeError("Can't store a per-node prop on a node type");n[i[0].id]=i[1]}}return c}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let n=this.prop(NodeProp.group);return!!n&&n.indexOf(t)>-1}return this.id==t}static match(t){let n=Object.create(null);for(let i in t)for(let o of i.split(" "))n[o]=t[i];return t=>{for(let i=t.prop(NodeProp.group),o=-1;o<(i?i.length:0);o++){let c=n[o<0?t.name:i[o]];if(c)return c}}}};NodeType.none=new NodeType("",Object.create(null),0,8);let NodeSet=class NodeSet{constructor(t){this.types=t;for(let n=0;n<t.length;n++)if(t[n].id!=n)throw RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let n=[];for(let i of this.types){let o=null;for(let n of t){let t=n(i);t&&(o||(o=Object.assign({},i.props)),o[t[0].id]=t[1])}n.push(o?new NodeType(i.name,o,i.id,i.flags):i)}return new NodeSet(n)}};let c=new WeakMap,u=new WeakMap;let Tree=class Tree{constructor(t,n,i,o,c){if(this.type=t,this.children=n,this.positions=i,this.length=o,this.props=null,c&&c.length)for(let[t,n]of(this.props=Object.create(null),c))this.props["number"==typeof t?t:t.id]=n}toString(){let t=this.prop(NodeProp.mounted);if(t&&!t.overlay)return t.tree.toString();let n="";for(let t of this.children){let i=t.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(t,n=0){let i=null!=t&&c.get(this)||this.topNode,o=new TreeCursor(i);return null!=t&&(o.moveTo(t,n),c.set(this,o._tree)),o}fullCursor(){return new TreeCursor(this.topNode,1)}get topNode(){return new TreeNode(this,0,0,null)}resolve(t,n=0){let i=resolveNode(c.get(this)||this.topNode,t,n,!1);return c.set(this,i),i}resolveInner(t,n=0){let i=resolveNode(u.get(this)||this.topNode,t,n,!0);return u.set(this,i),i}iterate(t){let{enter:n,leave:i,from:o=0,to:c=this.length}=t;for(let t=this.cursor(),get=()=>t.node;;){let u=!1;if(t.from<=c&&t.to>=o&&(t.type.isAnonymous||!1!==n(t.type,t.from,t.to,get))){if(t.firstChild())continue;t.type.isAnonymous||(u=!0)}for(;u&&i&&i(t.type,t.from,t.to,get),u=t.type.isAnonymous,!t.nextSibling();){if(!t.parent())return;u=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let n in this.props)t.push([+n,this.props[n]]);return t}balance(t={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,(t,n,i)=>new Tree(this.type,t,n,i,this.propValues),t.makeTree||((t,n,i)=>new Tree(NodeType.none,t,n,i)))}static build(t){return function(t){var n;let{buffer:i,nodeSet:o,maxBufferLength:c=1024,reused:u=[],minRepeatType:h=o.types.length}=t,f=Array.isArray(i)?new FlatBufferCursor(i,i.length):i,d=o.types,m=0,g=0;function makeRepeatLeaf(t,n,i,c,u,h,f,d){let m=[],g=[];for(;t.length>c;)m.push(t.pop()),g.push(n.pop()+i-u);t.push(makeTree(o.types[f],m,g,h-u,d-h)),n.push(u-i)}function makeTree(t,n,i,o,c=0,u){if(m){let t=[NodeProp.contextHash,m];u=u?[t].concat(u):[t]}if(c>25){let t=[NodeProp.lookAhead,c];u=u?[t].concat(u):[t]}return new Tree(t,n,i,o,u)}let v=[],y=[];for(;f.pos>0;)!function takeNode(t,n,i,v,y){let{id:w,start:b,end:S,size:x}=f,C=g;for(;x<0;){if(f.next(),-1==x){let n=u[w];i.push(n),v.push(b-t);return}if(-3==x){m=w;return}if(-4==x){g=w;return}throw RangeError(`Unrecognized record size: ${x}`)}let _=d[w],E,T,P=b-t;if(S-b<=c&&(T=function(t,n){let i=f.fork(),o=0,u=0,d=0,m=i.end-c,g={size:0,start:0,skip:0};n:for(let c=i.pos-t;i.pos>c;){let t=i.size;if(i.id==n&&t>=0){g.size=o,g.start=u,g.skip=d,d+=4,o+=4,i.next();continue}let f=i.pos-t;if(t<0||f<c||i.start<m)break;let v=i.id>=h?4:0,y=i.start;for(i.next();i.pos>f;){if(i.size<0){if(-3==i.size)v+=4;else break n}else i.id>=h&&(v+=4);i.next()}u=y,o+=t,d+=v}return(n<0||o==t)&&(g.size=o,g.start=u,g.skip=d),g.size>4?g:void 0}(f.pos-n,y))){let n=new Uint16Array(T.size-T.skip),i=f.pos-T.size,c=n.length;for(;f.pos>i;)c=function copyToBuffer(t,n,i){let{id:o,start:c,end:u,size:d}=f;if(f.next(),d>=0&&o<h){let h=i;if(d>4){let o=f.pos-(d-4);for(;f.pos>o;)i=copyToBuffer(t,n,i)}n[--i]=h,n[--i]=u-t,n[--i]=c-t,n[--i]=o}else -3==d?m=o:-4==d&&(g=o);return i}(T.start,n,c);E=new TreeBuffer(n,S-T.start,o),P=T.start-t}else{let t=f.pos-x;f.next();let n=[],i=[],o=w>=h?w:-1,u=0,d=S;for(;f.pos>t;)o>=0&&f.id==o&&f.size>=0?(f.end<=d-c&&(makeRepeatLeaf(n,i,b,u,f.end,d,o,C),u=n.length,d=f.end),f.next()):takeNode(b,t,n,i,o);if(o>=0&&u>0&&u<n.length&&makeRepeatLeaf(n,i,b,u,b,d,o,C),n.reverse(),i.reverse(),o>-1&&u>0){let t=function(t){return(n,i,o)=>{let c=0,u=n.length-1,h,f;if(u>=0&&(h=n[u])instanceof Tree){if(!u&&h.type==t&&h.length==o)return h;(f=h.prop(NodeProp.lookAhead))&&(c=i[u]+h.length+f)}return makeTree(t,n,i,o,c)}}(_);E=balanceRange(_,n,i,0,n.length,0,S-b,t,t)}else E=makeTree(_,n,i,S-b,C-S)}i.push(E),v.push(P)}(t.start||0,t.bufferStart||0,v,y,-1);let w=null!==(n=t.length)&&void 0!==n?n:v.length?y[0]+v[0].length:0;return new Tree(d[t.topID],v.reverse(),y.reverse(),w)}(t)}};Tree.empty=new Tree(NodeType.none,[],[],0);let FlatBufferCursor=class FlatBufferCursor{constructor(t,n){this.buffer=t,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}};let TreeBuffer=class TreeBuffer{constructor(t,n,i){this.buffer=t,this.length=n,this.set=i}get type(){return NodeType.none}toString(){let t=[];for(let n=0;n<this.buffer.length;)t.push(this.childString(n)),n=this.buffer[n+3];return t.join(",")}childString(t){let n=this.buffer[t],i=this.buffer[t+3],o=this.set.types[n],c=o.name;if(/\W/.test(c)&&!o.isError&&(c=JSON.stringify(c)),i==(t+=4))return c;let u=[];for(;t<i;)u.push(this.childString(t)),t=this.buffer[t+3];return c+"("+u.join(",")+")"}findChild(t,n,i,o,c){let{buffer:u}=this,h=-1;for(let f=t;f!=n&&(!checkSide(c,o,u[f+1],u[f+2])||(h=f,!(i>0)));f=u[f+3]);return h}slice(t,n,i,o){let c=this.buffer,u=new Uint16Array(n-t);for(let o=t,h=0;o<n;)u[h++]=c[o++],u[h++]=c[o++]-i,u[h++]=c[o++]-i,u[h++]=c[o++]-t;return new TreeBuffer(u,o-i,this.set)}};function checkSide(t,n,i,o){switch(t){case -2:return i<n;case -1:return o>=n&&i<n;case 0:return i<n&&o>n;case 1:return i<=n&&o>n;case 2:return o>n;case 4:return!0}}function enterUnfinishedNodesBefore(t,n){let i=t.childBefore(n);for(;i;){let n=i.lastChild;if(!n||n.to!=i.to)break;n.type.isError&&n.from==n.to?(t=i,i=n.prevSibling):i=n}return t}function resolveNode(t,n,i,o){for(var c;t.from==t.to||(i<1?t.from>=n:t.from>n)||(i>-1?t.to<=n:t.to<n);){let n=!o&&t instanceof TreeNode&&t.index<0?null:t.parent;if(!n)return t;t=n}if(o)for(let o=t,u=o.parent;u;u=(o=u).parent)o instanceof TreeNode&&o.index<0&&(null===(c=u.enter(n,i,!0))||void 0===c?void 0:c.from)!=o.from&&(t=u);for(;;){let c=t.enter(n,i,o);if(!c)return t;t=c}}let TreeNode=class TreeNode{constructor(t,n,i,o){this.node=t,this._from=n,this.index=i,this._parent=o}get type(){return this.node.type}get name(){return this.node.type.name}get from(){return this._from}get to(){return this._from+this.node.length}nextChild(t,n,i,o,c=0){for(let u=this;;){for(let{children:h,positions:f}=u.node,d=n>0?h.length:-1;t!=d;t+=n){let d=h[t],m=f[t]+u._from;if(checkSide(o,i,m,m+d.length)){if(d instanceof TreeBuffer){if(2&c)continue;let h=d.findChild(0,d.buffer.length,n,i-m,o);if(h>-1)return new BufferNode(new BufferContext(u,d,t,m),null,h)}else if(1&c||!d.type.isAnonymous||hasChild(d)){let h;if(!(1&c)&&d.props&&(h=d.prop(NodeProp.mounted))&&!h.overlay)return new TreeNode(h.tree,m,t,u);let f=new TreeNode(d,m,t,u);return 1&c||!f.type.isAnonymous?f:f.nextChild(n<0?d.children.length-1:0,n,i,o)}}}if(1&c||!u.type.isAnonymous||(t=u.index>=0?u.index+n:n<0?-1:u._parent.node.children.length,!(u=u._parent)))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this.node.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this.node.children.length-1,-1,t,-2)}enter(t,n,i=!0,o=!0){let c;if(i&&(c=this.node.prop(NodeProp.mounted))&&c.overlay){let i=t-this.from;for(let{from:t,to:o}of c.overlay)if((n>0?t<=i:t<i)&&(n<0?o>=i:o>i))return new TreeNode(c.tree,c.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,n,o?0:2)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get cursor(){return new TreeCursor(this)}get tree(){return this.node}toTree(){return this.node}resolve(t,n=0){return resolveNode(this,t,n,!1)}resolveInner(t,n=0){return resolveNode(this,t,n,!0)}enterUnfinishedNodesBefore(t){return enterUnfinishedNodesBefore(this,t)}getChild(t,n=null,i=null){let o=getChildren(this,t,n,i);return o.length?o[0]:null}getChildren(t,n=null,i=null){return getChildren(this,t,n,i)}toString(){return this.node.toString()}};function getChildren(t,n,i,o){let c=t.cursor,u=[];if(!c.firstChild())return u;if(null!=i){for(;!c.type.is(i);)if(!c.nextSibling())return u}for(;;){if(null!=o&&c.type.is(o))return u;if(c.type.is(n)&&u.push(c.node),!c.nextSibling())return null==o?u:[]}}let BufferContext=class BufferContext{constructor(t,n,i,o){this.parent=t,this.buffer=n,this.index=i,this.start=o}};let BufferNode=class BufferNode{constructor(t,n,i){this.context=t,this._parent=n,this.index=i,this.type=t.buffer.set.types[t.buffer.buffer[i]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(t,n,i){let{buffer:o}=this.context,c=o.findChild(this.index+4,o.buffer[this.index+3],t,n-this.context.start,i);return c<0?null:new BufferNode(this.context,this,c)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,n,i,o=!0){if(!o)return null;let{buffer:c}=this.context,u=c.findChild(this.index+4,c.buffer[this.index+3],n>0?1:-1,t-this.context.start,n);return u<0?null:new BufferNode(this.context,this,u)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,n=t.buffer[this.index+3];return n<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new BufferNode(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new BufferNode(this.context,this._parent,t.findChild(n,this.index,-1,0,4))}get cursor(){return new TreeCursor(this)}get tree(){return null}toTree(){let t=[],n=[],{buffer:i}=this.context,o=this.index+4,c=i.buffer[this.index+3];if(c>o){let u=i.buffer[this.index+1],h=i.buffer[this.index+2];t.push(i.slice(o,c,u,h)),n.push(0)}return new Tree(this.type,t,n,this.to-this.from)}resolve(t,n=0){return resolveNode(this,t,n,!1)}resolveInner(t,n=0){return resolveNode(this,t,n,!0)}enterUnfinishedNodesBefore(t){return enterUnfinishedNodesBefore(this,t)}toString(){return this.context.buffer.childString(this.index)}getChild(t,n=null,i=null){let o=getChildren(this,t,n,i);return o.length?o[0]:null}getChildren(t,n=null,i=null){return getChildren(this,t,n,i)}};let TreeCursor=class TreeCursor{constructor(t,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof TreeNode)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let n=t._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=t,this.yieldBuf(t.index)}}get name(){return this.type.name}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,n){this.index=t;let{start:i,buffer:o}=this.buffer;return this.type=n||o.set.types[o.buffer[t]],this.from=i+o.buffer[t+1],this.to=i+o.buffer[t+2],!0}yield(t){return!!t&&(t instanceof TreeNode?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,n,i){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree.node.children.length-1:0,t,n,i,this.mode));let{buffer:o}=this.buffer,c=o.findChild(this.index+4,o.buffer[this.index+3],t,n-this.buffer.start,i);return!(c<0)&&(this.stack.push(this.index),this.yieldBuf(c))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,n,i=!0,o=!0){return this.buffer?!!o&&this.enterChild(1,t,n):this.yield(this._tree.enter(t,n,i&&!(1&this.mode),o))}parent(){if(!this.buffer)return this.yieldNode(1&this.mode?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=1&this.mode?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:n}=this.buffer,i=this.stack.length-1;if(t<0){let t=i<0?0:this.stack[i]+4;if(this.index!=t)return this.yieldBuf(n.findChild(t,this.index,-1,0,4))}else{let t=n.buffer[this.index+3];if(t<(i<0?n.buffer.length:n.buffer[this.stack[i]+3]))return this.yieldBuf(t)}return i<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let n,i,{buffer:o}=this;if(o){if(t>0){if(this.index<o.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(o.buffer.buffer[t+3]<this.index)return!1;({index:n,parent:i}=o)}else({index:n,_parent:i}=this._tree);for(;i;{index:n,_parent:i}=i)if(n>-1)for(let o=n+t,c=t<0?-1:i.node.children.length;o!=c;o+=t){let t=i.node.children[o];if(1&this.mode||t instanceof TreeBuffer||!t.type.isAnonymous||hasChild(t))return!1}return!0}move(t,n){if(n&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,n=0){for(;(this.from==this.to||(n<1?this.from>=t:this.from>t)||(n>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,n););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,n=null,i=0;if(t&&t.context==this.buffer)n:for(let o=this.index,c=this.stack.length;c>=0;){for(let u=t;u;u=u._parent)if(u.index==o){if(o==this.index)return u;n=u,i=c+1;break n}o=this.stack[--c]}for(let t=i;t<this.stack.length;t++)n=new BufferNode(this.buffer,n,this.stack[t]);return this.bufferNode=new BufferNode(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree.node}};function hasChild(t){return t.children.some(t=>t instanceof TreeBuffer||!t.type.isAnonymous||hasChild(t))}let h=new WeakMap;function nodeSize(t,n){if(!t.isAnonymous||n instanceof TreeBuffer||n.type!=t)return 1;let i=h.get(n);if(null==i){for(let o of(i=1,n.children)){if(o.type!=t||!(o instanceof Tree)){i=1;break}i+=nodeSize(t,o)}h.set(n,i)}return i}function balanceRange(t,n,i,o,c,u,h,f,d){let m=0;for(let i=o;i<c;i++)m+=nodeSize(t,n[i]);let g=Math.ceil(1.5*m/8),v=[],y=[];return!function divide(n,i,o,c,h){for(let f=o;f<c;){let o=f,m=i[f],w=nodeSize(t,n[f]);for(f++;f<c;f++){let i=nodeSize(t,n[f]);if(w+i>=g)break;w+=i}if(f==o+1){if(w>g){let t=n[o];divide(t.children,t.positions,0,t.children.length,i[o]+h);continue}v.push(n[o])}else{let c=i[f-1]+n[f-1].length-m;v.push(balanceRange(t,n,i,o,f,m,c,null,d))}y.push(m+h-u)}}(n,i,o,c,0),(f||d)(v,y,h)}let TreeFragment=class TreeFragment{constructor(t,n,i,o,c=!1,u=!1){this.from=t,this.to=n,this.tree=i,this.offset=o,this.open=(c?1:0)|(u?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t,n=[],i=!1){let o=[new TreeFragment(0,t.length,t,0,!1,i)];for(let i of n)i.to>t.length&&o.push(i);return o}static applyChanges(t,n,i=128){if(!n.length)return t;let o=[],c=1,u=t.length?t[0]:null;for(let h=0,f=0,d=0;;h++){let m=h<n.length?n[h]:null,g=m?m.fromA:1e9;if(g-f>=i)for(;u&&u.from<g;){let n=u;if(f>=n.from||g<=n.to||d){let t=Math.max(n.from,f)-d,i=Math.min(n.to,g)-d;n=t>=i?null:new TreeFragment(t,i,n.tree,n.offset+d,h>0,!!m)}if(n&&o.push(n),u.to>g)break;u=c<t.length?t[c++]:null}if(!m)break;f=m.toA,d=m.toA-m.toB}return o}};let StringInput=class StringInput{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,n){return this.string.slice(t,n)}};let InnerParse=class InnerParse{constructor(t,n,i,o,c){this.parser=t,this.parse=n,this.overlay=i,this.target=o,this.ranges=c}};let ActiveOverlay=class ActiveOverlay{constructor(t,n,i,o,c,u,h){this.parser=t,this.predicate=n,this.mounts=i,this.index=o,this.start=c,this.target=u,this.prev=h,this.depth=0,this.ranges=[]}};let f=new NodeProp({perNode:!0});let MixedParse=class MixedParse{constructor(t,n,i,o,c){this.nest=n,this.input=i,this.fragments=o,this.ranges=c,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=t}advance(){if(this.baseParse){let t=this.baseParse.advance();if(!t)return null;if(this.baseParse=null,this.baseTree=t,this.startInner(),null!=this.stoppedAt)for(let t of this.inner)t.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let t=this.baseTree;return null!=this.stoppedAt&&(t=new Tree(t.type,t.children,t.positions,t.length,t.propValues.concat([[f,this.stoppedAt]]))),t}let t=this.inner[this.innerDone],n=t.parse.advance();if(n){this.innerDone++;let i=Object.assign(Object.create(null),t.target.props);i[NodeProp.mounted.id]=new MountedTree(n,t.overlay,t.parser),t.target.props=i}return null}get parsedPos(){if(this.baseParse)return 0;let t=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].ranges[0].from<t&&(t=Math.min(t,this.inner[n].parse.parsedPos));return t}stopAt(t){if(this.stoppedAt=t,this.baseParse)this.baseParse.stopAt(t);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(t)}startInner(){let t=new FragmentCursor(this.fragments),n=null,i=null,o=new TreeCursor(new TreeNode(this.baseTree,this.ranges[0].from,0,null),1);n:for(let c,u;null==this.stoppedAt||o.from<this.stoppedAt;){let h=!0,f;if(t.hasNode(o)){if(n){let t=n.mounts.find(t=>t.frag.from<=o.from&&t.frag.to>=o.to&&t.mount.overlay);if(t)for(let i of t.mount.overlay){let c=i.from+t.pos,u=i.to+t.pos;c>=o.from&&u<=o.to&&!n.ranges.some(t=>t.from<u&&t.to>c)&&n.ranges.push({from:c,to:u})}}h=!1}else if(i&&(u=function(t,n,i){for(let o of t){if(o.from>=i)break;if(o.to>n)return o.from<=n&&o.to>=i?2:1}return 0}(i.ranges,o.from,o.to)))h=2!=u;else if(!o.type.isAnonymous&&o.from<o.to&&(c=this.nest(o,this.input))){o.tree||function(t){let{node:n}=t,i=0;do t.parent(),i++;while(!t.tree);let o=0,c=t.tree,u=0;for(;!((u=c.positions[o]+t.from)<=n.from)||!(u+c.children[o].length>=n.to);o++);let h=c.children[o],f=h.buffer;c.children[o]=function split(t,i,o,c,d){let m=t;for(;f[m+2]+u<=n.from;)m=f[m+3];let g=[],v=[];sliceBuf(h,t,m,g,v,c);let y=f[m+1],w=f[m+2],b=y+u==n.from&&w+u==n.to&&f[m]==n.type.id;return g.push(b?n.toTree():split(m+4,f[m+3],h.set.types[f[m]],y,w-y)),v.push(y-c),sliceBuf(h,f[m+3],i,g,v,c),new Tree(o,g,v,d)}(0,f.length,NodeType.none,0,h.length);for(let o=0;o<=i;o++)t.childAfter(n.from)}(o);let u=t.findMounts(o.from,c.parser);if("function"==typeof c.overlay)n=new ActiveOverlay(c.parser,c.overlay,u,this.inner.length,o.from,o.tree,n);else{let t=punchRanges(this.ranges,c.overlay||[new Range(o.from,o.to)]);t.length&&this.inner.push(new InnerParse(c.parser,c.parser.startParse(this.input,enterFragments(u,t),t),c.overlay?c.overlay.map(t=>new Range(t.from-o.from,t.to-o.from)):null,o.tree,t)),c.overlay?t.length&&(i={ranges:t,depth:0,prev:i}):h=!1}}else n&&(f=n.predicate(o))&&(!0===f&&(f=new Range(o.from,o.to)),f.from<f.to&&n.ranges.push(f));if(h&&o.firstChild())n&&n.depth++,i&&i.depth++;else for(;!o.nextSibling();){if(!o.parent())break n;if(n&&!--n.depth){let t=punchRanges(this.ranges,n.ranges);t.length&&this.inner.splice(n.index,0,new InnerParse(n.parser,n.parser.startParse(this.input,enterFragments(n.mounts,t),t),n.ranges.map(t=>new Range(t.from-n.start,t.to-n.start)),n.target,t)),n=n.prev}!i||--i.depth||(i=i.prev)}}}};function sliceBuf(t,n,i,o,c,u){if(n<i){let h=t.buffer[n+1],f=t.buffer[i-2];o.push(t.slice(n,i,h,f)),c.push(h-u)}}let StructureCursor=class StructureCursor{constructor(t,n){this.offset=n,this.done=!1,this.cursor=t.fullCursor()}moveTo(t){let{cursor:n}=this,i=t-this.offset;for(;!this.done&&n.from<i;)n.to>=t&&n.enter(i,1,!1,!1)||n.next(!1)||(this.done=!0)}hasNode(t){if(this.moveTo(t.from),!this.done&&this.cursor.from+this.offset==t.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==t.tree)return!0;if(n.children.length&&0==n.positions[0]&&n.children[0]instanceof Tree)n=n.children[0];else break}return!1}};let FragmentCursor=class FragmentCursor{constructor(t){var n;if(this.fragments=t,this.curTo=0,this.fragI=0,t.length){let i=this.curFrag=t[0];this.curTo=null!==(n=i.tree.prop(f))&&void 0!==n?n:i.to,this.inner=new StructureCursor(i.tree,-i.offset)}else this.curFrag=this.inner=null}hasNode(t){for(;this.curFrag&&t.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=t.from&&this.curTo>=t.to&&this.inner.hasNode(t)}nextFrag(){var t;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=null!==(t=n.tree.prop(f))&&void 0!==t?t:n.to,this.inner=new StructureCursor(n.tree,-n.offset)}}findMounts(t,n){var i;let o=[];if(this.inner){this.inner.cursor.moveTo(t,1);for(let t=this.inner.cursor.node;t;t=t.parent){let c=null===(i=t.tree)||void 0===i?void 0:i.prop(NodeProp.mounted);if(c&&c.parser==n)for(let n=this.fragI;n<this.fragments.length;n++){let i=this.fragments[n];if(i.from>=t.to)break;i.tree==this.curFrag.tree&&o.push({frag:i,pos:t.from-i.offset,mount:c})}}}return o}};function punchRanges(t,n){let i=null,o=n;for(let c=1,u=0;c<t.length;c++){let h=t[c-1].to,f=t[c].from;for(;u<o.length;u++){let t=o[u];if(t.from>=f)break;!(t.to<=h)&&(i||(o=i=n.slice()),t.from<h?(i[u]=new Range(t.from,h),t.to>f&&i.splice(u+1,0,new Range(f,t.to))):t.to>f?i[u--]=new Range(f,t.to):i.splice(u--,1))}}return o}function enterFragments(t,n){let i=[];for(let{pos:o,mount:c,frag:u}of t){let t=o+(c.overlay?c.overlay[0].from:0),h=t+c.tree.length,f=Math.max(u.from,t),d=Math.min(u.to,h);if(c.overlay){let h=function(t,n,i,o){let c=0,u=0,h=!1,f=!1,d=-1e9,m=[];for(;;){let g=c==t.length?1e9:h?t[c].to:t[c].from,v=u==n.length?1e9:f?n[u].to:n[u].from;if(h!=f){let t=Math.max(d,i),n=Math.min(g,v,o);t<n&&m.push(new Range(t,n))}if(1e9==(d=Math.min(g,v)))break;g==d&&(h?(h=!1,c++):h=!0),v==d&&(f?(f=!1,u++):f=!0)}return m}(n,c.overlay.map(t=>new Range(t.from+o,t.to+o)),f,d);for(let n=0,o=f;;n++){let f=n==h.length,m=f?d:h[n].from;if(m>o&&i.push(new TreeFragment(o,m,c.tree,-t,u.from>=o,u.to<=m)),f)break;o=h[n].to}}else i.push(new TreeFragment(f,d,c.tree,-t,u.from>=t,u.to<=h))}return i}n.DefaultBufferLength=1024,n.MountedTree=MountedTree,n.NodeProp=NodeProp,n.NodeSet=NodeSet,n.NodeType=NodeType,n.Parser=class{startParse(t,n,i){return"string"==typeof t&&(t=new StringInput(t)),i=i?i.length?i.map(t=>new Range(t.from,t.to)):[new Range(0,0)]:[new Range(0,t.length)],this.createParse(t,n||[],i)}parse(t,n,i){let o=this.startParse(t,n,i);for(;;){let t=o.advance();if(t)return t}}},n.Tree=Tree,n.TreeBuffer=TreeBuffer,n.TreeCursor=TreeCursor,n.TreeFragment=TreeFragment,n.parseMixed=function(t){return(n,i,o,c)=>new MixedParse(n,t,i,o,c)}},3842:function(t){"use strict";t.exports=function(){var t=arguments[0];"string"==typeof t&&(t=document.createElement(t));var n=1,i=arguments[1];if(i&&"object"==typeof i&&null==i.nodeType&&!Array.isArray(i)){for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)){var c=i[o];"string"==typeof c?t.setAttribute(o,c):null!=c&&(t[o]=c)}n++}for(;n<arguments.length;n++)!function add(t,n){if("string"==typeof n)t.appendChild(document.createTextNode(n));else if(null==n);else if(null!=n.nodeType)t.appendChild(n);else if(Array.isArray(n))for(var i=0;i<n.length;i++)add(t,n[i]);else throw RangeError("Unsupported child node: "+n)}(t,arguments[n]);return t}},3958:function(t,n){var i="undefined"==typeof Symbol?"__":Symbol.for(""),o="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{},u=n.StyleModule=function(t,n){this.rules=[];var i=(n||{}).finish;function splitSelector(t){return/^@/.test(t)?[t]:t.split(/,\s*/)}for(var o in t)!function render(t,n,o,c){var u=[],h=/^@(\w+)\b/.exec(t[0]),f=h&&"keyframes"==h[1];if(h&&null==n)return o.push(t[0]+";");for(var d in n){var m=n[d];if(/&/.test(d))render(d.split(/,\s*/).map(function(n){return t.map(function(t){return n.replace(/&/,t)})}).reduce(function(t,n){return t.concat(n)}),m,o);else if(m&&"object"==typeof m){if(!h)throw RangeError("The value of a property ("+d+") should be a primitive value.");render(splitSelector(d),m,u,f)}else null!=m&&u.push(d.replace(/_.*/,"").replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})+": "+m+";")}(u.length||f)&&o.push((!i||h||c?t:t.map(i)).join(", ")+" {"+u.join(" ")+"}")}(splitSelector(o),t[o],this.rules)};u.prototype.getRules=function(){return this.rules.join("\n")},u.newName=function(){var t=c[i]||1;return c[i]=t+1,""+t.toString(36)},u.mount=function(t,n,i){var c=t[o],u=i&&i.nonce;c?u&&c.setNonce(u):c=new StyleSet(t,u),c.mount(Array.isArray(n)?n:[n],t)};var h=new Map,StyleSet=function(t,n){var i=t.ownerDocument||t,c=i.defaultView;if(!t.head&&t.adoptedStyleSheets&&c.CSSStyleSheet){var u=h.get(i);if(u)return t[o]=u;this.sheet=new c.CSSStyleSheet,h.set(i,this)}else this.styleTag=i.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],t[o]=this};StyleSet.prototype.mount=function(t,n){for(var i=this.sheet,o=0,c=0,u=0;u<t.length;u++){var h=t[u],f=this.modules.indexOf(h);if(f<c&&f>-1&&(this.modules.splice(f,1),c--,f=-1),-1==f){if(this.modules.splice(c++,0,h),i)for(var d=0;d<h.rules.length;d++)i.insertRule(h.rules[d],o++)}else{for(;c<f;)o+=this.modules[c++].rules.length;o+=h.rules.length,c++}}if(i)0>n.adoptedStyleSheets.indexOf(this.sheet)&&(n.adoptedStyleSheets=[this.sheet].concat(n.adoptedStyleSheets));else{for(var m="",g=0;g<this.modules.length;g++)m+=this.modules[g].getRules()+"\n";this.styleTag.textContent=m;var v=n.head||n;this.styleTag.parentNode!=v&&v.insertBefore(this.styleTag,v.firstChild)}},StyleSet.prototype.setNonce=function(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}},7155:function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});for(var i={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},c="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),u="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),h=0;h<10;h++)i[48+h]=i[96+h]=String(h);for(var h=1;h<=24;h++)i[h+111]="F"+h;for(var h=65;h<=90;h++)i[h]=String.fromCharCode(h+32),o[h]=String.fromCharCode(h);for(var f in i)o.hasOwnProperty(f)||(o[f]=i[f]);n.base=i,n.keyName=function(t){var n=!(c&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||u&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key)&&t.key||(t.shiftKey?o:i)[t.keyCode]||t.key||"Unidentified";return"Esc"==n&&(n="Escape"),"Del"==n&&(n="Delete"),"Left"==n&&(n="ArrowLeft"),"Up"==n&&(n="ArrowUp"),"Right"==n&&(n="ArrowRight"),"Down"==n&&(n="ArrowDown"),n},n.shift=o},7026:function(t,n,i){"use strict";i.d(n,{Z:function(){return function cc(t){if("string"==typeof t||"number"==typeof t)return""+t;let n="";if(Array.isArray(t))for(let i=0,o;i<t.length;i++)""!==(o=cc(t[i]))&&(n+=(n&&" ")+o);else for(let i in t)t[i]&&(n+=(n&&" ")+i);return n}}})},1222:function(t,n){"use strict";var i={value:()=>{}};function dispatch(){for(var t,n=0,i=arguments.length,o={};n<i;++n){if(!(t=arguments[n]+"")||t in o||/[\s.]/.test(t))throw Error("illegal type: "+t);o[t]=[]}return new Dispatch(o)}function Dispatch(t){this._=t}function set(t,n,o){for(var c=0,u=t.length;c<u;++c)if(t[c].name===n){t[c]=i,t=t.slice(0,c).concat(t.slice(c+1));break}return null!=o&&t.push({name:n,value:o}),t}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(t,n){var i,o=this._,c=(t+"").trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!o.hasOwnProperty(t))throw Error("unknown type: "+t);return{type:t,name:n}}),u=-1,h=c.length;if(arguments.length<2){for(;++u<h;)if((i=(t=c[u]).type)&&(i=function(t,n){for(var i,o=0,c=t.length;o<c;++o)if((i=t[o]).name===n)return i.value}(o[i],t.name)))return i;return}if(null!=n&&"function"!=typeof n)throw Error("invalid callback: "+n);for(;++u<h;)if(i=(t=c[u]).type)o[i]=set(o[i],t.name,n);else if(null==n)for(i in o)o[i]=set(o[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var i in n)t[i]=n[i].slice();return new Dispatch(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var i,o,c=Array(i),u=0;u<i;++u)c[u]=arguments[u+2];if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(o=this._[t],u=0,i=o.length;u<i;++u)o[u].value.apply(n,c)},apply:function(t,n,i){if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(var o=this._[t],c=0,u=o.length;c<u;++c)o[c].value.apply(n,i)}},n.Z=dispatch},8461:function(t,n,i){"use strict";i.d(n,{Z:function(){return drag}});var o=i(1222),c=i(7947),u=i(9398),h=i(471),f=i(8122),constant=t=>()=>t;function DragEvent(t,{sourceEvent:n,subject:i,target:o,identifier:c,active:u,x:h,y:f,dx:d,dy:m,dispatch:g}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:c,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:h,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:m,enumerable:!0,configurable:!0},_:{value:g}})}function defaultFilter(t){return!t.ctrlKey&&!t.button}function defaultContainer(){return this.parentNode}function defaultSubject(t,n){return null==n?{x:t.x,y:t.y}:n}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function drag(){var t,n,i,d,m=defaultFilter,g=defaultContainer,v=defaultSubject,y=defaultTouchable,w={},b=(0,o.Z)("start","drag","end"),S=0,x=0;function drag(t){t.on("mousedown.drag",mousedowned).filter(y).on("touchstart.drag",touchstarted).on("touchmove.drag",touchmoved,f.Q7).on("touchend.drag touchcancel.drag",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function mousedowned(o,u){if(!d&&m.call(this,o,u)){var v=beforestart(this,g.call(this,o,u),o,u,"mouse");v&&((0,c.Z)(o.view).on("mousemove.drag",mousemoved,f.Dd).on("mouseup.drag",mouseupped,f.Dd),(0,h.Z)(o.view),(0,f.rG)(o),i=!1,t=o.clientX,n=o.clientY,v("start",o))}}function mousemoved(o){if((0,f.ZP)(o),!i){var c=o.clientX-t,u=o.clientY-n;i=c*c+u*u>x}w.mouse("drag",o)}function mouseupped(t){(0,c.Z)(t.view).on("mousemove.drag mouseup.drag",null),(0,h.D)(t.view,i),(0,f.ZP)(t),w.mouse("end",t)}function touchstarted(t,n){if(m.call(this,t,n)){var i,o,c=t.changedTouches,u=g.call(this,t,n),h=c.length;for(i=0;i<h;++i)(o=beforestart(this,u,t,n,c[i].identifier,c[i]))&&((0,f.rG)(t),o("start",t,c[i]))}}function touchmoved(t){var n,i,o=t.changedTouches,c=o.length;for(n=0;n<c;++n)(i=w[o[n].identifier])&&((0,f.ZP)(t),i("drag",t,o[n]))}function touchended(t){var n,i,o=t.changedTouches,c=o.length;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),n=0;n<c;++n)(i=w[o[n].identifier])&&((0,f.rG)(t),i("end",t,o[n]))}function beforestart(t,n,i,o,c,h){var f,d,m,g=b.copy(),y=(0,u.Z)(h||i,n);if(null!=(m=v.call(t,new DragEvent("beforestart",{sourceEvent:i,target:drag,identifier:c,active:S,x:y[0],y:y[1],dx:0,dy:0,dispatch:g}),o)))return f=m.x-y[0]||0,d=m.y-y[1]||0,function gesture(i,h,v){var b,x=y;switch(i){case"start":w[c]=gesture,b=S++;break;case"end":delete w[c],--S;case"drag":y=(0,u.Z)(v||h,n),b=S}g.call(i,t,new DragEvent(i,{sourceEvent:h,subject:m,target:drag,identifier:c,active:b,x:y[0]+f,y:y[1]+d,dx:y[0]-x[0],dy:y[1]-x[1],dispatch:g}),o)}}return drag.filter=function(t){return arguments.length?(m="function"==typeof t?t:constant(!!t),drag):m},drag.container=function(t){return arguments.length?(g="function"==typeof t?t:constant(t),drag):g},drag.subject=function(t){return arguments.length?(v="function"==typeof t?t:constant(t),drag):v},drag.touchable=function(t){return arguments.length?(y="function"==typeof t?t:constant(!!t),drag):y},drag.on=function(){var t=b.on.apply(b,arguments);return t===b?drag:t},drag.clickDistance=function(t){return arguments.length?(x=(t=+t)*t,drag):Math.sqrt(x)},drag}DragEvent.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t}},471:function(t,n,i){"use strict";i.d(n,{D:function(){return yesdrag},Z:function(){return __WEBPACK_DEFAULT_EXPORT__}});var o=i(7947),c=i(8122);function __WEBPACK_DEFAULT_EXPORT__(t){var n=t.document.documentElement,i=(0,o.Z)(t).on("dragstart.drag",c.ZP,c.Dd);"onselectstart"in n?i.on("selectstart.drag",c.ZP,c.Dd):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function yesdrag(t,n){var i=t.document.documentElement,u=(0,o.Z)(t).on("dragstart.drag",null);n&&(u.on("click.drag",c.ZP,c.Dd),setTimeout(function(){u.on("click.drag",null)},0)),"onselectstart"in i?u.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}},8122:function(t,n,i){"use strict";i.d(n,{Dd:function(){return c},Q7:function(){return o},ZP:function(){return __WEBPACK_DEFAULT_EXPORT__},rG:function(){return nopropagation}});let o={passive:!1},c={capture:!0,passive:!1};function nopropagation(t){t.stopImmediatePropagation()}function __WEBPACK_DEFAULT_EXPORT__(t){t.preventDefault(),t.stopImmediatePropagation()}},5749:function(t,n,i){"use strict";function __WEBPACK_DEFAULT_EXPORT__(t){return function(){return this.matches(t)}}function childMatcher(t){return function(n){return n.matches(t)}}i.d(n,{P:function(){return childMatcher},Z:function(){return __WEBPACK_DEFAULT_EXPORT__}})},2075:function(t,n,i){"use strict";i.d(n,{Z:function(){return __WEBPACK_DEFAULT_EXPORT__}});var o=i(3246);function __WEBPACK_DEFAULT_EXPORT__(t){var n=t+="",i=n.indexOf(":");return i>=0&&"xmlns"!==(n=t.slice(0,i))&&(t=t.slice(i+1)),o.Z.hasOwnProperty(n)?{space:o.Z[n],local:t}:t}},3246:function(t,n,i){"use strict";i.d(n,{P:function(){return o}});var o="http://www.w3.org/1999/xhtml";n.Z={svg:"http://www.w3.org/2000/svg",xhtml:o,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},9398:function(t,n,i){"use strict";function pointer(t,n){if(t=function(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var i=n.ownerSVGElement||n;if(i.createSVGPoint){var o=i.createSVGPoint();return o.x=t.clientX,o.y=t.clientY,[(o=o.matrixTransform(n.getScreenCTM().inverse())).x,o.y]}if(n.getBoundingClientRect){var c=n.getBoundingClientRect();return[t.clientX-c.left-n.clientLeft,t.clientY-c.top-n.clientTop]}}return[t.pageX,t.pageY]}i.d(n,{Z:function(){return pointer}})},7947:function(t,n,i){"use strict";i.d(n,{Z:function(){return __WEBPACK_DEFAULT_EXPORT__}});var o=i(5333);function __WEBPACK_DEFAULT_EXPORT__(t){return"string"==typeof t?new o.Y1([[document.querySelector(t)]],[document.documentElement]):new o.Y1([[t]],o.Jz)}},5333:function(t,n,i){"use strict";i.d(n,{Y1:function(){return Selection},ZP:function(){return w},Jz:function(){return y}});var o=i(3763),c=i(5236),u=i(5749),h=Array.prototype.find;function childFirst(){return this.firstElementChild}var f=Array.prototype.filter;function children(){return Array.from(this.children)}function sparse(t){return Array(t.length)}function EnterNode(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function bindIndex(t,n,i,o,c,u){for(var h,f=0,d=n.length,m=u.length;f<m;++f)(h=n[f])?(h.__data__=u[f],o[f]=h):i[f]=new EnterNode(t,u[f]);for(;f<d;++f)(h=n[f])&&(c[f]=h)}function bindKey(t,n,i,o,c,u,h){var f,d,m,g=new Map,v=n.length,y=u.length,w=Array(v);for(f=0;f<v;++f)(d=n[f])&&(w[f]=m=h.call(d,d.__data__,f,n)+"",g.has(m)?c[f]=d:g.set(m,d));for(f=0;f<y;++f)m=h.call(t,u[f],f,u)+"",(d=g.get(m))?(o[f]=d,d.__data__=u[f],g.delete(m)):i[f]=new EnterNode(t,u[f]);for(f=0;f<v;++f)(d=n[f])&&g.get(w[f])===d&&(c[f]=d)}function datum(t){return t.__data__}function ascending(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}EnterNode.prototype={constructor:EnterNode,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var d=i(2075),m=i(5816);function classArray(t){return t.trim().split(/^|\s+/)}function classList(t){return t.classList||new ClassList(t)}function ClassList(t){this._node=t,this._names=classArray(t.getAttribute("class")||"")}function classedAdd(t,n){for(var i=classList(t),o=-1,c=n.length;++o<c;)i.add(n[o])}function classedRemove(t,n){for(var i=classList(t),o=-1,c=n.length;++o<c;)i.remove(n[o])}function textRemove(){this.textContent=""}function htmlRemove(){this.innerHTML=""}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}ClassList.prototype={add:function(t){0>this._names.indexOf(t)&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var g=i(3246);function creator(t){var n=(0,d.Z)(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,i=this.namespaceURI;return i===g.P&&n.documentElement.namespaceURI===g.P?n.createElement(t):n.createElementNS(i,t)}})(n)}function constantNull(){return null}function remove(){var t=this.parentNode;t&&t.removeChild(this)}function selection_cloneShallow(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function selection_cloneDeep(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function onRemove(t){return function(){var n=this.__on;if(n){for(var i,o=0,c=-1,u=n.length;o<u;++o)(i=n[o],t.type&&i.type!==t.type||i.name!==t.name)?n[++c]=i:this.removeEventListener(i.type,i.listener,i.options);++c?n.length=c:delete this.__on}}}function onAdd(t,n,i){return function(){var o,c=this.__on,listener=function(t){n.call(this,t,this.__data__)};if(c){for(var u=0,h=c.length;u<h;++u)if((o=c[u]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=listener,o.options=i),o.value=n;return}}this.addEventListener(t.type,listener,i),o={type:t.type,name:t.name,value:n,listener:listener,options:i},c?c.push(o):this.__on=[o]}}var v=i(7399);function dispatchEvent(t,n,i){var o=(0,v.Z)(t),c=o.CustomEvent;"function"==typeof c?c=new c(n,i):(c=o.document.createEvent("Event"),i?(c.initEvent(n,i.bubbles,i.cancelable),c.detail=i.detail):c.initEvent(n,!1,!1)),t.dispatchEvent(c)}var y=[null];function Selection(t,n){this._groups=t,this._parents=n}function selection(){return new Selection([[document.documentElement]],y)}Selection.prototype=selection.prototype={constructor:Selection,select:function(t){"function"!=typeof t&&(t=(0,o.Z)(t));for(var n=this._groups,i=n.length,c=Array(i),u=0;u<i;++u)for(var h,f,d=n[u],m=d.length,g=c[u]=Array(m),v=0;v<m;++v)(h=d[v])&&(f=t.call(h,h.__data__,v,d))&&("__data__"in h&&(f.__data__=h.__data__),g[v]=f);return new Selection(c,this._parents)},selectAll:function(t){if("function"==typeof t){var n;n=t,t=function(){var t;return t=n.apply(this,arguments),null==t?[]:Array.isArray(t)?t:Array.from(t)}}else t=(0,c.Z)(t);for(var i=this._groups,o=i.length,u=[],h=[],f=0;f<o;++f)for(var d,m=i[f],g=m.length,v=0;v<g;++v)(d=m[v])&&(u.push(t.call(d,d.__data__,v,m)),h.push(d));return new Selection(u,h)},selectChild:function(t){var n;return this.select(null==t?childFirst:(n="function"==typeof t?t:(0,u.P)(t),function(){return h.call(this.children,n)}))},selectChildren:function(t){var n;return this.selectAll(null==t?children:(n="function"==typeof t?t:(0,u.P)(t),function(){return f.call(this.children,n)}))},filter:function(t){"function"!=typeof t&&(t=(0,u.Z)(t));for(var n=this._groups,i=n.length,o=Array(i),c=0;c<i;++c)for(var h,f=n[c],d=f.length,m=o[c]=[],g=0;g<d;++g)(h=f[g])&&t.call(h,h.__data__,g,f)&&m.push(h);return new Selection(o,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,datum);var i=n?bindKey:bindIndex,o=this._parents,c=this._groups;"function"!=typeof t&&(_=t,t=function(){return _});for(var u=c.length,h=Array(u),f=Array(u),d=Array(u),m=0;m<u;++m){var g=o[m],v=c[m],y=v.length,w="object"==typeof(C=t.call(g,g&&g.__data__,m,o))&&"length"in C?C:Array.from(C),b=w.length,S=f[m]=Array(b),x=h[m]=Array(b);i(g,v,S,x,d[m]=Array(y),w,n);for(var C,_,E,T,P=0,L=0;P<b;++P)if(E=S[P]){for(P>=L&&(L=P+1);!(T=x[L])&&++L<b;);E._next=T||null}}return(h=new Selection(h,o))._enter=f,h._exit=d,h},enter:function(){return new Selection(this._enter||this._groups.map(sparse),this._parents)},exit:function(){return new Selection(this._exit||this._groups.map(sparse),this._parents)},join:function(t,n,i){var o=this.enter(),c=this,u=this.exit();return"function"==typeof t?(o=t(o))&&(o=o.selection()):o=o.append(t+""),null!=n&&(c=n(c))&&(c=c.selection()),null==i?u.remove():i(u),o&&c?o.merge(c).order():c},merge:function(t){for(var n=t.selection?t.selection():t,i=this._groups,o=n._groups,c=i.length,u=o.length,h=Math.min(c,u),f=Array(c),d=0;d<h;++d)for(var m,g=i[d],v=o[d],y=g.length,w=f[d]=Array(y),b=0;b<y;++b)(m=g[b]||v[b])&&(w[b]=m);for(;d<c;++d)f[d]=i[d];return new Selection(f,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,i=t.length;++n<i;)for(var o,c=t[n],u=c.length-1,h=c[u];--u>=0;)(o=c[u])&&(h&&4^o.compareDocumentPosition(h)&&h.parentNode.insertBefore(o,h),h=o);return this},sort:function(t){function compareNode(n,i){return n&&i?t(n.__data__,i.__data__):!n-!i}t||(t=ascending);for(var n=this._groups,i=n.length,o=Array(i),c=0;c<i;++c){for(var u,h=n[c],f=h.length,d=o[c]=Array(f),m=0;m<f;++m)(u=h[m])&&(d[m]=u);d.sort(compareNode)}return new Selection(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var o=t[n],c=0,u=o.length;c<u;++c){var h=o[c];if(h)return h}return null},size:function(){let t=0;for(let n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,i=0,o=n.length;i<o;++i)for(var c,u=n[i],h=0,f=u.length;h<f;++h)(c=u[h])&&t.call(c,c.__data__,h,u);return this},attr:function(t,n){var i=(0,d.Z)(t);if(arguments.length<2){var o=this.node();return i.local?o.getAttributeNS(i.space,i.local):o.getAttribute(i)}return this.each((null==n?i.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?i.local?function(t,n){return function(){var i=n.apply(this,arguments);null==i?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}:function(t,n){return function(){var i=n.apply(this,arguments);null==i?this.removeAttribute(t):this.setAttribute(t,i)}}:i.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(i,n))},style:m.Z,property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var i=n.apply(this,arguments);null==i?delete this[t]:this[t]=i}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var i=classArray(t+"");if(arguments.length<2){for(var o=classList(this.node()),c=-1,u=i.length;++c<u;)if(!o.contains(i[c]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?classedAdd:classedRemove)(this,t)}}:n?function(t){return function(){classedAdd(this,t)}}:function(t){return function(){classedRemove(this,t)}})(i,n))},text:function(t){return arguments.length?this.each(null==t?textRemove:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?htmlRemove:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(raise)},lower:function(){return this.each(lower)},append:function(t){var n="function"==typeof t?t:creator(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var i="function"==typeof t?t:creator(t),c=null==n?constantNull:"function"==typeof n?n:(0,o.Z)(n);return this.select(function(){return this.insertBefore(i.apply(this,arguments),c.apply(this,arguments)||null)})},remove:function(){return this.each(remove)},clone:function(t){return this.select(t?selection_cloneDeep:selection_cloneShallow)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,i){var o,c,u=(t+"").trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}}),h=u.length;if(arguments.length<2){var f=this.node().__on;if(f){for(var d,m=0,g=f.length;m<g;++m)for(o=0,d=f[m];o<h;++o)if((c=u[o]).type===d.type&&c.name===d.name)return d.value}return}for(o=0,f=n?onAdd:onRemove;o<h;++o)this.each(f(u[o],n,i));return this},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return dispatchEvent(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return dispatchEvent(this,t,n)}})(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var o,c=t[n],u=0,h=c.length;u<h;++u)(o=c[u])&&(yield o)}};var w=selection},5816:function(t,n,i){"use strict";i.d(n,{S:function(){return styleValue},Z:function(){return __WEBPACK_DEFAULT_EXPORT__}});var o=i(7399);function __WEBPACK_DEFAULT_EXPORT__(t,n,i){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,i){return function(){var o=n.apply(this,arguments);null==o?this.style.removeProperty(t):this.style.setProperty(t,o,i)}}:function(t,n,i){return function(){this.style.setProperty(t,n,i)}})(t,n,null==i?"":i)):styleValue(this.node(),t)}function styleValue(t,n){return t.style.getPropertyValue(n)||(0,o.Z)(t).getComputedStyle(t,null).getPropertyValue(n)}},3763:function(t,n,i){"use strict";function none(){}function __WEBPACK_DEFAULT_EXPORT__(t){return null==t?none:function(){return this.querySelector(t)}}i.d(n,{Z:function(){return __WEBPACK_DEFAULT_EXPORT__}})},5236:function(t,n,i){"use strict";function empty(){return[]}function __WEBPACK_DEFAULT_EXPORT__(t){return null==t?empty:function(){return this.querySelectorAll(t)}}i.d(n,{Z:function(){return __WEBPACK_DEFAULT_EXPORT__}})},7399:function(t,n,i){"use strict";function __WEBPACK_DEFAULT_EXPORT__(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}i.d(n,{Z:function(){return __WEBPACK_DEFAULT_EXPORT__}})},2198:function(t,n,i){"use strict";i.d(n,{sP:function(){return zoom},CR:function(){return ed}});var o,c=i(1222),u=i(471);function cosh(t){return((t=Math.exp(t))+1/t)/2}var h,f,d=function zoomRho(t,n,i){function zoom(o,c){var u,h,f=o[0],d=o[1],m=o[2],g=c[0],v=c[1],y=c[2],w=g-f,b=v-d,S=w*w+b*b;if(S<1e-12)h=Math.log(y/m)/t,u=function(n){return[f+n*w,d+n*b,m*Math.exp(t*n*h)]};else{var x=Math.sqrt(S),C=(y*y-m*m+i*S)/(2*m*n*x),_=(y*y-m*m-i*S)/(2*y*n*x),E=Math.log(Math.sqrt(C*C+1)-C);h=(Math.log(Math.sqrt(_*_+1)-_)-E)/t,u=function(i){var o,c,u=i*h,g=cosh(E),v=m/(n*x)*(g*(((o=Math.exp(2*(o=t*u+E)))-1)/(o+1))-((c=Math.exp(c=E))-1/c)/2);return[f+v*w,d+v*b,m*g/cosh(t*u+E)]}}return u.duration=1e3*h*t/Math.SQRT2,u}return zoom.rho=function(t){var n=Math.max(.001,+t),i=n*n,o=i*i;return zoomRho(n,i,o)},zoom}(Math.SQRT2,2,4),m=i(7947),g=i(9398),v=i(5333),y=0,w=0,b=0,S=0,x=0,C=0,_="object"==typeof performance&&performance.now?performance:Date,E="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function now(){return x||(E(clearNow),x=_.now()+C)}function clearNow(){x=0}function Timer(){this._call=this._time=this._next=null}function timer(t,n,i){var o=new Timer;return o.restart(t,n,i),o}function wake(){x=(S=_.now())+C,y=w=0;try{!function(){now(),++y;for(var t,n=h;n;)(t=x-n._time)>=0&&n._call.call(void 0,t),n=n._next;--y}()}finally{y=0,function(){for(var t,n,i=h,o=1/0;i;)i._call?(o>i._time&&(o=i._time),t=i,i=i._next):(n=i._next,i._next=null,i=t?t._next=n:h=n);f=t,sleep(o)}(),x=0}}function poke(){var t=_.now(),n=t-S;n>1e3&&(C-=n,S=t)}function sleep(t){!y&&(w&&(w=clearTimeout(w)),t-x>24?(t<1/0&&(w=setTimeout(wake,t-_.now()-C)),b&&(b=clearInterval(b))):(b||(S=_.now(),b=setInterval(poke,1e3)),y=1,E(wake)))}function src_timeout(t,n,i){var o=new Timer;return n=null==n?0:+n,o.restart(i=>{o.stop(),t(i+n)},n,i),o}Timer.prototype=timer.prototype={constructor:Timer,restart:function(t,n,i){if("function"!=typeof t)throw TypeError("callback is not a function");i=(null==i?now():+i)+(null==n?0:+n),this._next||f===this||(f?f._next=this:h=this,f=this),this._call=t,this._time=i,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};var T=(0,c.Z)("start","end","cancel","interrupt"),P=[];function schedule(t,n,i,o,c,u){var h=t.__transition;if(h){if(i in h)return}else t.__transition={};!function(t,n,i){var o,c=t.__transition;function start(u){var h,f,d,m;if(1!==i.state)return stop();for(h in c)if((m=c[h]).name===i.name){if(3===m.state)return src_timeout(start);4===m.state?(m.state=6,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete c[h]):+h<n&&(m.state=6,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete c[h])}if(src_timeout(function(){3===i.state&&(i.state=4,i.timer.restart(tick,i.delay,i.time),tick(u))}),i.state=2,i.on.call("start",t,t.__data__,i.index,i.group),2===i.state){for(h=0,i.state=3,o=Array(d=i.tween.length),f=-1;h<d;++h)(m=i.tween[h].value.call(t,t.__data__,i.index,i.group))&&(o[++f]=m);o.length=f+1}}function tick(n){for(var c=n<i.duration?i.ease.call(null,n/i.duration):(i.timer.restart(stop),i.state=5,1),u=-1,h=o.length;++u<h;)o[u].call(t,c);5===i.state&&(i.on.call("end",t,t.__data__,i.index,i.group),stop())}function stop(){for(var o in i.state=6,i.timer.stop(),delete c[n],c)return;delete t.__transition}c[n]=i,i.timer=timer(function(t){i.state=1,i.timer.restart(start,i.delay,i.time),i.delay<=t&&start(t-i.delay)},0,i.time)}(t,i,{name:n,index:o,group:c,on:T,tween:P,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:0})}function init(t,n){var i=get(t,n);if(i.state>0)throw Error("too late; already scheduled");return i}function set(t,n){var i=get(t,n);if(i.state>3)throw Error("too late; already running");return i}function get(t,n){var i=t.__transition;if(!i||!(i=i[n]))throw Error("transition not found");return i}function interrupt(t,n){var i,o,c,u=t.__transition,h=!0;if(u){for(c in n=null==n?null:n+"",u){if((i=u[c]).name!==n){h=!1;continue}o=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete u[c]}h&&delete t.__transition}}function number(t,n){return t=+t,n=+n,function(i){return t*(1-i)+n*i}}var L=180/Math.PI,I={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(t,n,i,o,c,u){var h,f,d;return(h=Math.sqrt(t*t+n*n))&&(t/=h,n/=h),(d=t*i+n*o)&&(i-=t*d,o-=n*d),(f=Math.sqrt(i*i+o*o))&&(i/=f,o/=f,d/=f),t*o<n*i&&(t=-t,n=-n,d=-d,h=-h),{translateX:c,translateY:u,rotate:Math.atan2(n,t)*L,skewX:Math.atan(d)*L,scaleX:h,scaleY:f}}function interpolateTransform(t,n,i,o){function pop(t){return t.length?t.pop()+" ":""}return function(c,u){var h,f,d,m,g=[],v=[];return c=t(c),u=t(u),!function(t,o,c,u,h,f){if(t!==c||o!==u){var d=h.push("translate(",null,n,null,i);f.push({i:d-4,x:number(t,c)},{i:d-2,x:number(o,u)})}else(c||u)&&h.push("translate("+c+n+u+i)}(c.translateX,c.translateY,u.translateX,u.translateY,g,v),(h=c.rotate)!==(f=u.rotate)?(h-f>180?f+=360:f-h>180&&(h+=360),v.push({i:g.push(pop(g)+"rotate(",null,o)-2,x:number(h,f)})):f&&g.push(pop(g)+"rotate("+f+o),(d=c.skewX)!==(m=u.skewX)?v.push({i:g.push(pop(g)+"skewX(",null,o)-2,x:number(d,m)}):m&&g.push(pop(g)+"skewX("+m+o),!function(t,n,i,o,c,u){if(t!==i||n!==o){var h=c.push(pop(c)+"scale(",null,",",null,")");u.push({i:h-4,x:number(t,i)},{i:h-2,x:number(n,o)})}else(1!==i||1!==o)&&c.push(pop(c)+"scale("+i+","+o+")")}(c.scaleX,c.scaleY,u.scaleX,u.scaleY,g,v),c=u=null,function(t){for(var n,i=-1,o=v.length;++i<o;)g[(n=v[i]).i]=n.x(t);return g.join("")}}}var O=interpolateTransform(function(t){let n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?I:decompose(n.a,n.b,n.c,n.d,n.e,n.f)},"px, ","px)","deg)"),N=interpolateTransform(function(t){return null==t?I:(o||(o=document.createElementNS("http://www.w3.org/2000/svg","g")),o.setAttribute("transform",t),t=o.transform.baseVal.consolidate())?decompose((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):I},", ",")",")"),B=i(2075);function tweenValue(t,n,i){var o=t._id;return t.each(function(){var t=set(this,o);(t.value||(t.value={}))[n]=i.apply(this,arguments)}),function(t){return get(t,o).value[n]}}function src_define(t,n,i){t.prototype=n.prototype=i,i.constructor=t}function extend(t,n){var i=Object.create(t.prototype);for(var o in n)i[o]=n[o];return i}function Color(){}var z="\\s*([+-]?\\d+)\\s*",V="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",H="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",U=/^#([0-9a-f]{3,8})$/,$=RegExp(`^rgb\\(${z},${z},${z}\\)$`),q=RegExp(`^rgb\\(${H},${H},${H}\\)$`),G=RegExp(`^rgba\\(${z},${z},${z},${V}\\)$`),Z=RegExp(`^rgba\\(${H},${H},${H},${V}\\)$`),Y=RegExp(`^hsl\\(${V},${H},${H}\\)$`),X=RegExp(`^hsla\\(${V},${H},${H},${V}\\)$`),J={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color(t){var n,i;return t=(t+"").trim().toLowerCase(),(n=U.exec(t))?(i=n[1].length,n=parseInt(n[1],16),6===i?rgbn(n):3===i?new Rgb(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===i?rgba(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===i?rgba(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=$.exec(t))?new Rgb(n[1],n[2],n[3],1):(n=q.exec(t))?new Rgb(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=G.exec(t))?rgba(n[1],n[2],n[3],n[4]):(n=Z.exec(t))?rgba(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Y.exec(t))?hsla(n[1],n[2]/100,n[3]/100,1):(n=X.exec(t))?hsla(n[1],n[2]/100,n[3]/100,n[4]):J.hasOwnProperty(t)?rgbn(J[t]):"transparent"===t?new Rgb(NaN,NaN,NaN,0):null}function rgbn(t){return new Rgb(t>>16&255,t>>8&255,255&t,1)}function rgba(t,n,i,o){return o<=0&&(t=n=i=NaN),new Rgb(t,n,i,o)}function color_rgb(t,n,i,o){var c;return 1==arguments.length?((c=t)instanceof Color||(c=color(c)),c)?(c=c.rgb(),new Rgb(c.r,c.g,c.b,c.opacity)):new Rgb:new Rgb(t,n,i,null==o?1:o)}function Rgb(t,n,i,o){this.r=+t,this.g=+n,this.b=+i,this.opacity=+o}function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatRgb(){let t=clampa(this.opacity);return`${1===t?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${1===t?")":`, ${t})`}`}function clampa(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function clampi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hex(t){return((t=clampi(t))<16?"0":"")+t.toString(16)}function hsla(t,n,i,o){return o<=0?t=n=i=NaN:i<=0||i>=1?t=n=NaN:n<=0&&(t=NaN),new Hsl(t,n,i,o)}function hslConvert(t){if(t instanceof Hsl)return new Hsl(t.h,t.s,t.l,t.opacity);if(t instanceof Color||(t=color(t)),!t)return new Hsl;if(t instanceof Hsl)return t;var n=(t=t.rgb()).r/255,i=t.g/255,o=t.b/255,c=Math.min(n,i,o),u=Math.max(n,i,o),h=NaN,f=u-c,d=(u+c)/2;return f?(h=n===u?(i-o)/f+(i<o)*6:i===u?(o-n)/f+2:(n-i)/f+4,f/=d<.5?u+c:2-u-c,h*=60):f=d>0&&d<1?0:h,new Hsl(h,f,d,t.opacity)}function Hsl(t,n,i,o){this.h=+t,this.s=+n,this.l=+i,this.opacity=+o}function clamph(t){return(t=(t||0)%360)<0?t+360:t}function clampt(t){return Math.max(0,Math.min(1,t||0))}function hsl2rgb(t,n,i){return(t<60?n+(i-n)*t/60:t<180?i:t<240?n+(i-n)*(240-t)/60:n)*255}function basis(t,n,i,o,c){var u=t*t,h=u*t;return((1-3*t+3*u-h)*n+(4-6*u+3*h)*i+(1+3*t+3*u-3*h)*o+h*c)/6}src_define(Color,color,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb}),src_define(Rgb,color_rgb,extend(Color,{brighter(t){return t=null==t?1.4285714285714286:Math.pow(1.4285714285714286,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:function(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),src_define(Hsl,function(t,n,i,o){return 1==arguments.length?hslConvert(t):new Hsl(t,n,i,null==o?1:o)},extend(Color,{brighter(t){return t=null==t?1.4285714285714286:Math.pow(1.4285714285714286,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,o=i+(i<.5?i:1-i)*n,c=2*i-o;return new Rgb(hsl2rgb(t>=240?t-240:t+120,c,o),hsl2rgb(t,c,o),hsl2rgb(t<120?t+240:t-120,c,o),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=clampa(this.opacity);return`${1===t?"hsl(":"hsla("}${clamph(this.h)}, ${100*clampt(this.s)}%, ${100*clampt(this.l)}%${1===t?")":`, ${t})`}`}}));var src_constant=t=>()=>t;function nogamma(t,n){var i=n-t;return i?function(n){return t+n*i}:src_constant(isNaN(t)?n:t)}var en=function rgbGamma(t){var n,i=1==(n=+(n=t))?nogamma:function(t,i){var o,c,u;return i-t?(o=t,c=i,o=Math.pow(o,u=n),c=Math.pow(c,u)-o,u=1/u,function(t){return Math.pow(o+t*c,u)}):src_constant(isNaN(t)?i:t)};function rgb(t,n){var o=i((t=color_rgb(t)).r,(n=color_rgb(n)).r),c=i(t.g,n.g),u=i(t.b,n.b),h=nogamma(t.opacity,n.opacity);return function(n){return t.r=o(n),t.g=c(n),t.b=u(n),t.opacity=h(n),t+""}}return rgb.gamma=rgbGamma,rgb}(1);function rgbSpline(t){return function(n){var i,o,c=n.length,u=Array(c),h=Array(c),f=Array(c);for(i=0;i<c;++i)o=color_rgb(n[i]),u[i]=o.r||0,h[i]=o.g||0,f[i]=o.b||0;return u=t(u),h=t(h),f=t(f),o.opacity=1,function(t){return o.r=u(t),o.g=h(t),o.b=f(t),o+""}}}rgbSpline(function(t){var n=t.length-1;return function(i){var o=i<=0?i=0:i>=1?(i=1,n-1):Math.floor(i*n),c=t[o],u=t[o+1],h=o>0?t[o-1]:2*c-u,f=o<n-1?t[o+2]:2*u-c;return basis((i-o/n)*n,h,c,u,f)}}),rgbSpline(function(t){var n=t.length;return function(i){var o=Math.floor(((i%=1)<0?++i:i)*n),c=t[(o+n-1)%n],u=t[o%n],h=t[(o+1)%n],f=t[(o+2)%n];return basis((i-o/n)*n,c,u,h,f)}});var er=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ei=RegExp(er.source,"g");function interpolate(t,n){var i;return("number"==typeof n?number:n instanceof color?en:(i=color(n))?(n=i,en):function(t,n){var i,o,c,u,h,f=er.lastIndex=ei.lastIndex=0,d=-1,m=[],g=[];for(t+="",n+="";(c=er.exec(t))&&(u=ei.exec(n));)(h=u.index)>f&&(h=n.slice(f,h),m[d]?m[d]+=h:m[++d]=h),(c=c[0])===(u=u[0])?m[d]?m[d]+=u:m[++d]=u:(m[++d]=null,g.push({i:d,x:number(c,u)})),f=ei.lastIndex;return f<n.length&&(h=n.slice(f),m[d]?m[d]+=h:m[++d]=h),m.length<2?g[0]?(i=g[0].x,function(t){return i(t)+""}):(o=n,function(){return o}):(n=g.length,function(t){for(var i,o=0;o<n;++o)m[(i=g[o]).i]=i.x(t);return m.join("")})})(t,n)}var eo=i(5749),es=i(3763),ea=i(5236),el=v.ZP.prototype.constructor,ec=i(5816);function styleRemove(t){return function(){this.style.removeProperty(t)}}var eu=0;function Transition(t,n,i,o){this._groups=t,this._parents=n,this._name=i,this._id=o}var eh=v.ZP.prototype;Transition.prototype=(function(t){return(0,v.ZP)().transition(t)}).prototype={constructor:Transition,select:function(t){var n=this._name,i=this._id;"function"!=typeof t&&(t=(0,es.Z)(t));for(var o=this._groups,c=o.length,u=Array(c),h=0;h<c;++h)for(var f,d,m=o[h],g=m.length,v=u[h]=Array(g),y=0;y<g;++y)(f=m[y])&&(d=t.call(f,f.__data__,y,m))&&("__data__"in f&&(d.__data__=f.__data__),v[y]=d,schedule(v[y],n,i,y,v,get(f,i)));return new Transition(u,this._parents,n,i)},selectAll:function(t){var n=this._name,i=this._id;"function"!=typeof t&&(t=(0,ea.Z)(t));for(var o=this._groups,c=o.length,u=[],h=[],f=0;f<c;++f)for(var d,m=o[f],g=m.length,v=0;v<g;++v)if(d=m[v]){for(var y,w=t.call(d,d.__data__,v,m),b=get(d,i),S=0,x=w.length;S<x;++S)(y=w[S])&&schedule(y,n,i,S,w,b);u.push(w),h.push(d)}return new Transition(u,h,n,i)},selectChild:eh.selectChild,selectChildren:eh.selectChildren,filter:function(t){"function"!=typeof t&&(t=(0,eo.Z)(t));for(var n=this._groups,i=n.length,o=Array(i),c=0;c<i;++c)for(var u,h=n[c],f=h.length,d=o[c]=[],m=0;m<f;++m)(u=h[m])&&t.call(u,u.__data__,m,h)&&d.push(u);return new Transition(o,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw Error();for(var n=this._groups,i=t._groups,o=n.length,c=i.length,u=Math.min(o,c),h=Array(o),f=0;f<u;++f)for(var d,m=n[f],g=i[f],v=m.length,y=h[f]=Array(v),w=0;w<v;++w)(d=m[w]||g[w])&&(y[w]=d);for(;f<o;++f)h[f]=n[f];return new Transition(h,this._parents,this._name,this._id)},selection:function(){return new el(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,i=++eu,o=this._groups,c=o.length,u=0;u<c;++u)for(var h,f=o[u],d=f.length,m=0;m<d;++m)if(h=f[m]){var g=get(h,n);schedule(h,t,i,m,f,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new Transition(o,this._parents,t,i)},call:eh.call,nodes:eh.nodes,node:eh.node,size:eh.size,empty:eh.empty,each:eh.each,on:function(t,n){var i,o,c,u=this._id;return arguments.length<2?get(this.node(),u).on.on(t):this.each((c=(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})?init:set,function(){var h=c(this,u),f=h.on;f!==i&&(o=(i=f).copy()).on(t,n),h.on=o}))},attr:function(t,n){var i=(0,B.Z)(t),o="transform"===i?N:interpolate;return this.attrTween(t,"function"==typeof n?(i.local?function(t,n,i){var o,c,u;return function(){var h,f,d=i(this);return null==d?void this.removeAttributeNS(t.space,t.local):(h=this.getAttributeNS(t.space,t.local))===(f=d+"")?null:h===o&&f===c?u:(c=f,u=n(o=h,d))}}:function(t,n,i){var o,c,u;return function(){var h,f,d=i(this);return null==d?void this.removeAttribute(t):(h=this.getAttribute(t))===(f=d+"")?null:h===o&&f===c?u:(c=f,u=n(o=h,d))}})(i,o,tweenValue(this,"attr."+t,n)):null==n?(i.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(i):(i.local?function(t,n,i){var o,c,u=i+"";return function(){var h=this.getAttributeNS(t.space,t.local);return h===u?null:h===o?c:c=n(o=h,i)}}:function(t,n,i){var o,c,u=i+"";return function(){var h=this.getAttribute(t);return h===u?null:h===o?c:c=n(o=h,i)}})(i,o,n))},attrTween:function(t,n){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw Error();var o=(0,B.Z)(t);return this.tween(i,(o.local?function(t,n){var i,o;function tween(){var c=n.apply(this,arguments);return c!==o&&(i=(o=c)&&function(n){this.setAttributeNS(t.space,t.local,c.call(this,n))}),i}return tween._value=n,tween}:function(t,n){var i,o;function tween(){var c=n.apply(this,arguments);return c!==o&&(i=(o=c)&&function(n){this.setAttribute(t,c.call(this,n))}),i}return tween._value=n,tween})(o,n))},style:function(t,n,i){var o,c,u,h,f,d,m,g,v,y,w,b,S,x,C,_,E,T,P,L,I,N="transform"==(t+="")?O:interpolate;return null==n?this.styleTween(t,(o=t,function(){var t=(0,ec.S)(this,o),n=(this.style.removeProperty(o),(0,ec.S)(this,o));return t===n?null:t===c&&n===u?h:h=N(c=t,u=n)})).on("end.style."+t,styleRemove(t)):"function"==typeof n?this.styleTween(t,(f=t,d=tweenValue(this,"style."+t,n),function(){var t=(0,ec.S)(this,f),n=d(this),i=n+"";return null==n&&(this.style.removeProperty(f),i=n=(0,ec.S)(this,f)),t===i?null:t===m&&i===g?v:(g=i,v=N(m=t,n))})).each((y=this._id,E="end."+(_="style."+(w=t)),function(){var t=set(this,y),n=t.on,i=null==t.value[_]?C||(C=styleRemove(w)):void 0;(n!==b||x!==i)&&(S=(b=n).copy()).on(E,x=i),t.on=S})):this.styleTween(t,(T=t,I=n+"",function(){var t=(0,ec.S)(this,T);return t===I?null:t===P?L:L=N(P=t,n)}),i).on("end.style."+t,null)},styleTween:function(t,n,i){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==n)return this.tween(o,null);if("function"!=typeof n)throw Error();return this.tween(o,function(t,n,i){var o,c;function tween(){var u=n.apply(this,arguments);return u!==c&&(o=(c=u)&&function(n){this.style.setProperty(t,u.call(this,n),i)}),o}return tween._value=n,tween}(t,n,null==i?"":i))},text:function(t){var n,i;return this.tween("text","function"==typeof t?(n=tweenValue(this,"text",t),function(){var t=n(this);this.textContent=null==t?"":t}):(i=null==t?"":t+"",function(){this.textContent=i}))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw Error();return this.tween(n,function(t){var n,i;function tween(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&function(t){this.textContent=o.call(this,t)}),n}return tween._value=t,tween}(t))},remove:function(){var t;return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var i in this.__transition)if(+i!==t)return;n&&n.removeChild(this)}))},tween:function(t,n){var i=this._id;if(t+="",arguments.length<2){for(var o,c=get(this.node(),i).tween,u=0,h=c.length;u<h;++u)if((o=c[u]).name===t)return o.value;return null}return this.each((null==n?function(t,n){var i,o;return function(){var c=set(this,t),u=c.tween;if(u!==i){o=i=u;for(var h=0,f=o.length;h<f;++h)if(o[h].name===n){(o=o.slice()).splice(h,1);break}}c.tween=o}}:function(t,n,i){var o,c;if("function"!=typeof i)throw Error();return function(){var u=set(this,t),h=u.tween;if(h!==o){c=(o=h).slice();for(var f={name:n,value:i},d=0,m=c.length;d<m;++d)if(c[d].name===n){c[d]=f;break}d===m&&c.push(f)}u.tween=c}})(i,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){init(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){init(this,t).delay=n}})(n,t)):get(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){set(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){set(this,t).duration=n}})(n,t)):get(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw Error();return function(){set(this,t).ease=n}}(n,t)):get(this.node(),n).ease},easeVarying:function(t){var n;if("function"!=typeof t)throw Error();return this.each((n=this._id,function(){var i=t.apply(this,arguments);if("function"!=typeof i)throw Error();set(this,n).ease=i}))},end:function(){var t,n,i=this,o=i._id,c=i.size();return new Promise(function(u,h){var f={value:h},d={value:function(){0==--c&&u()}};i.each(function(){var i=set(this,o),c=i.on;c!==t&&((n=(t=c).copy())._.cancel.push(f),n._.interrupt.push(f),n._.end.push(d)),i.on=n}),0===c&&u()})},[Symbol.iterator]:eh[Symbol.iterator]};var ef={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};v.ZP.prototype.interrupt=function(t){return this.each(function(){interrupt(this,t)})},v.ZP.prototype.transition=function(t){var n,i;t instanceof Transition?(n=t._id,t=t._name):(n=++eu,(i=ef).time=now(),t=null==t?null:t+"");for(var o=this._groups,c=o.length,u=0;u<c;++u)for(var h,f=o[u],d=f.length,m=0;m<d;++m)(h=f[m])&&schedule(h,t,n,m,f,i||function(t,n){for(var i;!(i=t.__transition)||!(i=i[n]);)if(!(t=t.parentNode))throw Error(`transition ${n} not found`);return i}(h,n));return new Transition(o,this._parents,t,n)};var d3_zoom_src_constant=t=>()=>t;function ZoomEvent(t,{sourceEvent:n,target:i,transform:o,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:c}})}function Transform(t,n,i){this.k=t,this.x=n,this.y=i}Transform.prototype={constructor:Transform,scale:function(t){return 1===t?this:new Transform(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Transform(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ed=new Transform(1,0,0);function nopropagation(t){t.stopImmediatePropagation()}function noevent(t){t.preventDefault(),t.stopImmediatePropagation()}function defaultFilter(t){return(!t.ctrlKey||"wheel"===t.type)&&!t.button}function defaultExtent(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function defaultTransform(){return this.__zoom||ed}function defaultWheelDelta(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function defaultConstrain(t,n,i){var o=t.invertX(n[0][0])-i[0][0],c=t.invertX(n[1][0])-i[1][0],u=t.invertY(n[0][1])-i[0][1],h=t.invertY(n[1][1])-i[1][1];return t.translate(c>o?(o+c)/2:Math.min(0,o)||Math.max(0,c),h>u?(u+h)/2:Math.min(0,u)||Math.max(0,h))}function zoom(){var t,n,i,o=defaultFilter,h=defaultExtent,f=defaultConstrain,v=defaultWheelDelta,y=defaultTouchable,w=[0,1/0],b=[[-1/0,-1/0],[1/0,1/0]],S=250,x=d,C=(0,c.Z)("start","zoom","end"),_=0,E=10;function zoom(t){t.property("__zoom",defaultTransform).on("wheel.zoom",wheeled,{passive:!1}).on("mousedown.zoom",mousedowned).on("dblclick.zoom",dblclicked).filter(y).on("touchstart.zoom",touchstarted).on("touchmove.zoom",touchmoved).on("touchend.zoom touchcancel.zoom",touchended).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function scale(t,n){return(n=Math.max(w[0],Math.min(w[1],n)))===t.k?t:new Transform(n,t.x,t.y)}function translate(t,n,i){var o=n[0]-i[0]*t.k,c=n[1]-i[1]*t.k;return o===t.x&&c===t.y?t:new Transform(t.k,o,c)}function centroid(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function schedule(t,n,i,o){t.on("start.zoom",function(){gesture(this,arguments).event(o).start()}).on("interrupt.zoom end.zoom",function(){gesture(this,arguments).event(o).end()}).tween("zoom",function(){var t=arguments,c=gesture(this,t).event(o),u=h.apply(this,t),f=null==i?centroid(u):"function"==typeof i?i.apply(this,t):i,d=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),m=this.__zoom,g="function"==typeof n?n.apply(this,t):n,v=x(m.invert(f).concat(d/m.k),g.invert(f).concat(d/g.k));return function(t){if(1===t)t=g;else{var n=v(t),i=d/n[2];t=new Transform(i,f[0]-n[0]*i,f[1]-n[1]*i)}c.zoom(null,t)}})}function gesture(t,n,i){return!i&&t.__zooming||new Gesture(t,n)}function Gesture(t,n){this.that=t,this.args=n,this.active=0,this.sourceEvent=null,this.extent=h.apply(t,n),this.taps=0}function wheeled(t,...n){if(o.apply(this,arguments)){var i=gesture(this,n).event(t),c=this.__zoom,u=Math.max(w[0],Math.min(w[1],c.k*Math.pow(2,v.apply(this,arguments)))),h=(0,g.Z)(t);if(i.wheel)(i.mouse[0][0]!==h[0]||i.mouse[0][1]!==h[1])&&(i.mouse[1]=c.invert(i.mouse[0]=h)),clearTimeout(i.wheel);else{if(c.k===u)return;i.mouse=[h,c.invert(h)],interrupt(this),i.start()}noevent(t),i.wheel=setTimeout(function(){i.wheel=null,i.end()},150),i.zoom("mouse",f(translate(scale(c,u),i.mouse[0],i.mouse[1]),i.extent,b))}}function mousedowned(t,...n){if(!i&&o.apply(this,arguments)){var c=t.currentTarget,h=gesture(this,n,!0).event(t),d=(0,m.Z)(t.view).on("mousemove.zoom",function(t){if(noevent(t),!h.moved){var n=t.clientX-y,i=t.clientY-w;h.moved=n*n+i*i>_}h.event(t).zoom("mouse",f(translate(h.that.__zoom,h.mouse[0]=(0,g.Z)(t,c),h.mouse[1]),h.extent,b))},!0).on("mouseup.zoom",function(t){d.on("mousemove.zoom mouseup.zoom",null),(0,u.D)(t.view,h.moved),noevent(t),h.event(t).end()},!0),v=(0,g.Z)(t,c),y=t.clientX,w=t.clientY;(0,u.Z)(t.view),nopropagation(t),h.mouse=[v,this.__zoom.invert(v)],interrupt(this),h.start()}}function dblclicked(t,...n){if(o.apply(this,arguments)){var i=this.__zoom,c=(0,g.Z)(t.changedTouches?t.changedTouches[0]:t,this),u=i.invert(c),d=i.k*(t.shiftKey?.5:2),v=f(translate(scale(i,d),c,u),h.apply(this,n),b);noevent(t),S>0?(0,m.Z)(this).transition().duration(S).call(schedule,v,c,t):(0,m.Z)(this).call(zoom.transform,v,c,t)}}function touchstarted(i,...c){if(o.apply(this,arguments)){var u,h,f,d,m=i.touches,v=m.length,y=gesture(this,c,i.changedTouches.length===v).event(i);for(nopropagation(i),h=0;h<v;++h)f=m[h],d=[d=(0,g.Z)(f,this),this.__zoom.invert(d),f.identifier],y.touch0?y.touch1||y.touch0[2]===d[2]||(y.touch1=d,y.taps=0):(y.touch0=d,u=!0,y.taps=1+!!t);t&&(t=clearTimeout(t)),u&&(y.taps<2&&(n=d[0],t=setTimeout(function(){t=null},500)),interrupt(this),y.start())}}function touchmoved(t,...n){if(this.__zooming){var i,o,c,u,h=gesture(this,n).event(t),d=t.changedTouches,m=d.length;for(noevent(t),i=0;i<m;++i)o=d[i],c=(0,g.Z)(o,this),h.touch0&&h.touch0[2]===o.identifier?h.touch0[0]=c:h.touch1&&h.touch1[2]===o.identifier&&(h.touch1[0]=c);if(o=h.that.__zoom,h.touch1){var v=h.touch0[0],y=h.touch0[1],w=h.touch1[0],S=h.touch1[1],x=(x=w[0]-v[0])*x+(x=w[1]-v[1])*x,C=(C=S[0]-y[0])*C+(C=S[1]-y[1])*C;o=scale(o,Math.sqrt(x/C)),c=[(v[0]+w[0])/2,(v[1]+w[1])/2],u=[(y[0]+S[0])/2,(y[1]+S[1])/2]}else{if(!h.touch0)return;c=h.touch0[0],u=h.touch0[1]}h.zoom("touch",f(translate(o,c,u),h.extent,b))}}function touchended(t,...o){if(this.__zooming){var c,u,h=gesture(this,o).event(t),f=t.changedTouches,d=f.length;for(nopropagation(t),i&&clearTimeout(i),i=setTimeout(function(){i=null},500),c=0;c<d;++c)u=f[c],h.touch0&&h.touch0[2]===u.identifier?delete h.touch0:h.touch1&&h.touch1[2]===u.identifier&&delete h.touch1;if(h.touch1&&!h.touch0&&(h.touch0=h.touch1,delete h.touch1),h.touch0)h.touch0[1]=this.__zoom.invert(h.touch0[0]);else if(h.end(),2===h.taps&&(u=(0,g.Z)(u,this),Math.hypot(n[0]-u[0],n[1]-u[1])<E)){var v=(0,m.Z)(this).on("dblclick.zoom");v&&v.apply(this,arguments)}}}return zoom.transform=function(t,n,i,o){var c=t.selection?t.selection():t;c.property("__zoom",defaultTransform),t!==c?schedule(t,n,i,o):c.interrupt().each(function(){gesture(this,arguments).event(o).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},zoom.scaleBy=function(t,n,i,o){zoom.scaleTo(t,function(){var t=this.__zoom.k,i="function"==typeof n?n.apply(this,arguments):n;return t*i},i,o)},zoom.scaleTo=function(t,n,i,o){zoom.transform(t,function(){var t=h.apply(this,arguments),o=this.__zoom,c=null==i?centroid(t):"function"==typeof i?i.apply(this,arguments):i,u=o.invert(c),d="function"==typeof n?n.apply(this,arguments):n;return f(translate(scale(o,d),c,u),t,b)},i,o)},zoom.translateBy=function(t,n,i,o){zoom.transform(t,function(){return f(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof i?i.apply(this,arguments):i),h.apply(this,arguments),b)},null,o)},zoom.translateTo=function(t,n,i,o,c){zoom.transform(t,function(){var t=h.apply(this,arguments),c=this.__zoom,u=null==o?centroid(t):"function"==typeof o?o.apply(this,arguments):o;return f(ed.translate(u[0],u[1]).scale(c.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof i?-i.apply(this,arguments):-i),t,b)},o,c)},Gesture.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var n=(0,m.Z)(this.that).datum();C.call(t,this.that,new ZoomEvent(t,{sourceEvent:this.sourceEvent,target:zoom,type:t,transform:this.that.__zoom,dispatch:C}),n)}},zoom.wheelDelta=function(t){return arguments.length?(v="function"==typeof t?t:d3_zoom_src_constant(+t),zoom):v},zoom.filter=function(t){return arguments.length?(o="function"==typeof t?t:d3_zoom_src_constant(!!t),zoom):o},zoom.touchable=function(t){return arguments.length?(y="function"==typeof t?t:d3_zoom_src_constant(!!t),zoom):y},zoom.extent=function(t){return arguments.length?(h="function"==typeof t?t:d3_zoom_src_constant([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),zoom):h},zoom.scaleExtent=function(t){return arguments.length?(w[0]=+t[0],w[1]=+t[1],zoom):[w[0],w[1]]},zoom.translateExtent=function(t){return arguments.length?(b[0][0]=+t[0][0],b[1][0]=+t[1][0],b[0][1]=+t[0][1],b[1][1]=+t[1][1],zoom):[[b[0][0],b[0][1]],[b[1][0],b[1][1]]]},zoom.constrain=function(t){return arguments.length?(f=t,zoom):f},zoom.duration=function(t){return arguments.length?(S=+t,zoom):S},zoom.interpolate=function(t){return arguments.length?(x=t,zoom):x},zoom.on=function(){var t=C.on.apply(C,arguments);return t===C?zoom:t},zoom.clickDistance=function(t){return arguments.length?(_=(t=+t)*t,zoom):Math.sqrt(_)},zoom.tapDistance=function(t){return arguments.length?(E=+t,zoom):E},zoom}Transform.prototype},6015:function(t,n,i){"use strict";function _arrayLikeToArray(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,o=Array(n);i<n;i++)o[i]=t[i];return o}i.d(n,{Z:function(){return _arrayLikeToArray}})},7022:function(t,n,i){"use strict";function _defineProperty(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}i.d(n,{Z:function(){return _defineProperty}})},8660:function(t,n,i){"use strict";i.d(n,{Z:function(){return _slicedToArray}});var o=i(909);function _slicedToArray(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var i,o,c=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=c){var u=[],h=!0,f=!1;try{for(c=c.call(t);!(h=(i=c.next()).done)&&(u.push(i.value),!n||u.length!==n);h=!0);}catch(t){f=!0,o=t}finally{try{h||null==c.return||c.return()}finally{if(f)throw o}}return u}}(t,n)||(0,o.Z)(t,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},909:function(t,n,i){"use strict";i.d(n,{Z:function(){return _unsupportedIterableToArray}});var o=i(6015);function _unsupportedIterableToArray(t,n){if(t){if("string"==typeof t)return(0,o.Z)(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);if("Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return(0,o.Z)(t,n)}}},4738:function(t,n,i){"use strict";i.d(n,{oR:function(){return useStore}});var o=i(2265),c=i(609);let{useDebugValue:u}=o,{useSyncExternalStoreWithSelector:h}=c,f=!1,identity=t=>t;function useStore(t,n=identity,i){i&&!f&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),f=!0);let o=h(t.subscribe,t.getState,t.getServerState||t.getInitialState,n,i);return u(o),o}},5945:function(t,n,i){"use strict";function shallow$1(t,n){if(Object.is(t,n))return!0;if("object"!=typeof t||null===t||"object"!=typeof n||null===n)return!1;if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(let[i,o]of t)if(!Object.is(o,n.get(i)))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(let i of t)if(!n.has(i))return!1;return!0}let i=Object.keys(t);if(i.length!==Object.keys(n).length)return!1;for(let o of i)if(!Object.prototype.hasOwnProperty.call(n,o)||!Object.is(t[o],n[o]))return!1;return!0}i.d(n,{X:function(){return shallow$1}})},3979:function(t,n,i){"use strict";i.d(n,{M:function(){return createStore}});let createStoreImpl=t=>{let n;let i=new Set,setState=(t,o)=>{let c="function"==typeof t?t(n):t;if(!Object.is(c,n)){let t=n;n=(null!=o?o:"object"!=typeof c||null===c)?c:Object.assign({},n,c),i.forEach(i=>i(n,t))}},getState=()=>n,o={setState,getState,getInitialState:()=>c,subscribe:t=>(i.add(t),()=>i.delete(t)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},c=n=t(setState,getState,o);return o},createStore=t=>t?createStoreImpl(t):createStoreImpl}}]);